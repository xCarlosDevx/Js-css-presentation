/*! For license information please see 931-9d76f4dd2b593dd02a10.js.LICENSE.txt */
"use strict";(self.webpackChunktimetoast=self.webpackChunktimetoast||[]).push([[931],{74803:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(21589),o=r(35161),i=r.n(o),a=r(27361),c=r.n(a);r(12450);function u(e){var t=new n.z4(n.F$),r=t.can,o=(t.cannot,t.build);if(e){void 0!==e.account_memberships&&i()(e.account_memberships,(function(e){return e.account_id}));var a=c()(e,"web_publishing");a&&r("publishTimelines"),a&&c()(e,"num_unpublished_timelines_available")>0&&r("stillPublishTimelines"),c()(e,"can_create_private")&&(r("createPrivate"),r("makePrivate","Resource",{owner_id:e.id}),r("makePrivate","Resource",{id:-1}))}return o()}},97828:function(e,t,r){r.d(t,{V:function(){return o}});var n=r(63657);function o(e){return{type:n.Z.AD_VISIBILITY_CHANGE,payload:e}}},12243:function(e,t,r){r.d(t,{o:function(){return c}});var n=r(23279),o=r.n(n),i=r(63657),a=100;function c(){return function(e){var t=o()((function(t){e({type:i.Z.WINDOW_RESIZE,payload:{width:window.innerWidth,height:window.innerHeight}})}),a);return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}}},72992:function(e,t,r){r.d(t,{B:function(){return o}});var n=r(63657);function o(e){return{type:n.Z.RECEIVE_CATEGORIES,payload:e}}},19495:function(e,t,r){r.d(t,{O:function(){return o},x:function(){return i}});var n=r(63657);function o(e){return{type:n.Z.CURRENT_COLOR_SCHEME_CHANGE,payload:e}}function i(e){return{type:n.Z.EDITABLE_COLOR_SCHEME_CHANGE,payload:e}}},46784:function(e,t,r){r.d(t,{xZ:function(){return f},wb:function(){return p}});var n=r(63657),o=r(70897),i=r(69111),a=r(69082),c=r(57781),u=r(20036);function l(e){return function(t,r){var o=(0,u.Z)(e),l=JSON.parse((new i.tQ).decode(o.text)),s=new a.V_("comments"),f=new a.V_("users");s.define({user:f});var d=(0,a.Fv)(l,{comments:(0,a.CT)(s),users:(0,a.CT)(f)});t((0,c.QH)(d.entities.users)),t(p(d.entities.comments)),t({type:n.Z.LOAD_TIMELINE_COMMENTS_SUCCESS})}}function s(e){return function(e,t){e({type:n.Z.LOAD_TIMELINE_COMMENTS_FAIL})}}function f(e){return function(t,r){t(function(e){return{type:n.Z.LOAD_TIMELINE_COMMENTS_START,payload:e}}(e)),o.Z.fetchTimelineComments(e).then((function(e){t(l(e))}),(function(e){t(s())}))}}function p(e){return{type:n.Z.RECEIVE_TIMELINE_COMMENTS,payload:e}}},57914:function(e,t,r){r.d(t,{M:function(){return c},S:function(){return u}});var n=r(84486),o=r.n(n),i=r(63657),a=r(8846);function c(e){return function(t){t({type:i.Z.RECEIVE_ENTITIES,payload:e}),function(e,t){if(e.hasOwnProperty("photo")){var r=e.photo;a.Z.startPollingIfNeeded(r,t)}if(e.hasOwnProperty("photos")){var n=e.photos;o()(n,(function(e){a.Z.startPollingIfNeeded(e,t)}))}}(e,t)}}function u(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:i.Z.REMOVE_ENTITY,payload:{entityId:e,entityType:t,parentEntityId:r,parentEntityType:n}}}},80340:function(e,t,r){r.d(t,{WZ:function(){return c},wD:function(){return u},zK:function(){return s}});var n=r(84486),o=r.n(n),i=(r(27361),r(63657)),a=r(8846);function c(e){return function(t,r){e&&(l(e,t),t({type:i.Z.RECEIVE_PHOTO,payload:e}))}}function u(e){return function(t,r){e&&(o()(e,(function(e){l(e,t)})),t({type:i.Z.RECEIVE_PHOTOS,payload:e}))}}function l(e,t){a.Z.startPollingIfNeeded(e,t)}function s(e){return{type:i.Z.PHOTO_DELETE_SUCCESS,payload:e}}},56038:function(e,t,r){r.d(t,{h:function(){return o}});var n=r(63657);function o(e){return{type:n.Z.RECEIVE_TIMELINES,payload:e}}},29006:function(e,t,r){r.d(t,{C:function(){return o}});var n=r(63657);function o(e){return{type:n.Z.RECEIVE_TIMELINE_GRID_ITEMS,payload:e}}},57342:function(e,t,r){r.d(t,{RS:function(){return m},_N:function(){return p},q4:function(){return d},x9:function(){return f}});var n=r(84486),o=r.n(n),i=r(63657),a={INFO:"TOAST_INFO",SUCCESS:"TOAST_SUCCESS",ERROR:"TOAST_ERROR",WARNING:"TOAST_WARNING"},c=r(24268);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e){return y(e,a.INFO)}function f(e){return y(e,a.SUCCESS)}function p(e){return y(e,a.ERROR)}function d(e){return function(t,r){e&&Array.isArray(e)&&o()(e,(function(e){var r=u(e,2),n=r[0],o=r[1];switch(n){case"success":t(f(o));break;case"notice":default:t(s(o));break;case"alert":t(p(o))}}))}}function m(e){return{type:i.Z.REMOVE_TOAST,payload:e}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.INFO;return{type:i.Z.ADD_TOAST,payload:{message:e,level:h(t),uid:(0,c.x0)()}}}function h(e){switch(e){case a.SUCCESS:return"success";case a.ERROR:return"error";case a.WARNING:return"warning";case a.INFO:default:return"info"}}},57781:function(e,t,r){r.d(t,{$D:function(){return c},RV:function(){return l},QH:function(){return u},bz:function(){return s}});var n=r(63657),o=r(15272),i=r(20036);function a(){return function(e,t){var r=(0,i.Z)(err.response);if(422===r.status)r.body.errors}}function c(){return function(e,t){o.Z.me().then((function(t){e(function(e){return function(t,r){t(l((0,i.Z)(e).body.data.current_user))}}(t))}),(function(t){e(a())}))}}function u(e){return{type:n.Z.RECEIVE_USERS,payload:e}}function l(e){return{type:n.Z.RECEIVE_CURRENT_USER,payload:e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:n.Z.REMOVE_USERS,payload:e}}},31287:function(e,t,r){var n=r(5826),o=r(58872),i={};t.Z={checkAbilities:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,a="check-".concat(t,":").concat(r,"-abilities-").concat(e);if(i[a])return Promise.reject(new Error(o.Z.CALL_ALREADY_IN_PROGRESS));i[a]=!0;var c={abilities:e,permissionable_type:t,permissionable_id:r};return n.Z.get("/api/v1/access",{params:c},{transformResponse:function(e){return e}}).finally((function(){delete i[a]}))}}},70897:function(e,t,r){var n=r(5826),o=r(58872),i={};t.Z={fetchTimelineComments:function(e){var t="get-timeline-comments-for-timeline-".concat(e);return i[t]?Promise.reject(new Error(o.Z.CALL_ALREADY_IN_PROGRESS)):(i[t]=!0,n.Z.get("/api/v1/timelines/".concat(e,"/comments"),{transformResponse:function(e){return e}}).finally((function(){delete i[t]})))},changeCommentsVisibility:function(e,t){var r="change-comment-visibility";if(i[r])return Promise.reject(new Error(o.Z.CALL_ALREADY_IN_PROGRESS));i[r]=!0;var a={comment_ids:e,visible:t};return n.Z.put("/api/v1/comments/bulk_change_visibility",a).finally((function(){delete i[r]}))}}},64975:function(e,t,r){var n=r(58872),o=r(5826),i=r(66073),a=r.n(i),c={};t.Z={fetchPhoto:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="fetch-photo-".concat(e);if(c[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));c[r]=!0;var i=1===t?"/api/v1/photos/".concat(e):"/api/v2/photos/".concat(e);return o.Z.get(i).finally((function(){delete c[r]}))},createPhotos:function(e,t){var r=t.maxItems,i=t.apiVersion;r=r||10,i=i||1;var u="upload-photo";if(c[u])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));c[u]=!0;var l=new FormData;a()(e,(function(e,t){t<r&&l.append("photos[][image]",e,e.name)}));var s=1===i?"/api/v1/photos":"/api/v2/photos";return o.Z.post(s,l).finally((function(){delete c[u]}))},deletePhoto:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="delete-photo-".concat(e);if(c[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));c[r]=!0;var i=1===t?"/api/v1/photos/".concat(e):"/api/v2/photos/".concat(e);return o.Z.delete(i).finally((function(){delete c[r]}))},fetchUserPhotos:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r="get-photo-page-".concat(e);if(c[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));c[r]=!0;var i=1===t?"/api/v1/photos?page=".concat(e):"/api/v2/photos?page=".concat(e);return o.Z.get(i,{transformResponse:function(e){return e}}).finally((function(){delete c[r]}))}}},14482:function(e,t,r){var n=r(78718),o=r.n(n),i=r(18721),a=r.n(i),c=r(58872),u=r(5826),l={};function s(e){var t=o()(e,["title","description","publish_status_code","access_level","category_ids","photo_ids"]);if(a()(t,"category_ids")&&(void 0!==t.category_ids&&null!==t.category_ids&&0!==t.category_ids.length||delete t.category_ids),a()(t,"photo_ids")&&0===t.photo_ids[0])throw new Error("Photo has id of 0. Don't send that to api or it'll 404");return t}t.Z={fetchTimelines:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"account",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"grid",n="load-".concat(e,"-timelines-page-").concat(t,"-as-").concat(r);return l[n]?Promise.reject(new Error(c.Z.CALL_ALREADY_IN_PROGRESS)):(l[n]=!0,u.Z.get("/api/v1/timelines?mode=".concat(e,"&page=").concat(t,"&type=").concat(r),{transformResponse:function(e){return e}}).finally((function(){delete l[n]})))},fetchGroupTimelines:function(e,t){var r="load-group-timelines--group-${groupId}-page-${page}";return l[r]?Promise.reject(new Error(c.Z.CALL_ALREADY_IN_PROGRESS)):(l[r]=!0,u.Z.get("/api/v1/groups/".concat(e,"/timelines?type=grid&page=").concat(t),{transformResponse:function(e){return e}}).finally((function(){delete l[r]})))},createTimeline:function(e){var t="post-timelines";if(l[t])return Promise.reject(new Error(c.Z.CALL_ALREADY_IN_PROGRESS));l[t]=!0;var r={timeline:s(e)};return u.Z.post("/api/v1/timelines",r,{transformResponse:function(e){return e}}).finally((function(){delete l[t]}))},updateTimeline:function(e){var t="put-timeline-".concat(e.id);if(l[t])return Promise.reject(new Error(c.Z.CALL_ALREADY_IN_PROGRESS));l[t]=!0;var r={timeline:s(e)};return u.Z.put("/api/v1/timelines/".concat(e.id),r,{transformResponse:function(e){return e}}).finally((function(){delete l[t]}))}}},15272:function(e,t,r){var n=r(58872),o=r(5826),i={};t.Z={me:function(){var e="get-me";return i[e]?Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS)):(i[e]=!0,o.Z.get("/api/v1/users/me").finally((function(){delete i[e]})))},bulkGenerate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a="post-bulk-generate";if(i[a])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));i[a]=!0;var c={num_users:e,allow_web_publishing:r};return t&&(c.group_id=t),o.Z.post("/api/v1/users/bulk_generate",c).finally((function(){delete i[a]}))},enableWebPublishing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="put-enable-web-publishing";if(i[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));i[r]=!0;var a={user_ids:t};return o.Z.put(e,a).finally((function(){delete i[r]}))},disableWebPublishing:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="put-disable-web-publishing";if(i[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));i[r]=!0;var a={user_ids:t};return o.Z.put(e,a).finally((function(){delete i[r]}))},bulkDelete:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r="delete-bulk-delete";if(i[r])return Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS));i[r]=!0;var a={user_ids:t};return o.Z.delete(e,{data:a}).finally((function(){delete i[r]}))},deleteUser:function(e){var t="delete-user";return i[t]?Promise.reject(new Error(n.Z.CALL_ALREADY_IN_PROGRESS)):(i[t]=!0,o.Z.delete("/api/v1/users/".concat(e)).finally((function(){delete i[t]})))}}},35388:function(e,t,r){r.d(t,{N:function(){return i}});var n=r(67294),o=r(80782),i=(0,n.createContext)((0,o.yi)())},5826:function(e,t,r){var n=r(52861),o=r(41993),i=n.Z.create({headers:{common:{"X-CSRF-Token":(0,o.Z)()}}});t.Z=i},55808:function(e,t,r){r.d(t,{Z:function(){return g}});var n=r(68929),o=r.n(n),i=r(1469),a=r.n(i),c=r(45220),u=r.n(c),l=r(3674),s=r.n(l),f=r(82492),p=r.n(f);function d(e){return a()(e)?e:[e]}function m(e){if(null===e||"object"!==typeof e||function(e){return"[object Date]"===Object.prototype.toString.call(e)}(e))return e;if(a()(e))return e.map(m);var t={};return s()(e).forEach((function(r){t[o()(r)]=m(e[r])})),t}function y(e,t){var r=t.camelizeKeys,n=t.camelizeTypeValues,i={};return s()(e).forEach((function(t){var c=e[t],l=r?o()(t):t;i[l]={},"undefined"!==typeof c.data&&(a()(c.data)?i[l].data=c.data.map((function(e){return{id:e.id,type:n?o()(e.type):e.type}})):u()(c.data)?i[l].data=c.data:i[l].data={id:c.data.id,type:n?o()(c.data.type):c.data.type}),c.links&&(i[l].links=r?m(c.links):c.links),c.meta&&(i[l].meta=r?m(c.meta):c.meta)})),i}function h(e,t){if(t.camelizeKeys){var r={};return s()(e).forEach((function(t){r[o()(t)]=m(e[t])})),r}return e}function v(e,t){var r=t.camelizeKeys,n=t.camelizeTypeValues,i={};return d(e).forEach((function(e){var t=r?o()(e.type):e.type;i[t]=i[t]||{},i[t][e.id]=i[t][e.id]||{id:e.id},i[t][e.id].type=n?o()(e.type):e.type,r?(i[t][e.id].attributes={},s()(e.attributes).forEach((function(r){i[t][e.id].attributes[o()(r)]=m(e.attributes[r])}))):i[t][e.id].attributes=e.attributes,e.links&&(i[t][e.id].links={},s()(e.links).forEach((function(n){var a=r?o()(n):n;i[t][e.id].links[a]=e.links[n]}))),e.relationships&&(i[t][e.id].relationships=y(e.relationships,{camelizeKeys:r,camelizeTypeValues:n})),e.meta&&(i[t][e.id].meta=h(e.meta,{camelizeKeys:r}))})),i}function b(e){return e.replace(/\?.*$/,"")}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.filterEndpoint,n=void 0===r||r,i=t.camelizeKeys,a=void 0===i||i,c=t.camelizeTypeValues,u=void 0===c||c,l=t.endpoint,s={};if(e.data&&p()(s,v(e.data,{camelizeKeys:a,camelizeTypeValues:u})),e.included&&p()(s,v(e.included,{camelizeKeys:a,camelizeTypeValues:u})),l){var f=n?b(l):l;p()(s,function(e,t,r){var n,i=r.camelizeKeys,a=r.camelizeTypeValues,c=r.filterEndpoint,u={meta:{}};if(c)u.meta[t]={},n=u.meta[t];else{var l=b(t);u.meta[l]={},u.meta[l][t.slice(l.length)]={},n=u.meta[l][t.slice(l.length)]}if(n.data={},e.data){var s=[];d(e.data).forEach((function(e){var t={id:e.id,type:a?o()(e.type):e.type};e.relationships&&(t.relationships=y(e.relationships,{camelizeKeys:i,camelizeTypeValues:a})),s.push(t)})),n.data=s}return e.links&&(n.links=e.links,u.meta[b(t)].links=e.links),e.meta&&(n.meta=h(e.meta,{camelizeKeys:i})),u}(e,f,{camelizeKeys:a,camelizeTypeValues:u,filterEndpoint:n}))}return s}},20036:function(e,t){t.Z=function(e){return new Proxy(e,{get:function(e,t){var r;switch(t){case"body":r=e.data;break;case"text":if("string"!==typeof e.data)throw new Error("Tried to access unparsed data, but the response object was parsed into JSON already");r=e.data;break;default:r=e[t]}return r}})}},13812:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(34567),o=r(64721),i=r.n(o),a=r(32475),c=r.n(a),u=r(27827),l=r(48351);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var d=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.temporal=null,this.yearOnly=!1,this.isBC=!1,t){var r=typeof t;switch(r){case"number":var o=n.AT.Instant.fromEpochMilliseconds(t);this.temporal=o.toZonedDateTimeISO("UTC");break;case"object":t instanceof n.AT.ZonedDateTime?this.temporal=t:t instanceof n.AT.Instant||t instanceof n.AT.PlainDate?this.temporal=t.toZonedDateTime("UTC"):console.warn("Unexpected argument with classname ".concat(objClass," passed to TimetoastTemporal constructor"));break;default:console.warn("Unexpected argument type ".concat(r," passed to constructor"))}this.updateIsBC()}}var t,r,o;return t=e,o=[{key:"parse",value:function(t){if(null===t||void 0===t)throw new Error("Can't parse ".concat(t," into a TimetoastTemporal"));var r,o,a,l,s=new e,f=typeof t;switch("object"===f&&t instanceof n.AT.ZonedDateTime&&(f="ZonedDateTime"),f){case"string":var p="-"===t.charAt(0),d=p?t.substring(1):t;if(o=d.split(/[- :]/),i()(t,"T"))if(l=parseInt(o[0]),(a=p?-l:l)<9999)try{var m;if(p)if(o[0].length<6){var y=d.split(/[T]/),h=y[0].split(/-/);h[0]=c()(h[0],6,"0");var v="-".concat(h.join("-"),"T").concat(y[1]);m=n.AT.Instant.from(v)}else m=n.AT.Instant.from(t);else m=n.AT.Instant.from(t);s.temporal=m.toZonedDateTimeISO("UTC")}catch(C){console.warn("Failed to parse that ISO 8601 string, manually create a zoned date time and turn that into an instant");var b=a<u._p;r=n.AT.ZonedDateTime.from({timeZone:"UTC",year:a,month:b?1:o[1],day:b?1:o[2],hour:b?0:o[3],minute:b?0:o[4],second:b?0:o[5]}),s.temporal=r,s.yearOnly=b}else{var g,E=d.split("T"),w=E[0],O=E[1],_=w.split("-");if(i()(O,"Z"))g=O.split("Z")[0].split(":"),r=n.AT.ZonedDateTime.from({timeZone:"UTC",year:a,month:_[1],day:_[2],hour:g[0],minute:g[1],second:g[2],millisecond:g[3]}),s.temporal=r;else if(i()(O,"+")||i()("-"))throw new Error("TBI...")}else{l=parseInt(o[0]);var P=p?-l:l,S=1===o.length||P<u._p;s.yearOnly=S,r=n.AT.PlainDate.from({year:P,month:S?1:o[1],day:S?1:o[2]}).toZonedDateTime("UTC"),s.temporal=r}break;case"number":var j=n.AT.Instant.fromEpochMilliseconds(t);s.temporal=j.toZonedDateTimeISO("UTC");break;case"ZonedDateTime":s.temporal=t;break;default:throw new Error("You were trying to parse --\x3e".concat(t,"<-- which was --\x3e").concat(f,"<-- and is not yet supported."))}return s.updateIsBC(),s}},{key:"fromUTC",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1901,r=t<100||t>9999,o=t;r&&(o=1978);var i={timeZone:"UTC",year:o,month:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,day:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,hour:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,minute:arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,second:arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,millisecond:arguments.length>6&&void 0!==arguments[6]?arguments[6]:0},a=n.AT.ZonedDateTime.from(i);return r&&(a=a.with({year:t})),new e(a)}}],(r=[{key:"getTime",value:function(){var e=null;return this.temporal&&(this.temporal instanceof n.AT.PlainDate?e=this.temporal.toZonedDateTime("UTC").epochMilliseconds:this.temporal instanceof n.AT.ZonedDateTime||this.temporal instanceof n.AT.Instant?e=this.temporal.epochMilliseconds:console.warn("Unsupported object")),e}},{key:"toString",value:function(){return this.temporal.toString()}},{key:"toUTCDateTimeString",value:function(){return(0,l.toUTCDateTimeString)(this.temporal)}},{key:"updateIsBC",value:function(){if(this.temporal)try{if(this.temporal instanceof n.AT.PlainDate)this.isBC=this.temporal.year<=0;else if(this.temporal instanceof n.AT.Instant){var e=this.temporal.toZonedDateTimeISO("UTC");this.isBC="bce"===e.withCalendar("gregory").era}else{if(!(this.temporal instanceof n.AT.ZonedDateTime))throw"Don't know how to deal with temporal instance ".concat(this.temporal);this.isBC="bce"===this.temporal.withCalendar("gregory").era}}catch(t){this.isBC=this.temporal.year<=0}}}])&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();f(d,"MS_MIN",-864e13),f(d,"MS_MAX",864e13)},81683:function(e,t,r){r.d(t,{v:function(){return i}});var n=r(67294),o=r(22490),i=(0,n.createContext)();(0,o.M4)(i.Consumer)},59074:function(e,t,r){var n=r(67294),o=r(14002),i=r(50308),a=function(e){var t=e.className,r=e.onClick,i=e.ariaLabel,a=e.innerRef;return n.createElement(o.Z,{className:t,"aria-label":i,onClick:r,ref:a},n.createElement("span",{className:"hit-area-wrapper"},n.createElement("div",{className:"hit-area-container"},n.createElement("div",{className:"hit-area"}))),n.createElement("span",{className:"dot-menu-icon__dot"}),n.createElement("span",{className:"dot-menu-icon__dot"}),n.createElement("span",{className:"dot-menu-icon__dot"}))};a.defaultProps={className:"dot-menu-icon min-mobile-hit-area",ariaLabel:"",onClick:r.n(i)()},t.Z=a},34433:function(e,t,r){var n=r(67294),o=r(50308),i=r.n(o),a=r(45697),c=r.n(a),u=r(94993),l=r(55863),s=r(88301);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e){var t=e.children,r=e.placement,o=e.controlVisibility,i=e.triggerOnReferenceClick,a=e.onDismiss,c=e.onOpen,s=e.middleware,f=p((0,n.useState)(!1),2),d=f[0],m=f[1];(0,n.useEffect)((function(){null!==o&&m(o)}),[o]);var y=function(e){m(e),!e&&a&&a(),e&&c&&c()},h=(0,u.YF)({open:d,onOpenChange:y,placement:r,middleware:s,whileElementsMounted:l.Me}),v=h.refs,b=h.floatingStyles,g=h.context,E=(0,u.bQ)(g),w=(0,u.NI)([E]),O=w.getReferenceProps,_=w.getFloatingProps,P=function(){y(!d)};return n.createElement(n.Fragment,null,n.Children.map(t,(function(e){return n.cloneElement(e,{refs:v,floatingStyles:b,getFloatingProps:_,getReferenceProps:O,popoverVisible:d,onTrigger:i?P:null})})))};m.defaultProps={placement:"right",children:null,onDismiss:null,onTrigger:null,middleware:[(0,s.RR)(),(0,s.uY)()],controlVisibility:null,triggerOnReferenceClick:!0},(m.Reference=function(e){var t=e.children,r=e.className,o=e.refs,a=e.getReferenceProps,c=e.onTrigger,u=n.Children.count(t),l=t;if(null!==c){if(0===u)return null;if(u>1)!function(e){throw new TypeError('"'+e+'" is read-only')}("referenceClickHandler"),l=t;else{var s=n.Children.toArray(t)[0];(s.props&&null===s.props.onClick||s.props.onClick===i())&&(s=n.cloneElement(s,{onClick:c})),l=s}}return n.createElement("span",f({ref:o.setReference,onClick:null},a(),{className:r}),l)}).propTypes={className:c().string,children:c().node,refs:c().object,getReferenceProps:c().func},m.Reference.defaultProps={className:null,children:null},(m.Content=function(e){var t=e.children,r=e.className,o=e.refs,i=e.floatingStyles,a=e.getFloatingProps;return e.popoverVisible?n.createElement("div",f({ref:o.setFloating,style:i},a(),{className:r}),t):null}).propTypes={className:c().string,children:c().node,popoverVisible:c().bool,refs:c().object,floatingStyles:c().object,getFloatingProps:c().func},m.Content.defaultProps={className:"popover popover--opaque popover--padded",children:null,popoverVisible:!1},t.Z=m},33274:function(e,t,r){var n=r(67294),o=r(59416),i=r(97147),a=r(60068),c=r(36636);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var s=i.Nw.saveEntity,f=i.wl.selectEntityRequestStatus,p=i.wl.selectEntityRequestError;t.Z=function(e){var t=e.timeline,r=t.id,i=(0,o.I0)(),l=u((0,n.useState)(t.publish_status_code),2),d=l[0],m=l[1],y=((0,o.v9)((function(e){return f(e,{id:r,type:"timeline"})})),(0,o.v9)((function(e){return p(e,{id:r,type:"timeline"})}))||{}),h=y.publish_status_code?y.publish_status_code:[];return n.createElement(a.Z,{errors:h},n.createElement(c.Z,{checkedLabel:"Published",uncheckedLabel:"Draft",checkedValue:1,uncheckedValue:0,value:d,onChange:function(e){m(e),i(s({id:t.id,attributes:{id:t.id,publish_status_code:e},type:"timeline"}))},className:"labelled-switch labelled-switch--small"}),n.createElement("div",{className:"clearfix"}))}},14002:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(67294);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(l,e);var t,r,c,u=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){return n.createElement("button",this.props,this.props.children)}}])&&o(t.prototype,r),c&&o(t,c),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.PureComponent);u.defaultProps={disabled:!1,name:"",type:"button",className:null,onClick:null}},99301:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(67294),o=r(50308),i=r.n(o),a=r(33203),c=r(11327);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,r,o,i=s(p);function p(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(f(e=i.call.apply(i,[this].concat(r))),"handleChevronClick",(function(t){var r=e.props.onClickChevron;t.preventDefault(),r()})),e}return t=p,(r=[{key:"render",value:function(){var e=this.props,t=e.onChange,r=e.checked,o=e.indeterminate;return n.createElement(a.Z,{className:"control-small control-small--select-all-form control-small--select-all-form--with-chevron",ignoreMissingSubmitHandler:!0},n.createElement("div",{className:"checkbox-chevron-container"},n.createElement("div",{className:"checkbox-container"},n.createElement(c.Z,{onChange:t,checked:r,indeterminate:o})),n.createElement("div",{className:"chevron-container"},n.createElement("a",{className:"chevron",onClick:this.handleChevronClick},"\u25be"))))}}])&&u(t.prototype,r),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component);d(y,"defaultProps",{checked:!1,indeterminate:!1,onChange:i(),onClickChevron:i()})},60068:function(e,t,r){r.d(t,{Z:function(){return P}});var n=r(67294),o=r(35161),i=r.n(o),a=r(10593),c=r(70666),u=r(94184),l=r.n(u);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,r,o,i=p(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props.type,t=l()("message","message--".concat(e));return n.createElement("span",{className:t},this.props.children)}}])&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);m.defaultProps={type:"info"};var y=r(50740);function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function v(e,t){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},v(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function E(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var w,O,_,P=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&v(e,t)}(l,e);var t,r,o,u=b(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return t=l,(r=[{key:"getErrorMessagesContent",value:function(){var e=this.props.errors;if(e.length>0){var t=i()(e,(function(e,t){var r="list-item-".concat(t);return n.createElement("li",{className:"messages-list__list-item",key:r},n.createElement(m,{type:"error"},(0,y.kC)(e)))}));return n.createElement(a.Z,{classNames:"fade-in-out",timeout:600},n.createElement("ul",{className:"unstyled-list messages-list"},t))}return null}},{key:"render",value:function(){var e=this.getErrorMessagesContent();return n.createElement("div",null,this.props.children,n.createElement(c.Z,null,e))}}])&&h(t.prototype,r),o&&h(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);w=P,_={errors:[]},(O=E(O="defaultProps"))in w?Object.defineProperty(w,O,{value:_,enumerable:!0,configurable:!0,writable:!0}):w[O]=_},11327:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(67294),o=r(50308),i=r.n(o),a=r(57463);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=f(e);if(t){var o=f(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return s(e)}(this,r)}}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return f=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},f(e)}function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(f,e);var t,r,o,i=l(f);function f(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=i.call.apply(i,[this].concat(a)),t=s(e),n=function(t){var r=e.props,n=r.name;(0,r.onChange)({name:n,value:t.value,checked:t.checked})},(r=p(r="handleChange"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=f,(r=[{key:"render",value:function(){var e=this.props,t=e.id,r=e.name,o=e.className,i=e.checked,c=e.value,u=e.indeterminate,l=e.disabled;return n.createElement(a.Z,{id:t,name:r,className:o,indeterminate:u,type:"checkbox",onChange:this.handleChange,checked:i,value:c,disabled:l})}}])&&c(t.prototype,r),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),f}(n.Component);d.defaultProps={id:null,name:null,value:"",className:null,onChange:i(),checked:!1,indeterminate:!1,disabled:!1}},33203:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(67294);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=u(e);if(t){var o=u(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return c(e)}(this,r)}}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t,r){return(t=s(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(f,e);var t,r,u,s=a(f);function f(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),l(c(t=s.call(this,e)),"handleSubmit",(function(e){var r=t.props.onSubmit;r&&r(e)})),t.$formRef=(0,n.createRef)(),t.checkMissingSubmitHandler(),t}return t=f,(r=[{key:"submit",value:function(){this.$formRef.current.submit()}},{key:"checkMissingSubmitHandler",value:function(){var e=this.props,t=e.action,r=e.onSubmit,n=e.ignoreMissingSubmitHandler;if(!r&&!n)throw new Error("A form component is missing onSubmit handler, it will submit to ".concat(t," when hitting return."))}},{key:"render",value:function(){var e=this.props,t=e.action,r=e.method,o=(e.onSubmit,e.className),i=e.acceptCharset,a=e.children;return n.createElement("form",{onSubmit:this.handleSubmit,className:o,acceptCharset:i,action:t,method:r,ref:this.$formRef},a)}}])&&o(t.prototype,r),u&&o(t,u),Object.defineProperty(t,"prototype",{writable:!1}),f}(n.Component);l(f,"defaultProps",{className:null,action:null,method:"post",acceptCharset:"UTF-8",onSubmit:null,ignoreMissingSubmitHandler:!1})},46295:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(67294),o=r(94184),i=r.n(o),a=r(60068);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(p,e);var t,r,o,s=l(p);function p(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),s.apply(this,arguments)}return t=p,(r=[{key:"getErrors",value:function(){var e=this.props,t=e.externalErrors,r=e.validationErrors;return t=t||[],(r=r||[]).length>0?r:t.length>0?t:[]}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.errorsClassName,o=this.getErrors(),c=i()(t,f({},r,o.length>0));return n.createElement("div",{className:c},n.createElement(a.Z,{errors:o},this.props.children))}}])&&c(t.prototype,r),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component);f(d,"defaultProps",{externalErrors:[],validationErrors:[],className:"form-group",errorsClassName:"form-group--error"})},57463:function(e,t,r){r.d(t,{Z:function(){return d}});var n=r(67294),o=r(50308),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,p(n.key),n)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return l(e)}(this,r)}}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function f(e,t,r){return(t=p(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,o,i=u(s);function s(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),f(l(t=i.call(this,e)),"handleChange",(function(e){var r=t.props.name,n=e.target,o={name:r,value:n.value,checked:n.checked};t.props.onChange(o)})),t.$inputRef=(0,n.createRef)(),t}return t=s,(r=[{key:"componentDidMount",value:function(){var e=this.props.indeterminate;this.$inputRef.current.indeterminate=e}},{key:"componentDidUpdate",value:function(e,t){var r=this.props.indeterminate;this.$inputRef.current.indeterminate=r}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.name,o=e.value,i=e.className,a=e.type,c=e.spellCheck,u=e.step,l=e.checked,s=e.placeholder,f=e.autoFocus,p=e.readOnly,d=e.disabled,m=e.onBlur,y=e.onKeyDown;return n.createElement("input",{className:i,id:t,name:r,value:o,type:a,spellCheck:c,step:u,checked:l,onChange:this.handleChange,onBlur:m,onKeyDown:y,placeholder:s,autoFocus:f,readOnly:p,disabled:d,ref:this.$inputRef})}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.Component);f(d,"defaultProps",{id:null,name:null,value:null,spellCheck:null,type:"text",step:null,className:"input",checked:null,onChange:i(),onBlur:i(),autoFocus:!1,placeholder:null,readOnly:!1,indeterminate:!1,disabled:!1})},94308:function(e,t,r){r.d(t,{Z:function(){return u}});var n=r(67294);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function i(e,t){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},i(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=c(e);if(t){var o=c(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)}(l,e);var t,r,c,u=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),u.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.htmlFor,o=e.className;return n.createElement("label",{htmlFor:r,className:o},t)}}])&&o(t.prototype,r),c&&o(t,c),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);u.defaultProps={className:null,htmlFor:null}},6031:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(67294),o=r(35161),i=r.n(o),a=r(50308),c=r.n(a);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(c,e);var t,r,o,a=s(c);function c(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return d(f(e=a.call.apply(a,[this].concat(r))),"handleChange",(function(t){var r=e.props.onChange,n=t.target;r({name:n.name,value:n.value})})),e}return t=c,(r=[{key:"getOptions",value:function(){var e=this.props.options;return i()(e,(function(e){var t=e.value,r=e.text;return n.createElement("option",{key:t,value:t},r)}))}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.name,o=e.className,i=e.value,a=e.disabled,c=this.getOptions();return n.createElement("select",{className:o,id:t,name:r,onChange:this.handleChange,type:"text",value:i,disabled:a},c)}}])&&u(t.prototype,r),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);d(y,"defaultProps",{id:"",name:"",className:null,value:null,onChange:c(),disabled:null})},83038:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(67294),o=r(50308),i=r.n(o),a=r(14002),c=r(33512);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,d(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(p,e);var t,r,o,i=s(p);function p(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p);for(var o=arguments.length,a=new Array(o),c=0;c<o;c++)a[c]=arguments[c];return e=i.call.apply(i,[this].concat(a)),t=f(e),n=function(t){(0,e.props.onClick)(t)},(r=d(r="handleClick"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=p,(r=[{key:"getSpinnerContent",value:function(){return n.createElement(c.Z,{key:"spinner"})}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.disabled,o=e.type,i=e.className,c=e.children,u=e.spinWhenDisabled,l=r&&u?this.getSpinnerContent():c;return n.createElement(a.Z,{name:t,type:o,className:i,disabled:r,onClick:this.handleClick},l)}}])&&u(t.prototype,r),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),p}(n.Component);m.defaultProps={disabled:!1,type:"button",name:"",className:null,spinWhenDisabled:!0,onClick:i()}},58088:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(94184),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var s=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,o,l=u(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l.apply(this,arguments)}return t=s,(r=[{key:"getContent",value:function(){var e=this.props.children;return e||n.createElement("span",{className:"hint-icon"},"\u24d8")}},{key:"render",value:function(){var e=this.props,t=e.hint,r=e.size,o=e.position,a=i()("hint","hint--".concat(r),"hint--".concat(o),"hint--timetoast"),c=this.getContent();return n.createElement("span",{className:a,"data-hint":t},c)}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.PureComponent);s.defaultProps={hint:"",position:"top",size:"medium"}},33512:function(e,t,r){r.d(t,{Z:function(){return m}});var n=r(67294),o=r(94184),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,s(n.key),n)}}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function s(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var f,p,d,m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,o,l=u(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l.apply(this,arguments)}return t=s,(r=[{key:"getTextContent",value:function(){var e=this.props.text;return e?n.createElement("span",{className:"horiontal-spinner__text"},e):null}},{key:"render",value:function(){var e=this.props,t=e.size,r=e.speed,o=i()("horizontal-spinner",{"horizontal-spinner--large":"large"===t},{"horizontal-spinner--fast":"fast"===r}),a=this.getTextContent();return n.createElement("span",{className:i()(o)},a,n.createElement("span",{className:"horizontal-spinner__item pulse1"}),n.createElement("span",{className:"horizontal-spinner__item pulse2"}),n.createElement("span",{className:"horizontal-spinner__item pulse3"}))}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.PureComponent);f=m,d={size:"small",text:null,speed:"normal"},(p=s(p="defaultProps"))in f?Object.defineProperty(f,p,{value:d,enumerable:!0,configurable:!0,writable:!0}):f[p]=d},60133:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(50308),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var s=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,r,o,i=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){return n.createElement("img",this.props)}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);s.defaultProps={alt:null,src:null,width:null,height:null,onClick:i(),className:null}},52983:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(50308),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var s=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(l,e);var t,r,o,i=u(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),i.apply(this,arguments)}return t=l,(r=[{key:"render",value:function(){var e=this.props,t=e.href,r=e.onClick,o=e.className,i=e.target,a=e.alt,c=e.title,u=e.hint,l=e.style,s=e.children;return n.createElement("a",{href:t,onClick:r,className:o,style:l,target:i,alt:a,title:c,"data-hint":u},s)}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),l}(n.Component);s.defaultProps={onClick:i(),className:null,href:null,target:null,rel:null,alt:null,title:null,hint:null,style:null}},56807:function(e,t,r){r.d(t,{Z:function(){return de}});var n=r(67294),o=r(73935),i=r(3877),a=r(50308),c=r.n(a);function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function s(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=p(e);if(t){var o=p(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,r)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(e,t,r){return(t=m(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(a,e);var t,r,o,i=s(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),d(f(t=i.call(this,e)),"handleScroll",(function(e){(0,t.props.onScroll)(e.target.scrollLeft)})),t.$elementRef=(0,n.createRef)(),t}return t=a,(r=[{key:"componentDidMount",value:function(){this.transferScrollLeft()}},{key:"componentDidUpdate",value:function(){this.transferScrollLeft()}},{key:"transferScrollLeft",value:function(){var e=this.props.scrollLeft;this.$elementRef.current.scrollLeft=e}},{key:"render",value:function(){var e=this.props,t=e.className,r=e.tag;return n.createElement(r,{ref:this.$elementRef,className:t,onScroll:this.handleScroll},this.props.children)}}])&&u(t.prototype,r),o&&u(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);d(y,"defaultProps",{scrollLeft:0,onScroll:c(),className:"",tag:"ul"});var h=r(10593),v=r(70666),b=r(76030),g=r(23493),E=r.n(g),w=r(35161),O=r.n(w),_=r(94184),P=r.n(_),S=r(2932);function j(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,I(n.key),n)}}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=k(e);if(t){var o=k(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}(this,r)}}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function k(e){return k=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},k(e)}function N(e,t,r){return(t=I(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,r,o,i=T(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return N(R(e=i.call.apply(i,[this].concat(r))),"handleClick",(function(t){var r=e.props,n=r.onClickArgs,o=r.onClick;o&&(t.preventDefault(),o(n))})),e}return t=a,(r=[{key:"getHref",value:function(){var e=this.props.options;switch(typeof e){case"string":return e;case"object":if((0,S.exists)(e)&&(0,S.exists)(e.anchor))return"#".concat(e.anchor)}return"#"}},{key:"getLabelContent",value:function(){var e=this.props,t=e.label,r=e.raw_html_label;return r?n.createElement("span",{dangerouslySetInnerHTML:{__html:r}}):n.createElement("span",null,t)}},{key:"render",value:function(){var e=this.props,t=e.active,r=e.className,o=this.getLabelContent(),i=P()(r,{current:t}),a=this.getHref();return n.createElement("li",{className:i},n.createElement("a",{href:a,onClick:this.handleClick,"data-testid":"qa-nav-item-anchor"},o))}}])&&j(t.prototype,r),o&&j(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);N(x,"defaultProps",{label:"",className:"tabbed-nav__list-item",active:!1,options:"#",onClick:null,onClickArgs:null});var D=["identifier"];function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}function M(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function L(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,F(n.key),n)}}function Z(e,t){return Z=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Z(e,t)}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=B(e);if(t){var o=B(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return U(e)}(this,r)}}function U(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function B(e){return B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},B(e)}function V(e,t,r){return(t=F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var z=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Z(e,t)}(a,e);var t,r,o,i=H(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),V(U(t=i.call(this,e)),"handleWindowResize",(function(e){t.handleScroll()})),V(U(t),"throttledHandleWindowResize",E()(t.handleWindowResize,16)),V(U(t),"handleScroll",(function(e){var r=t.state,n=r.canScrollLeft,o=r.canScrollRight,i=r.offset;e||0===e||(e=i);var a={offset:e},c=t.calculateCanScrollValues(),u=c.canScrollLeft,l=c.canScrollRight;n===u&&o===l||(a=Object.assign(a,{canScrollLeft:u,canScrollRight:l})),t.animatables.scrollLeft=e,t.setState(a)})),V(U(t),"throttledHandleScroll",E()(t.handleScroll,16)),V(U(t),"handleTabClick",(function(e){(0,t.props.onNavigate)(e)})),V(U(t),"handleScrollLeftClick",(function(e){e.preventDefault(),t.scrollLeft()})),V(U(t),"handleScrollRightClick",(function(e){e.preventDefault(),t.scrollRight()})),t.state={animating:!1,canScrollLeft:!1,canScrollRight:!1,offset:0},t.animatables={scrollLeft:0},t.animation=null,t.listeningForResize=!1,t}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.state,t=e.canScrollLeft,r=e.canScrollRight,n=this.calculateCanScrollValues(),o=n.canScrollLeft,i=n.canScrollRight;t===o&&r===i||this.setState({canScrollLeft:o,canScrollRight:i}),this.addWindowResizeListener()}},{key:"componentWillUnmount",value:function(){this.removeWindowResizeListener()}},{key:"addWindowResizeListener",value:function(){this.listeningForResize||(window.addEventListener("resize",this.throttledHandleWindowResize),this.listeningForResize=!0)}},{key:"removeWindowResizeListener",value:function(){this.listeningForResize&&(window.removeEventListener("resize",this.throttledHandleWindowResize),this.listeningForResize=!1)}},{key:"calcScroll",value:function(e,t,r){var n=!1;return r<e-t&&(n=!0),{canScrollLeft:r>0,canScrollRight:n}}},{key:"scrollLeft",value:function(){}},{key:"scrollRight",value:function(){}},{key:"animateTo",value:function(e){var t=this;this.animation=(0,b.Z)({targets:this.animatables,scrollLeft:e,easing:"easeInOutCubic",duration:600,update:function(e){var r=t.animatables.scrollLeft;t.setState({offset:r,animating:!0})},complete:function(){t.setState({animating:!1})}})}},{key:"getScrollerContent",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"left",t=this.state,r=t.canScrollLeft,o=t.canScrollRight,i=null;if("left"===e&&r&&(i=n.createElement("a",{key:"left-scroller",className:"tabbed-nav__scroll-indicator scroll-indicator scroll-indicator--left",onClick:this.handleScrollLeftClick},n.createElement("div",{className:"arrow"},"\u276e"))),"right"===e&&o&&(i=n.createElement("a",{key:"right-scroller",className:"tabbed-nav__scroll-indicator scroll-indicator scroll-indicator--right",onClick:this.handleScrollRightClick},n.createElement("div",{className:"arrow"},"\u276f"))),!i)return null;var a="css-transition-".concat(e);return n.createElement(h.Z,{key:a,classNames:"fade-in-200-out-200",timeout:200},i)}},{key:"getNavItemsContent",value:function(){var e=this.props,t=e.items,r=e.itemClass,o=e.section;return O()(t,(function(e,t){var i=e.identifier,a=M(e,D),c="nav-item-".concat(t),u=o===i;return n.createElement(x,A({key:c,active:u,className:r},a))}))}},{key:"getScrollersContent",value:function(){var e=this.getScrollerContent("left"),t=this.getScrollerContent("right");return n.createElement(v.Z,null,e,t)}}],r&&L(t.prototype,r),o&&L(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,$(n.key),n)}}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}function q(e,t,r){return(t=$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}V(z,"defaultProps",{items:[],section:null,navClass:"tabbed-nav__nav",itemClass:"tabbed-nav__list-item",onNavigate:c()});var Q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(u,e);var t,r,a,c=K(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).$navRef=(0,n.createRef)(),t.$navItemsRef=(0,n.createRef)(),t}return t=u,(r=[{key:"calculateCanScrollValues",value:function(){var e=(0,o.findDOMNode)(this.$navItemsRef.current),t=e.scrollWidth,r=e.offsetWidth,n=e.scrollLeft;return this.calcScroll(t,r,n)}},{key:"scrollTo",value:function(e){var t=(0,o.findDOMNode)(this.$navRef.current),r=(0,o.findDOMNode)(this.$navItemsRef.current);r.scrollLeft,e=(0,i.clamp)(e,0,r.scrollWidth-t.offsetWidth),this.animateTo(e)}},{key:"scrollLeft",value:function(){var e=(0,o.findDOMNode)(this.$navRef.current),t=(0,o.findDOMNode)(this.$navItemsRef.current).scrollLeft-e.offsetWidth;this.scrollTo(t)}},{key:"scrollRight",value:function(){var e=(0,o.findDOMNode)(this.$navRef.current),t=(0,o.findDOMNode)(this.$navItemsRef.current).scrollLeft+e.offsetWidth;this.scrollTo(t)}},{key:"render",value:function(){var e=this.props.navClass,t=this.state.offset,r=this.getNavItemsContent(),o=this.getScrollersContent();return n.createElement("div",{className:"tabbed-nav__navigation"},n.createElement("nav",{key:"nav",className:e,ref:this.$navRef},n.createElement(y,{tag:"ul",className:"tabbed-nav__list",ref:this.$navItemsRef,scrollLeft:t,onScroll:this.throttledHandleScroll},r)),o)}}])&&W(t.prototype,r),a&&W(t,a),Object.defineProperty(t,"prototype",{writable:!1}),u}(z);function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ne(n.key),n)}}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function re(e,t,r){return(t=ne(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ne(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}q(Q,"propTypes",Object.assign({},z.propTypes,{})),q(Q,"defaultProps",Object.assign({},z.defaultProps,{}));var oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(u,e);var t,r,a,c=ee(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=c.call(this,e)).$navRef=(0,n.createRef)(),t}return t=u,(r=[{key:"calculateCanScrollValues",value:function(){var e=(0,o.findDOMNode)(this),t=(0,o.findDOMNode)(this.$navRef.current),r=t.scrollWidth,n=t.scrollLeft,i=e.offsetWidth;return this.calcScroll(r,i,n)}},{key:"scrollLeft",value:function(){var e=(0,o.findDOMNode)(this),t=(0,o.findDOMNode)(this.$navRef.current).scrollLeft-e.offsetWidth;this.scrollTo(t)}},{key:"scrollRight",value:function(){var e=(0,o.findDOMNode)(this),t=(0,o.findDOMNode)(this.$navRef.current).scrollLeft+e.offsetWidth;this.scrollTo(t)}},{key:"scrollTo",value:function(e){var t=(0,o.findDOMNode)(this),r=(0,o.findDOMNode)(this.$navRef.current);r.scrollLeft,e=(0,i.clamp)(e,0,r.scrollWidth-t.offsetWidth),this.animateTo(e)}},{key:"render",value:function(){var e=this.props,t=(e.children,e.navClass),r=this.state,o=(r.selectedTab,r.offset),i=this.getNavItemsContent(),a=this.getScrollersContent();return n.createElement("div",{className:"tabbed-nav__navigation tabbed-nav__navigation--sub"},n.createElement(y,{tag:"nav",className:t,ref:this.$navRef,scrollLeft:o,onScroll:this.throttledHandleScroll},n.createElement("ul",{className:"tabbed-nav__list"},i)),a)}}])&&J(t.prototype,r),a&&J(t,a),Object.defineProperty(t,"prototype",{writable:!1}),u}(z);function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,le(n.key),n)}}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ue(e);if(t){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}function le(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}re(oe,"propTypes",Object.assign({},z.propTypes,{})),re(oe,"defaultProps",Object.assign({},z.defaultProps,{}));var se,fe,pe,de=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(a,e);var t,r,o,i=ce(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getMainNavContent",value:function(){var e=this.props,t=e.mainNavItems,r=e.section,o=e.mainNavClass;return t.length>0?n.createElement(Q,{mode:"main",key:"main-nav",items:t,section:r,navClass:o}):null}},{key:"getSubNavContent",value:function(){var e=this.props,t=e.subNavItems,r=e.subSection,o=e.subNavClass;return t.length>0?n.createElement(oe,{key:"sub-nav",items:t,section:r,navClass:o}):null}},{key:"render",value:function(){var e=this.props.wrapperClass,t=this.getMainNavContent(),r=this.getSubNavContent();return n.createElement("div",{className:e},t,r)}}])&&ie(t.prototype,r),o&&ie(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);se=de,pe={mainNavItems:[],subNavItems:[],section:null,subSection:null,wrapperClass:"tabbed-nav",mainNavWrapperClass:"tabbed-nav__navigation",subNavWrapperClass:"tabbed-nav__navigation tabbed-nav__navigation--sub"},(fe=le(fe="defaultProps"))in se?Object.defineProperty(se,fe,{value:pe,enumerable:!0,configurable:!0,writable:!0}):se[fe]=pe},8776:function(e,t,r){r.d(t,{Z:function(){return v}});var n=r(67294),o=r(94184),i=r.n(o),a=r(50308),c=r.n(a),u=r(14002);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e,t,r){return(t=y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function h(){document&&(parseInt(document.body.dataset.modalCount||0)>=1?document.body.classList.add("prevent-scroll"):document.body.classList.remove("prevent-scroll"))}var v=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,r,o,a=f(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),m(p(t=a.call(this,e)),"handleKeyUp",(function(e){var r=t.props,n=r.closeOnEsc,o=r.onClose;n&&27===e.keyCode&&o()})),m(p(t),"handleClose",(function(e){var r=t.props.onClose;e.preventDefault(),r()})),m(p(t),"handleDismiss",(function(e){var r=t.props.onClose;t.$modalContentRef.current.contains(e.target)||(e.preventDefault(),r())})),t.$modalContentRef=(0,n.createRef)(),t}return t=c,(r=[{key:"componentDidMount",value:function(){document&&document.addEventListener("keyup",this.handleKeyUp),function(){if(document){var e=parseInt(document.body.dataset.modalCount||0);document.body.dataset.modalCount=e+1,h()}}()}},{key:"componentWillUnmount",value:function(){document&&document.removeEventListener("keyup",this.handleKeyUp),function(){if(document){var e=parseInt(document.body.dataset.modalCount||1)-1;0===e?delete document.body.dataset.modalCount:document.body.dataset.modalCount=e,h()}}()}},{key:"render",value:function(){var e=this.props.className,t=i()(e,"qa-modal");return n.createElement("div",{className:t},n.createElement("div",{className:"modal__background",onClick:this.handleDismiss}),n.createElement("div",{className:"modal__content",ref:this.$modalContentRef},n.createElement("div",{className:"modal__scrollable"},this.props.children),n.createElement(u.Z,{onClick:this.handleClose,className:"unbutton modal__close qa-modal-close"})))}}])&&l(t.prototype,r),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);m(v,"defaultProps",{onClose:c(),closeOnEsc:!0,className:"modal"})},13937:function(e,t,r){r.d(t,{Z:function(){return B}});var n=r(67294),o=r(35161),i=r.n(o),a=r(50308),c=r.n(a),u=r(94184),l=r.n(u);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,y(n.key),n)}}function f(e,t){return f=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},f(e,t)}function p(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=m(e);if(t){var o=m(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return d(e)}(this,r)}}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function m(e){return m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},m(e)}function y(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&f(e,t)}(a,e);var t,r,o,i=p(a);function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e=i.call.apply(i,[this].concat(c)),t=d(e),n=function(t){var r=e.props,n=r.onClick,o=r.pageNumber;t.preventDefault(),n(o)},(r=y(r="handleClick"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"getOptions",value:function(){var e=this.props.mode;return"prev"===e?{text:"Prev",rel:"prev",classes:"previous_page"}:"next"===e?{text:"Next",rel:"next",classes:"next_page"}:void 0}},{key:"render",value:function(){var e=this.props.disabled,t=this.getOptions(),r=t.text,o=t.classes,i=t.rel;return e?n.createElement("span",{className:l()(o,"disabled")},r):n.createElement("a",{className:l()(o,"cursor--pointer"),rel:i,onClick:this.handleClick},r)}}])&&s(t.prototype,r),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function g(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=E(e);if(t){var o=E(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function E(e){return E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},E(e)}h.defaultProps={disabled:!1,onClick:c()};var w=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(a,e);var t,r,o,i=g(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){return n.createElement("span",{className:"gap"},this.props.pageNumber)}}])&&v(t.prototype,r),o&&v(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function _(e,t){return _=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_(e,t)}function P(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=S(e);if(t){var o=S(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function S(e){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},S(e)}w.defaultProps={pageNumber:"..."};var j=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}(a,e);var t,r,o,i=P(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){return n.createElement("em",{className:"current"},this.props.pageNumber)}}])&&O(t.prototype,r),o&&O(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component),C=r(52983);function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,x(n.key),n)}}function R(e,t){return R=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},R(e,t)}function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=I(e);if(t){var o=I(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return N(e)}(this,r)}}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}function x(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var D=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&R(e,t)}(a,e);var t,r,o,i=k(a);function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var o=arguments.length,c=new Array(o),u=0;u<o;u++)c[u]=arguments[u];return e=i.call.apply(i,[this].concat(c)),t=N(e),n=function(t){var r=e.props,n=r.onClick,o=r.pageNumber;t.preventDefault(),n(o)},(r=x(r="handleClick"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"render",value:function(){var e=this.props.pageNumber;return n.createElement(C.Z,{href:"#",onClick:this.handleClick},e)}}])&&T(t.prototype,r),o&&T(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=H(e);if(t){var o=H(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Z(e)}(this,r)}}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},H(e)}function U(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}D.defaultProps={pageNumber:0,onClick:c()};var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(c,e);var t,r,o,a=L(c);function c(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=a.call.apply(a,[this].concat(i)),t=Z(e),n=function(t){e.props.onPaginationPageClick(t)},(r=U(r="paginationPageClickHandler"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=c,(r=[{key:"totalPages",value:function(){var e=this.props,t=e.totalEntries,r=e.perPage;return Math.ceil(t/r)}},{key:"windowedPageNumbers",value:function(){var e=this.props,t=e.currentPage,r=e.innerWindow,n=e.outerWindow,o=e.gap,i=this.totalPages(),a=t-r,c=t+r;if(c>i&&(a-=c-i,c=i),a<1){var u=1-a;a=1,(c+=u)>i&&(c=i)}for(var l,s,f=c-a+1,p=[],d=0;d<f;d++)p.push(a+d);var m=[],y=p[0];if(n+3<y){for(s=n+1-(l=1)+1,d=0;d<s;d++)m.push(l+d);m.push(o)}else for(d=1;d<y;d++)m.push(d);var h,v=[],b=p[p.length-1];if(i-n-2>b){for(h=i-(l=i-n)+1,d=0;d<h;d++)v.push(l+d);v.unshift(o)}else for(h=i-(l=b+1)+1,d=0;d<h;d++)v.push(l+d);return m.concat(p).concat(v)}},{key:"getPageLinks",value:function(e,t){var r=this,o=this.props.gap;return i()(t,(function(t,i){return e===t?n.createElement(j,{key:"pageKey_"+t,pageNumber:t}):o===t?n.createElement(w,{key:"gapKey_"+i}):n.createElement(D,{key:"pageKey_"+t,pageNumber:t,onClick:r.paginationPageClickHandler})}))}},{key:"render",value:function(){var e=this.props,t=e.currentPage,r=e.className,o=t+1,i=o>this.totalPages(),a=t-1,c=a<1,u=this.windowedPageNumbers(),l=this.getPageLinks(t,u);return n.createElement("div",{className:r},n.createElement(h,{mode:"prev",pageNumber:a,disabled:c,onClick:this.paginationPageClickHandler}),l,n.createElement(h,{mode:"next",pageNumber:o,disabled:i,onClick:this.paginationPageClickHandler}))}}])&&A(t.prototype,r),o&&A(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);B.defaultProps={innerWindow:4,outerWindow:1,gap:"...",totalEntries:0,currentPage:0,perPage:16,onPaginationPageClick:c()}},73395:function(e,t,r){r.d(t,{Z:function(){return y}});var n=r(67294),o=r(27361),i=r.n(o),a=r(50308),c=r.n(a),u=r(60133);r(42869);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,m(n.key),n)}}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function f(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=d(e);if(t){var o=d(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}(this,r)}}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(c,e);var t,r,o,a=f(c);function c(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);for(var o=arguments.length,i=new Array(o),u=0;u<o;u++)i[u]=arguments[u];return e=a.call.apply(a,[this].concat(i)),t=p(e),n=function(){var t=e.props,r=t.photo,n=t.onClick;n(r?r.id:null)},(r=m(r="handleImageClick"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=c,(r=[{key:"getImageProps",value:function(){var e=this.props,t=e.photo,r=e.thumbnailStyle;return t&&(i()(t,["image_urls",r])||i()(t,["attributes","image_urls",r]))||null}},{key:"render",value:function(){var e=this.getImageProps();if(e){var t=i()(e,"src");if(t)return n.createElement(u.Z,{src:t,width:e.width,height:e.height,onClick:this.handleImageClick,"data-testid":"qa-photo-preview"})}return null}}])&&l(t.prototype,r),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.Component);y.defaultProps={thumbnailStyle:"small_landscape",photo:null,onClick:c()}},27764:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(67294),o=r(50308),i=r.n(o),a=r(45194);function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=s(e);if(t){var o=s(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,r,o,i=l(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var e=this.props,t=e.hint,r=e.alwaysHint;return n.createElement("div",{className:"progress-container"},n.createElement(a.Z,{hint:t,alwaysHint:r}))}}])&&c(t.prototype,r),o&&c(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.PureComponent);f.defaultProps={hint:null,alwaysHint:!1,onClick:i()}},45194:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(94184),i=r.n(o);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var s=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(s,e);var t,r,o,l=u(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),l.apply(this,arguments)}return t=s,(r=[{key:"render",value:function(){var e=this.props,t=e.className,r=e.hint,o=e.alwaysHint,a=i()(t,{"hint hint--top hint--timetoast":null!==r,"hint--always":o});return n.createElement("div",{className:a,"data-hint":r},n.createElement("div",{className:"spinner"}))}}])&&a(t.prototype,r),o&&a(t,o),Object.defineProperty(t,"prototype",{writable:!1}),s}(n.Component);s.defaultProps={className:"spinner-holder",hint:null,alwaysHint:!1}},49959:function(e,t,r){var n=r(67294),o=function(e){var t=e.className,r=e.pointerEvents,o=e.title,i=e.xlinkHref;return n.createElement("svg",{className:t,pointerEvents:r,title:o},n.createElement("use",{xlinkHref:i}))};o.defaultProps={alt:null,title:null,className:null,xlinkHref:null,pointerEvents:null},t.Z=o},36636:function(e,t,r){r.d(t,{Z:function(){return b}});var n=r(67294),o=r(50308),i=r.n(o),a=r(94184),c=r.n(a),u=r(11327),l=r(94308),s=r(14002);function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=y(e);if(t){var o=y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}(this,r)}}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}function h(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var b=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}(a,e);var t,r,o,i=d(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return h(m(e=i.call.apply(i,[this].concat(r))),"handleChange",(function(t){var r=t.checked,n=e.props,o=n.checkedValue,i=n.uncheckedValue;(0,n.onChange)(r?o:i)})),h(m(e),"handleCheck",(function(t){t.preventDefault(),e.handleChange({checked:!0})})),h(m(e),"handleUncheck",(function(t){t.preventDefault(),e.handleChange({checked:!1})})),e}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.checkedLabel,r=e.uncheckedLabel,o=e.checkedValue,i=(e.uncheckedValue,e.value),a=e.className,f=i==o,p=c()("unbutton","labelled-switch__label",{"labelled-switch__label--current":!f}),d=c()("unbutton","labelled-switch__label",{"labelled-switch__label--current":f});return n.createElement("span",{className:a},n.createElement(s.Z,{className:p,"data-testid":"qa-left-label",onClick:this.handleUncheck},r),n.createElement(l.Z,{className:"switch qa-switch"},n.createElement(u.Z,{checked:f,onChange:this.handleChange}),n.createElement("span",{className:"switch__handle"})),n.createElement(s.Z,{className:d,onClick:this.handleCheck,"data-testid":"qa-right-label"},t))}}])&&f(t.prototype,r),o&&f(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);h(b,"defaultProps",{checkedValue:1,uncheckedValue:0,checkedLabel:"On",uncheckedLabel:"Off",value:0,onChange:i(),className:"labelled-switch"})},38094:function(e,t,r){r.d(t,{Z:function(){return s}});var n=r(67294),o=r(13812),i=r(75993);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=l(e);if(t){var o=l(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var s=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(f,e);var t,r,l,s=u(f);function f(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f),s.apply(this,arguments)}return t=f,(r=[{key:"render",value:function(){var e=this.props,t=e.dateTime,r=e.color;if(t){var a=i.default.humanDate(o.Z.parse(t)),c=r?{color:r}:{};return n.createElement("time",{dateTime:t,className:"time",style:c},a)}return null}}])&&a(t.prototype,r),l&&a(t,l),Object.defineProperty(t,"prototype",{writable:!1}),f}(n.PureComponent);s.defaultProps={color:null,dateTime:""}},12450:function(e,t){t.Z={PUBLIC:0,PRIVATE:1}},63657:function(e,t){t.Z={CREATE_TIMELINE_SUCCESS:"CREATE_TIMELINE_SUCCESS",UPLOAD_TIMELINE_PHOTO_START:"UPLOAD_TIMELINE_PHOTO_START",UPLOAD_TIMELINE_PHOTO_SUCCESS:"UPLOAD_TIMELINE_PHOTO_SUCCESS",UPLOAD_TIMELINE_PHOTO_FAIL:"UPLOAD_TIMELINE_PHOTO_FAIL",UPLOAD_MARKER_PHOTO_START:"UPLOAD_MARKER_PHOTO_START",UPLOAD_MARKER_PHOTO_SUCCESS:"UPLOAD_MARKER_PHOTO_SUCCESS",UPLOAD_MARKER_PHOTO_FAIL:"UPLOAD_MARKER_PHOTO_FAIL",RECEIVE_ENTITIES:"RECEIVE_ENTITIES",REMOVE_ENTITY:"REMOVE_ENTITY",RECEIVE_TIMELINES:"RECEIVE_TIMELINES",RECEIVE_TIMELINE:"RECEIVE_TIMELINE",RECEIVE_MARKER:"RECEIVE_MARKER",RECEIVE_MARKERS:"RECEIVE_MARKERS",UPDATE_MARKER_ATTRIBUTE:"UPDATE_MARKER_ATTRIBUTE",RECEIVE_TIMESPAN:"RECEIVE_TIMESPAN",RECEIVE_TIMESPANS:"RECEIVE_TIMESPANS",RECEIVE_PHOTO:"RECEIVE_PHOTO",RECEIVE_PHOTOS:"RECEIVE_PHOTOS",RECEIVE_DEFAULT_PHOTO:"RECEIVE_DEFAULT_PHOTO",PHOTO_DELETE_SUCCESS:"PHOTO_DELETE_SUCCESS",RECEIVE_TIMELINE_GRID_ITEMS:"RECEIVE_TIMELINE_GRID_ITEMS",RECEIVE_CATEGORIES:"RECEIVE_CATEGORIES",RECEIVE_USERS:"RECEIVE_USERS",RECEIVE_CURRENT_USER:"RECEIVE_CURRENT_USER",REMOVE_USERS:"REMOVE_USERS",RECEIVE_GROUP:"RECEIVE_GROUP",RECEIVE_TIMELINE_COMMENTS:"RECEIVE_TIMELINE_COMMENTS",LOAD_TIMELINE_COMMENTS_START:"LOAD_TIMELINE_COMMENTS_START",LOAD_TIMELINE_COMMENTS_SUCCESS:"LOAD_TIMELINE_COMMENTS_SUCCESS",LOAD_TIMELINE_COMMENTS_FAIL:"LOAD_TIMELINE_COMMENTS_FAIL",RECEIVE_EMBED_KEYS:"RECEIVE_EMBED_KEYS",LOAD_EMBED_KEY_START:"LOAD_EMBED_KEY_START",LOAD_EMBED_KEY_SUCCESS:"LOAD_EMBED_KEY_SUCCESS",LOAD_EMBED_KEY_FAIL:"LOAD_EMBED_KEY_FAIL",RECEIVE_TAGS:"RECEIVE_TAGS",PERMISSION_DELETE_SUCCESS:"PERMISSION_DELETE_SUCCESS",WINDOW_RESIZE:"WINDOW_RESIZE",ADD_TOAST:"ADD_TOAST",REMOVE_TOAST:"REMOVE_TOAST",RECEIVE_REACT_USERS:"RECEIVE_REACT_USERS",RECEIVE_GROUPS:"RECEIVE_GROUPS",RECEIVE_ENDPOINTS:"RECEIVE_ENDPOINTS",AD_VISIBILITY_CHANGE:"AD_VISIBILITY_CHANGE",RECEIVE_FLASH:"RECEIVE_FLASH",CLEAR_FLASH:"CLEAR_FLASH",CURRENT_COLOR_SCHEME_CHANGE:"CURRENT_COLOR_SCHEME_CHANGE",EDITABLE_COLOR_SCHEME_CHANGE:"EDITABLE_COLOR_SCHEME_CHANGE"}},27827:function(e,t,r){r.d(t,{IL:function(){return i},OE:function(){return o},_p:function(){return n}});var n=600,o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],i={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,halfyear:157248e5,year:314496e5,halfdecade:157248e6,decade:314496e6,halfcentury:157248e7,century:314496e7,halfmillenium:157248e8,millenium:314496e8,halfdecamillenium:157248e9,decamillenium:314496e9}},58872:function(e,t){t.Z={CALL_ALREADY_IN_PROGRESS:"CALL_ALREADY_IN_PROGRESS"}},49769:function(e,t){t.Z={DRAFT:0,PUBLISHED:1}},37038:function(e,t,r){r.d(t,{Hw:function(){return o},MR:function(){return i},an:function(){return a},dQ:function(){return n}});var n="unstarted",o="started",i="success",a="failure";t.ZP={UNSTARTED:n,STARTED:o,SUCCESS:i,FAILURE:a}},95597:function(e,t,r){r.d(t,{IY:function(){return i},TP:function(){return n},jN:function(){return o}});var n="default",o="timeline",i="list"},96863:function(e,t,r){r.d(t,{HC:function(){return n},KO:function(){return a},M2:function(){return o},ln:function(){return i}});var n="small",o="medium",i="large",a="full"},42869:function(e,t,r){var n,o=r(45697),i=r.n(o),a=r(82492),c=r.n(a);function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=i().shape({currentPage:i().number.isRequired,totalEntries:i().number,perPage:i().number}),s=i().shape({id:i().number,type:i().string,is_published:i().bool,share_uri:i().string,tweet_text:i().string,host:i().string,allow_embedding:i().bool,can_grant_group_permissions:i().bool,can_grant_user_permissions:i().bool}),f={id:i().number.isRequired,display_name:i().string.isRequired,profile_link:i().string.isRequired},p=c()(f,{num_users_can_still_generate:i().number.isRequired,num_unpublished_timelines_available:i().number.isRequired,can_bulk_generate_users:i().bool.isRequired,can_create_private:i().bool.isRequired,web_publishing:i().bool.isRequired}),d=i().shape(f),m=i().shape(p),y=i().shape({id:i().number.isRequired,name:i().string.isRequired}),h=i().shape({id:i().number.isRequired,group_id:i().number.isRequired,user_id:i().number.isRequired}),v={id:i().number.isRequired,permissable_type:i().string.isRequired,permissable_id:i().number.isRequired,permissionable_type:i().string.isRequired,permissionable_id:i().number.isRequired,role:i().string.isRequired},b=c()(v,{revocable:i().bool.isRequired}),g=i().shape(v),E=i().shape(b),w=i().shape({src:i().string.isRequired,width:i().number,height:i().number}),O=i().shape({primary:i().string.isRequired,secondary:i().string.isRequired,tertiary:i().string.isRequired,highlight:i().string.isRequired,darkText:i().string.isRequired,lightText:i().string.isRequired}),_=i().shape({year:i().string,month:i().string,day:i().string,isBCE:i().bool}),P=i().shape({src:i().string,width:i().number,height:i().number}),S=i().shape({id:i().oneOfType([i().number,i().string]),image_urls:i().shape({small_landscape:P}),image_processing_complete:i().bool}),j=i().shape({id:i().oneOfType([i().number,i().string]),attributes:i().shape({image_urls:i().shape({small_landscape:P}),image_processing_complete:i().bool})}),C=i().oneOfType([S,j]);u(n={pagination:l,shareable:s,user:d,currentUser:m,group:y,membership:h,permission:g,permissionWithAbilities:E},"membership",h),u(n,"image",w),u(n,"colorScheme",O),u(n,"editableDate",_),u(n,"photo",C)},75563:function(e,t,r){var n=r(59416),o=r(76700),i=r(30367);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=r(58486).w.HorizontalTimeline;t.Z=(0,n.$j)((function(e,t){var r=(0,o.VS)(e,t),n=(0,o.au)(e,t),a=(0,o.su)(e,t),u=(0,i.wP)(e);return c(c({},t),{},{timeline:r,markers:n,timespans:a,photos:u})}),(function(e,t){return{}}))(l)},84672:function(e,t,r){r.d(t,{c:function(){return he},Z:function(){return ve}});var n=r(24268),o=r(35161),i=r.n(o),a=r(54061),c=r.n(a),u=r(82569),l=r.n(u),s=r(64721),f=r.n(s),p={COMMENT_SELECTION_CHANGE:"comment_moderation/COMMENT_SELECTION_CHANGE",COMMENTS_SELECT_VISIBLE:"comment_moderation/COMMENTS_SELECT_VISIBLE",COMMENTS_SELECT_HIDDEN:"comment_moderation/COMMENTS_SELECT_HIDDEN",COMMENTS_SELECT_ALL:"comment_moderation/COMMENTS_SELECT_ALL",COMMENTS_DESELECT_ALL:"comment_moderation/COMMENTS_DESELECT_ALL",BULK_SHOW_COMMENTS_START:"comment_moderation/BULK_SHOW_COMMENTS_START",BULK_HIDE_COMMENTS_START:"comment_moderation/BULK_HIDE_COMMENTS_START",BULK_SHOW_COMMENTS_SUCCESS:"comment_moderation/BULK_SHOW_COMMENTS_SUCCESS",BULK_HIDE_COMMENTS_SUCCESS:"comment_moderation/BULK_HIDE_COMMENTS_SUCCESS",BULK_SHOW_COMMENTS_ERROR:"comment_moderation/BULK_SHOW_COMMENTS_ERROR",BULK_HIDE_COMMENTS_ERROR:"comment_moderation/BULK_HIDE_COMMENTS_ERROR"};function d(e){return e.commentModeration}var m=(0,n.Lq)({selectedIds:[],bulkShow:{awaitingAsyncResponse:!1},bulkHide:{awaitingAsyncResponse:!1}},(function(e){e.addCase(p.COMMENT_SELECTION_CHANGE,(function(e,t){return function(e,t){var r=t.payload,n=r.id;return r.selected?function(e,t){var r=e.selectedIds;r.includes(t)||e.selectedIds.push(t)}(e,n):function(e,t){f()(e.selectedIds,t)&&(e.selectedIds=l()(e.selectedIds,t))}(e,n),e}(e,t)})).addCase(p.COMMENTS_SELECT_VISIBLE,(function(e,t){return function(e,t){var r=t.payload,n=c()(r,(function(e,t,r){var n=t;return n.visible&&e.push(n.id),e}),[]);return e.selectedIds=n,e}(e,t)})).addCase(p.COMMENTS_SELECT_HIDDEN,(function(e,t){return function(e,t){var r=t.payload,n=c()(r,(function(e,t,r){var n=t;return n.visible||e.push(n.id),e}),[]);return e.selectedIds=n,e}(e,t)})).addCase(p.COMMENTS_SELECT_ALL,(function(e,t){return function(e,t){var r=t.payload,n=i()(r,(function(e){return e.id}));return e.selectedIds=n,e}(e,t)})).addCase(p.COMMENTS_DESELECT_ALL,(function(e,t){return function(e,t){return e.selectedIds=[],e}(e)})).addCase(p.BULK_SHOW_COMMENTS_START,(function(e,t){return function(e){return e.bulkShow.awaitingAsyncResponse=!0,e}(e)})).addCase(p.BULK_HIDE_COMMENTS_START,(function(e,t){return function(e){return e.bulkHide.awaitingAsyncResponse=!0,e}(e)})).addMatcher((function(e){var t=e.type;return f()([p.BULK_SHOW_COMMENTS_SUCCESS,p.BULK_SHOW_COMMENTS_ERROR],t)}),(function(e,t){return function(e){return e.bulkShow.awaitingAsyncResponse=!1,e}(e)})).addMatcher((function(e){var t=e.type;return f()([p.BULK_HIDE_COMMENTS_SUCCESS,p.BULK_HIDE_COMMENTS_ERROR],t)}),(function(e,t){return function(e){return e.bulkHide.awaitingAsyncResponse=!1,e}(e)}))})),y=r(59416),h=r(20573),v=r(52628),b=r.n(v),g=r(89734),E=r.n(g);var w=(0,h.P1)([function(e,t){return e.data.comments}],(function(e){return b()(e)})),O=(0,h.P1)([w],(function(e){return E()(e,(function(e){return new Date(e.created_at)}))}));var _=r(58872),P=r(69082),S=r(46784),j=r(57781),C=r(57342),T=r(20036),R="BCCV";var k=r(70897);function N(e,t){return function(r,n){r(function(e){var t=e?p.BULK_SHOW_COMMENTS_START:p.BULK_HIDE_COMMENTS_START;return{type:t}}(t)),k.Z.changeCommentsVisibility(e,t).then((function(e){var n;r(function(e){var t=e?p.BULK_SHOW_COMMENTS_SUCCESS:p.BULK_HIDE_COMMENTS_SUCCESS;return{type:t}}(t)),r((n=e,function(e,t){var r=(0,T.Z)(n).body.data,o=r.comments,i=(r.flash,{comments:o}),a=new P.V_("comments"),c=new P.V_("users");a.define({user:c});var u=(0,P.Fv)(i,{comments:(0,P.CT)(a),users:(0,P.CT)(c)});e((0,j.QH)(u.entities.users)),e((0,S.wb)(u.entities.comments)),e((0,C.x9)("Updated comments"))}))}),(function(e){e.message!==_.Z.CALL_ALREADY_IN_PROGRESS&&(r(function(e){var t=e?p.BULK_SHOW_COMMENTS_ERROR:p.BULK_HIDE_COMMENTS_ERROR;return{type:t}}(t)),r(function(e,t){return function(t,r){var n=(0,T.Z)(e.response);t((0,C._N)("Error updating comments: ".concat(R,"-").concat(n.status)))}}(e)))}))}}var I=r(67294),x=r(50308),D=r.n(x),A=r(10593),M=r(70666),L=r(33203),Z=r(94308),H=r(11327);function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,r)}}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function W(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(i,e);var t,r,n,o=V(i);function i(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e=o.call.apply(o,[this].concat(c)),t=F(e),n=function(t){var r=t.checked,n=e.props,o=n.comment;(0,n.onSelect)(o.id,r)},(r=W(r="handleCheckBoxChange"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.comment,r=e.isChecked,n=t.id.toString(),o=t.comment,i=t.visible?"visible":"hidden";return I.createElement("li",{className:i},I.createElement(Z.Z,null,I.createElement(H.Z,{onChange:this.handleCheckBoxChange,checked:r,value:n}),"\xa0",I.createElement("span",{className:"comment-text","data-testid":"comment-text"},o)))}}])&&U(t.prototype,r),n&&U(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(I.PureComponent);function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,J(n.key),n)}}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Q(e);if(t){var o=Q(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $(e)}(this,r)}}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Q(e){return Q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Q(e)}function J(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}G.defaultProps={isChecked:!1,comment:null,onSelect:D()};var X=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(a,e);var t,r,n,o=q(a);function a(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var i=arguments.length,c=new Array(i),u=0;u<i;u++)c[u]=arguments[u];return e=o.call.apply(o,[this].concat(c)),t=$(e),n=function(t,r){(0,e.props.onSelect)(t,r)},(r=J(r="handleSelect"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=a,(r=[{key:"getRows",value:function(){var e=this,t=this.props,r=t.comments,n=t.selectedIds;return i()(b()(r),(function(t){var r=t.id,o=f()(n,r);return I.createElement(A.Z,{key:"comment-list-item-transition-".concat(r),classNames:"fade-in-out",timeout:600},I.createElement(G,{key:"comment-list-item-".concat(r),comment:t,onSelect:e.handleSelect,isChecked:o}))}))}},{key:"render",value:function(){var e=this.props,t=e.comments,r=e.formAction;if(0===t.length)return I.createElement("div",{className:"comments-list"},I.createElement("p",null,"No comments to display."));var n=this.getRows();return I.createElement("div",{className:"comments-list"},I.createElement(L.Z,{action:r,ignoreMissingSubmitHandler:!0},I.createElement("ul",{className:"unstyled-list moderation-comments-list"},I.createElement(M.Z,null,n))))}}])&&K(t.prototype,r),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(I.PureComponent);X.defaultProps={comments:[],selectedIds:[],onSelect:D()};var ee=r(99301),te=r(14002),re=r(34433),ne=r(83038);function oe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ie(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ie(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ie(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ae=function(e){var t=oe((0,I.useState)(!1),2),r=t[0],n=t[1],o=function(t){var r=e.onSelectVisible;t.preventDefault(),a(),r()},i=function(t){var r=e.onSelectHidden;t.preventDefault(),a(),r()},a=function(){n(!1)},c=function(){(0,e.onShowSelected)()},u=function(){(0,e.onHideSelected)()},l=e.anySelected,s=e.allSelected,f=r?I.createElement("ul",{className:"unstyled-list"},I.createElement("li",null,I.createElement(te.Z,{onClick:o,className:"unbutton"},"Select visible")),I.createElement("li",null,I.createElement(te.Z,{onClick:i,className:"unbutton"},"Select hidden"))):null,p=function(){var t=e.anySelected,r=e.awaitingBulkShowAsyncResponse,n=r,o=!t||r;return I.createElement(ne.Z,{className:"list-controls__item control control--spinner",onClick:c,disabled:o,spinWhenDisabled:n},"Show selected")}(),d=function(){var t=e.anySelected,r=e.awaitingBulkHideAsyncResponse,n=r,o=!t||r;return I.createElement(ne.Z,{className:"list-controls__item control control--spinner",onClick:u,disabled:o,spinWhenDisabled:n},"Hide selected")}();return I.createElement("div",{className:"list-controls"},I.createElement("div",{className:"list-controls__item"},I.createElement(re.Z,{controlVisibility:r,onDismiss:function(){a()},triggerOnReferenceClick:!1},I.createElement(re.Z.Reference,null,I.createElement(ee.Z,{checked:s,indeterminate:l&&!s,onChange:function(){(0,e.onClickSelectAllCheckBox)()},onClickChevron:function(){n(!r)}})),I.createElement(re.Z.Content,{className:"popover popover--menu"},f))),p,d)};ae.defaultProps={selectedIds:[],onClickSelectAllCheckBox:D(),onSelectVisible:D(),onSelectHidden:D(),onShowSelected:D(),onHideSelected:D(),awaitingBulkShowAsyncResponse:!1,awaitingBulkHideAsyncResponse:!1};var ce=ae;function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,me(n.key),n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pe(e);if(t){var o=pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}(this,r)}}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function de(e,t,r){return(t=me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ye=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(i,e);var t,r,n,o=se(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return de(fe(e=o.call.apply(o,[this].concat(r))),"handleSelect",(function(t,r){(0,e.props.onSelectionChange)(t,r)})),de(fe(e),"handleSelectAllClick",(function(){var t=e.props,r=t.selectedCommentIds;t.comments.length>0&&(0===r.length?e.selectAll():e.deselectAll())})),de(fe(e),"handleSelectVisible",(function(){var t=e.props,r=t.comments;(0,t.onSelectVisible)(r)})),de(fe(e),"handleSelectHidden",(function(){var t=e.props,r=t.comments;(0,t.onSelectHidden)(r)})),de(fe(e),"handleShowSelected",(function(){var t=e.props,r=t.selectedCommentIds;(0,t.onShowSelected)(r)})),de(fe(e),"handleHideSelected",(function(){var t=e.props,r=t.selectedCommentIds;(0,t.onHideSelected)(r)})),e}return t=i,(r=[{key:"selectAll",value:function(){var e=this.props,t=e.comments;(0,e.onSelectAll)(t)}},{key:"deselectAll",value:function(){var e=this.props,t=e.comments;(0,e.onDeselectAll)(t)}},{key:"render",value:function(){var e=this.props,t=e.comments,r=e.selectedCommentIds,n=e.awaitingBulkShowAsyncResponse,o=e.awaitingBulkHideAsyncResponse,i=r.length>0,a=i&&t.length===r.length;return I.createElement("div",null,I.createElement(ce,{comments:t,anySelected:i,allSelected:a,onClickSelectAllCheckBox:this.handleSelectAllClick,onSelectVisible:this.handleSelectVisible,onSelectHidden:this.handleSelectHidden,onShowSelected:this.handleShowSelected,onHideSelected:this.handleHideSelected,awaitingBulkShowAsyncResponse:n,awaitingBulkHideAsyncResponse:o}),I.createElement(X,{comments:t,selectedIds:r,onSelect:this.handleSelect}))}}])&&ue(t.prototype,r),n&&ue(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(I.Component);ye.defaultProps={comments:[],selectedCommentIds:[],onSelectionChange:D(),onSelectAll:D(),onDeselectAll:D(),onSelectVisible:D(),onSelectHidden:D(),onShowSelected:D(),onHideSelected:D(),awaitingBulkShowAsyncResponse:!1,awaitingBulkHideAsyncResponse:!1};var he={CommentModerationContainer:(0,y.$j)((function(e,t){var r=function(e,t){return d(e).selectedIds}(e),n=O(e,t),o=function(e,t){return d(e).bulkShow.awaitingAsyncResponse}(e),i=function(e,t){return d(e).bulkHide.awaitingAsyncResponse}(e);return{selectedCommentIds:r,comments:n,awaitingBulkShowAsyncResponse:o,awaitingBulkHideAsyncResponse:i}}),(function(e,t){return{onSelectionChange:function(t,r){e(function(e,t){return{type:p.COMMENT_SELECTION_CHANGE,payload:{id:e,selected:t}}}(t,r))},onSelectAll:function(t){e(function(e){return{type:p.COMMENTS_SELECT_ALL,payload:e}}(t))},onDeselectAll:function(t){e(function(e){return{type:p.COMMENTS_DESELECT_ALL,payload:e}}(t))},onSelectVisible:function(t){e(function(e){return{type:p.COMMENTS_SELECT_VISIBLE,payload:e}}(t))},onSelectHidden:function(t){e(function(e){return{type:p.COMMENTS_SELECT_HIDDEN,payload:e}}(t))},onShowSelected:function(t){e(N(t,!0))},onHideSelected:function(t){e(N(t,!1))}}}))(ye)},ve=m},97147:function(e,t,r){r.d(t,{Nw:function(){return $},ZP:function(){return Q},wl:function(){return Y}});var n=r(24268),o=r(14482),i=r(78718),a=r.n(i),c=r(18721),u=r.n(c),l=r(58872),s=r(5826),f={};function p(e){var t=a()(e,["title","description","date","photo_ids"]);if(u()(t,"photo_ids")&&0===t.photo_ids[0])throw new Error("Photo has id of 0. Don't send that to api or it'll 404");return t}var d=function(e){var t=e.timeline_id,r="post-markers";if(f[r])return Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS));f[r]=!0;var n={marker:p(e)};return s.Z.post("/api/v1/timelines/".concat(t,"/markers"),n,{transformResponse:function(e){return e}}).finally((function(){delete f[r]}))},m=function(e){var t=e.timeline_id,r=e.id,n="put-marker-".concat(r);if(f[n])return Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS));f[n]=!0;var o={marker:p(e)};return s.Z.put("/api/v1/timelines/".concat(t,"/markers/").concat(r),o,{transformResponse:function(e){return e}}).finally((function(){delete f[n]}))},y=function(e){var t=e.timeline_id,r=e.id,n="del-marker-".concat(r);return f[n]?Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS)):(f[n]=!0,s.Z.delete("/api/v1/timelines/".concat(t,"/markers/").concat(r),{transformResponse:function(e){return e}}).finally((function(){delete f[n]})))},h={};function v(e){var t=a()(e,["title","description","start_date","end_date"]);if(u()(t,"photo_ids")&&0===t.photo_ids[0])throw new Error("Photo has id of 0. Don't send that to api or it'll 404");return t}var b=function(e){var t=e.timeline_id,r="post-timespans";if(h[r])return Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS));h[r]=!0;var n={timespan:v(e)};return s.Z.post("/api/v1/timelines/".concat(t,"/timespans"),n,{transformResponse:function(e){return e}}).finally((function(){delete h[r]}))},g=function(e){var t=e.timeline_id,r=e.id,n="put-timespan-".concat(r);if(h[n])return Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS));h[n]=!0;var o={timespan:v(e)};return s.Z.put("/api/v1/timelines/".concat(t,"/timespans/").concat(r),o,{transformResponse:function(e){return e}}).finally((function(){delete h[n]}))},E=function(e){var t=e.timeline_id,r=e.id,n="del-timespan-".concat(r);return h[n]?Promise.reject(new Error(l.Z.CALL_ALREADY_IN_PROGRESS)):(h[n]=!0,s.Z.delete("/api/v1/timelines/".concat(t,"/timespans/").concat(r),{transformResponse:function(e){return e}}).finally((function(){delete h[n]})))},w=r(8063),O=r(69111),_=r(20036),P=(r(63657),r(17109)),S=r(57914),j=r(57342);function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function T(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){R(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function R(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var k=function(e){var t=(0,_.Z)(e),r=(new O.tQ).decode(t.text);return JSON.parse(r)};function N(e){return function(t){var r=k(e),n=(0,P.y1)(r);t((0,S.M)(n.entities)),t((0,j.x9)("Created event"))}}function I(e,t){return function(e){var r=k(t),n=(0,P.y1)(r);e((0,S.M)(n.entities)),e((0,j.x9)("Updated event"))}}function x(e,t){return function(e){var r=k(t),n=r.id,o=r.timeline_id;e((0,S.S)(n,"marker",o,"timeline")),e((0,j.x9)("Deleted event"))}}function D(e){return function(t){var r=k(e),n=(0,P.iH)(r);t((0,S.M)(n.entities)),t((0,j.x9)("Created timespan"))}}function A(e,t){return function(e){var r=k(t),n=(0,P.iH)(r);e((0,S.M)(n.entities)),e((0,j.x9)("Updated timespan"))}}function M(e,t){return function(e){var r=k(t),n=r.id,o=r.timeline_id;e((0,S.S)(n,"timespan",o,"timeline")),e((0,j.x9)("Deleted timespan"))}}function L(e){return function(t){var r=k(e),n=(0,P.zU)(r);t((0,S.M)(n.entities)),t((0,j.x9)("Created timeline"))}}function Z(e,t){return function(e){var r=k(t),n=T(T({},(0,P.zU)(r.data.timeline).entities),{},{current_user:r.data.current_user});e((0,S.M)(n)),e((0,j.x9)("Updated timeline"))}}function H(){H=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(err){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new S(o||[]);return n(a,"_invoke",{value:w(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(err){return{type:"throw",arg:err}}}e.wrap=l;var f={};function p(){}function d(){}function m(){}var y={};u(y,i,(function(){return this}));var h=Object.getPrototypeOf,v=h&&h(h(j([])));v&&v!==t&&r.call(v,i)&&(y=v);var b=m.prototype=p.prototype=Object.create(y);function g(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function o(n,i,a,c){var u=s(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function w(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return C()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=O(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function O(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function j(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=m,n(b,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},g(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new E(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=j,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function U(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}function B(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){U(i,n,o,a,c,"next",e)}function c(e){U(i,n,o,a,c,"throw",e)}a(void 0)}))}}var V=(0,n.hg)("entities/saveEntity",function(){var e=B(H().mark((function e(t,r){var n,i,a,c,u,l,s;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.dispatch,i=r.rejectWithValue,a=t.id,c=t.type,u=t.attributes,l=a.toString(),e.prev=3,e.t0=c,e.next="marker"===e.t0?7:"timespan"===e.t0?19:"timeline"===e.t0?31:44;break;case 7:if("-1"!==l&&"0"!==l){e.next=14;break}return e.next=10,d(u);case 10:s=e.sent,n(N(s)),e.next=18;break;case 14:return e.next=16,m(u);case 16:s=e.sent,n(I(0,s));case 18:return e.abrupt("break",45);case 19:if("-1"!==l&&"0"!==l){e.next=26;break}return e.next=22,b(u);case 22:s=e.sent,n(D(s)),e.next=30;break;case 26:return e.next=28,g(u);case 28:s=e.sent,n(A(0,s));case 30:return e.abrupt("break",45);case 31:if("-1"!==l&&"0"!==l){e.next=39;break}return e.next=34,o.Z.createTimeline(u);case 34:return s=e.sent,n(L(s)),e.abrupt("return",JSON.parse(s.data).id);case 39:return e.next=41,o.Z.updateTimeline(u);case 41:s=e.sent,n(Z(0,s));case 43:return e.abrupt("break",45);case 44:console.error("saveEntity: Unknown type: ",c);case 45:e.next=51;break;case 47:return e.prev=47,e.t1=e.catch(3),console.log("Save entity error",e.t1),e.abrupt("return",i((0,w.i)(e.t1)));case 51:case"end":return e.stop()}}),e,null,[[3,47]])})));return function(t,r){return e.apply(this,arguments)}}()),F=(0,n.hg)("entities/deleteEntity",function(){var e=B(H().mark((function e(t,r){var n,o,i,a,c,u;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=r.dispatch,o=r.rejectWithValue,i=t.id,a=t.type,c=t.attributes,i.toString(),e.prev=3,e.t0=a,e.next="marker"===e.t0?7:"timespan"===e.t0?12:17;break;case 7:return e.next=9,y(c);case 9:return u=e.sent,n(x(0,u)),e.abrupt("break",18);case 12:return e.next=14,E(c);case 14:return u=e.sent,n(M(0,u)),e.abrupt("break",18);case 17:console.error("deleteEntity: Unknown type: ",a);case 18:e.next=24;break;case 20:return e.prev=20,e.t1=e.catch(3),console.log("deleteEntity error",e.t1),e.abrupt("return",o((0,w.i)(e.t1)));case 24:case"end":return e.stop()}}),e,null,[[3,20]])})));return function(t,r){return e.apply(this,arguments)}}()),z=r(31921),W=r.n(z),G=(0,n.oM)({name:"entitySaver",initialState:{requests:{},deleteRequests:{}},reducers:{},extraReducers:function(e){e.addCase(V.pending,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"pending",Object),W()(e,["requests",n,o,"error"],null,Object)})).addCase(V.fulfilled,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"succeeded",Object),W()(e,["requests",n,o,"error"],null,Object)})).addCase(V.rejected,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"failed",Object),W()(e,["requests",n,o,"error"],t.payload,Object)})).addCase(F.pending,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"pending",Object),W()(e,["requests",n,o,"error"],null,Object)})).addCase(F.fulfilled,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"succeeded",Object),W()(e,["requests",n,o,"error"],null,Object)})).addCase(F.rejected,(function(e,t){var r=t.meta.arg,n=r.type,o=r.id.toString();W()(e,["requests",n,o,"status"],"failed",Object),W()(e,["requests",n,o,"error"],t.payload,Object)}))}}),K=function(e){return e.entitySaver},Y={selectEntityRequestStatus:function(e,t){var r,n=t.id,o=t.type;return null===(r=K(e))||void 0===r||null===(r=r.requests)||void 0===r||null===(r=r[o])||void 0===r||null===(r=r[n])||void 0===r?void 0:r.status},selectEntityRequestError:function(e,t){var r,n=t.id,o=t.type;return null===(r=K(e))||void 0===r||null===(r=r.requests)||void 0===r||null===(r=r[o])||void 0===r||null===(r=r[n])||void 0===r?void 0:r.error}},q=G.reducer,$={saveEntity:V,deleteEntity:F},Q=q},93684:function(e,t,r){r.d(t,{Sf:function(){return A},cJ:function(){return ue},ZP:function(){return le}});var n=r(97779),o=r(22205),i=r.n(o),a=r(38754),c="group_timelines/SETUP_GROUP",u="group_timelines/TIMELINES_PAGINATE",l="group_timelines/TIMELINES_REQUEST",s="group_timelines/TIMELINES_SUCCESS",f="group_timelines/TIMELINES_FAILURE";function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?p(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var y=function(e,t){var r=t.payload;return d(d({},e),{},m({},r,{currentPage:1}))},h=function(e,t){var r=t.payload,n=r.pageNumber,o=r.groupId;return d(d({},e),{},m({},o,d(d({},e[o]),{},{currentPage:n})))},v=function(e,t){return"group-".concat(e,"-page-").concat(t)},b=function(e){return"group-".concat(e,"-last-totals")},g=function(e){return e.groupTimelines.pagination};function E(e,t){var r=t.page,n=t.groupId,o=function(e,t){var r=t.groupId,n=b(r);return g(e)[n]}(e,t),a=g(e)[v(n,r)];return o&&!a?a=i()({},o,{currentPage:r}):o&&a&&!a.hasFetchedBefore&&(a=i()({},a,o,{currentPage:r})),a}var w=(0,n.UY)({base:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return y(e,t);case u:return h(e,t);default:return e}},pagination:(0,a.V)({mapActionToKey:function(e){var t=e.payload,r=t.pageNumber,n=t.groupId;return v(n,r)},mapActionToTotalsKey:function(e){var t=e.payload.groupId;return b(t)},types:[l,s,f]})}),O=r(14482),_=r(69111),P=r(69082),S=r(6617),j=r(17109),C=r(80340),T=r(72992),R=r(56038),k=r(29006),N=r(20036),I=function(e,t,r){return function(n){var o=(0,N.Z)(e),i=(new _.tQ).decode(o.text),a=JSON.parse(i),c=new P.V_("grid_items"),u=new P.V_("timelines"),l=new P.V_("photos"),f=new P.V_("categories");u.define({photos:(0,P.CT)(l),categories:(0,P.CT)(f)}),c.define({timeline:u});var p=(0,j.L4)((0,P.Fv)(a,{grid_items:(0,P.CT)(c)}));n((0,T.B)(p.entities.categories)),n((0,C.wD)(p.entities.photos)),n((0,R.h)(p.entities.timelines)),n((0,k.C)(p.entities.grid_items));var d=(0,S.k5)(p.result.meta.pagination),m=d.currentPage,y=d.perPage,h=d.totalEntries,v={groupId:r,pageNumber:t,ids:p.result.grid_items,pagination:{currentPage:m,perPage:y,totalEntries:h}};n({type:s,payload:v})}},x=function(e,t,r){return{type:f,payload:{groupId:r,pageNumber:t}}},D=function(e,t){return{type:l,payload:{pageNumber:e,groupId:t}}},A={setupGroup:function(e){return{type:c,payload:e}},loadGroupTimelines:function(e,t){return function(r,n){r(D(e,t)),O.Z.fetchGroupTimelines(t,e).then((function(n){r(I(n,e,t))}),(function(n){r(x(0,e,t))}))}},paginateTo:function(e,t){return{type:u,payload:{pageNumber:e,groupId:t}}}},M=r(59416),L=r(41521),Z=r(30233),H=r(67294),U=r(50308),B=r.n(U),V=r(58088),F=(r(42869),r(3859)),z=r(52983);function W(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function G(e,t){return G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},G(e,t)}function K(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Y(e);if(t){var o=Y(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Y(e){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Y(e)}var q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(i,e);var t,r,n,o=K(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.className,r=e.style,n=e.onClick,o=e.href;return H.createElement(z.Z,{className:t,href:o,onClick:n,style:r},H.createElement("span",null,this.props.children))}}])&&W(t.prototype,r),n&&W(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(H.Component);q.defaultProps={href:null,onClick:B(),className:"btn",style:null};var $=r(13937),Q=r(33512);function J(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,oe(n.key),n)}}function X(e,t){return X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},X(e,t)}function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=re(e);if(t){var o=re(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return te(e)}(this,r)}}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ne(e,t,r){return(t=oe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(i,e);var t,r,n,o=ee(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return ne(te(e=o.call.apply(o,[this].concat(r))),"handlePaginationPageClick",(function(t){var r=e.props,n=r.group;(0,r.onPaginate)(t,n.id)})),e}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.currentPage;(0,e.loadData)(t,e.group.id)}},{key:"getGridContent",value:function(){var e=this.props.pagination;if(!e||e.isFetching)return H.createElement("section",{className:"my-timelines"},H.createElement("div",{className:"panel-section panel-section--padded"},H.createElement(Q.Z,{size:"large",text:"Loading timelines"})));var t=e.ids;return H.createElement(F.Z,{gridItemIds:t})}},{key:"getPaginationContent",value:function(){var e=this.props.pagination;if(e){var t=e.totalEntries,r=e.perPage;if(t>r)return H.createElement($.Z,{currentPage:e.currentPage,totalEntries:t,perPage:r,innerWindow:1,outerWindow:0,className:"pagination right",onPaginationPageClick:this.handlePaginationPageClick})}return null}},{key:"getHeaderContent",value:function(){var e=this.props.group;return H.createElement("header",{className:"panel-section panel-section--padded"},H.createElement("h1",null,e.name," timelines ",H.createElement(V.Z,{position:"bottom",hint:"Create a timeline and collaborate with this group for it to appear here."})))}},{key:"getGroupMembersLink",value:function(){var e=this.props.group;if(e){var t="/groups/".concat(e.id);return H.createElement(q,{href:t,className:"btn btn--outline view-group-members-button"},"View group members")}return null}},{key:"render",value:function(){var e=this.getHeaderContent(),t=this.getPaginationContent(),r=this.getGridContent(),n=this.getGroupMembersLink();return H.createElement("div",null,e,r,H.createElement("footer",{className:"panel-section panel-section--padded"},n,t))}}])&&J(t.prototype,r),n&&J(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(H.Component);ne(ie,"defaultProps",{gridItems:[],currentPage:1,onPaginate:B(),loadData:B()});var ae=A.loadGroupTimelines,ce=A.paginateTo,ue={IndexTabContentContainer:(0,M.$j)((function(e,t){var r=(0,L.ts)(e,t),n=(0,Z.ex)(e,t),o=function(e,t){var r=t.groupId,n=function(e){return e.groupTimelines.base}(e)[r];return n.currentPage}(e,t);return{currentUser:r,pagination:E(e,{groupId:n.id,page:o}),group:n}}),(function(e){return{loadData:function(t,r){e(ae(t,r))},onPaginate:function(t,r){e(ae(t,r)),e(ce(t,r))}}}))(ie)},le=w},58486:function(e,t,r){r.d(t,{w:function(){return sn}});var n=r(67294),o=r(5464),i=r.n(o),a=r(90057),c="feature/horizontal/INITIALIZE",u="feature/horizontal/SIZE_CHANGE",l="feature/horizontal/START_FREE_SCROLL",s="feature/horizontal/CANCEL_FREE_SCROLL",f="feature/horizontal/UPDATE_LEFT_AND_RIGHT",p="feature/horizontal/TIMELINE_ITEM_DRILL_DOWN",d="feature/horizontal/TIMELINE_ITEM_DRILL_OUT",m={initialized:!1,freeScrolling:!1,size:{width:0,height:0},scroller:{left:null,right:null},timelineDisplay:{axisMargin:50},scrubberDisplay:{margin:[null,30,20,30],height:40,handleWidth:20,handleHeight:40,leftHandleCursor:"auto",rightHandleCursor:"auto",surface:{cursor:"auto"},viewport:{cursor:"auto"}}};var y=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case c:return function(e,t){var r=t.payload,n=r.left,o=r.right;return e.initialized=!0,e.scroller.left=n,e.scroller.right=o,e}(t,r);case u:return function(e,t){var r=t.payload.size;return e.size.width=r.width,e.size.height=r.height,e}(t,r);case s:return(e=t).freeScrolling=!1,e;case l:return function(e,t){return e.freeScrolling=!0,e}(t);case f:return function(e,t){var r=t.payload,n=r.left,o=r.right;return e.scroller.left=n,e.scroller.right=o,e}(t,r);case p:return function(e,t){var r=t.payload,n=r.id,o=r.timelineItemType;return e.drilledDownItem={id:n,timelineItemType:o},e}(t,r);case d:return function(e,t){var r=t.payload;r.id,r.timelineItemType;return e.drilledDownItem=null,e}(t,r);default:return t}},h=(0,n.createContext)();function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g=function(e){var t=e.children,r=v((0,a.C)(y,m),2),o={state:r[0],dispatch:r[1]};return n.createElement(h.Provider,{value:o},t)};function E(){return{type:s,payload:{}}}function w(e,t){return{type:f,payload:{left:e,right:t}}}var O=r(20573),_=r(89734),P=r.n(_),S=r(27361),j=r.n(S),C=r(52628),T=r.n(C),R=r(84486),k=r.n(R),N=r(85905),I=r.n(N),x=r(34567),D=r(35161),A=r.n(D),M=r(54061),L=r.n(M),Z=r(8804),H=r.n(Z),U=r(10928),B=r.n(U),V=r(13812);var F=(0,O.P1)((function(e,t){return t.markers}),(function(e,t){return t.timespans}),(function(e,t){var r=function(e){return e.getTime()},n=e.length+t.length;if(0===n)return[null,null];if(1!==n){var o=A()(e,(function(e){return V.Z.parse(e.date)})),i=L()(t,(function(e,t,r){return e.push(V.Z.parse(t.start_date)),e.push(V.Z.parse(t.end_date)),e}),[]),a=o.concat(i),c=P()(a,[r]);return[H()(c),B()(c)]}if(1===e.length){var u=V.Z.parse(e[0].date);return[u,u]}if(1===t.length){var l=t[0];return P()([V.Z.parse(l.start_date),V.Z.parse(l.end_date)],[r])}})),z=(0,O.P1)(F,(function(e){var t=H()(e),r=B()(e);if(t&&r){var n=t.getTime(),o=r.getTime();return{startTime:n,endTime:o,duration:o-n}}var i=x.AT.Now.instant().epochMilliseconds;return{startTime:i,endTime:i,duration:0}})),W=r(59704),G=r.n(W),K=r(20537),Y=r(97742),q=r.n(Y),$=r(3877),Q=200;function J(e,t){return!!e&&G()(e.retrieve(t),(function(e){return(0,K.rectsIntersect)(e,t)}),this)}function X(e,t,r,n){var o,i,a=function(){var e=10,t=10+Q+2;return{leftPadding:e,rightPadding:t}}(),c=a.leftPadding,u=a.rightPadding;if(0===t||null===t){var l=15e9;o=r.getTime()-l,i=n.getTime()+l}else{var s=(t/((e-(c+u))/e)*1-t)/(c+u),f=s*c,p=s*u;o=r.getTime()-f,i=n.getTime()+p}return{startTime:o=(0,$.clamp)(o,V.Z.MS_MIN,V.Z.MS_MAX),endTime:i=(0,$.clamp)(i,V.Z.MS_MIN,V.Z.MS_MAX),duration:i-o}}function ee(e,t,r){var n,o={},i={},a=!1,c=0,u=10,l=1e6,s=e.height+u,f={x:e.x-5,y:l-(s-5),width:e.width+u,height:s},p={x:e.x,y:e.y,width:e.width,height:l},d=l-e.height,m=new(q())(p),y=I()([0,1],[0,e.width]),h=30,v=t.timespans,b=0;k()(v,(function(e){for(n={x:y(e.scalePosition)-5,y:999980,width:y(e.scaleWidth)+u,height:20},b=0;J(m,n)&&b<100;){if(n.y-=5,!(0,K.rectContains)(f,n)&&(a=!0,r))return{outOfBounds:!0};b+=1}n.itemType="timespan",n.itemId=e.id,m.insert(n);var t={x:n.x+5,y:n.y+h/2-n.height/2-d,width:n.width-u,height:20},o=t.y;o<c&&(c=o);var l=e.id.toString();i[l]=t}));var g=t.markers,E=Q+u;return h=55,k()(g,(function(e){for(n={x:y(e.scalePosition)-5,y:999955,width:E,height:h},b=0;J(m,n)&&b<400;){if(n.y-=5,!(0,K.rectContains)(f,n)&&(a=!0,r))return{outOfBounds:!0};b+=1}n.itemType="marker",n.itemId=e.id,m.insert(n);var t={x:n.x+5,y:n.y+5-d,width:Q,height:45},i=t.y;i<c&&(c=i);var u=e.id.toString();o[u]=t})),{markers:o,timespans:i,outOfBounds:a,topY:c}}var te=function(e,t){var r=e;return j()(r,["size"])},re=(0,O.P1)(te,(function(e){return j()(e,["width"])})),ne=(0,O.P1)(te,(function(e){return j()(e,["height"])}));function oe(e){return e?e.scrubberDisplay:null}function ie(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(e,t){return!1===ee(e,t,!0).outOfBounds},ue=function(e,t){var r=e;return j()(r,["scroller","left"])||0},le=function(e,t){var r=e;return j()(r,["scroller","right"])||1},se=function(){return 2e4},fe=(0,O.P1)(re,(function(e){return e})),pe=(0,O.P1)(ne,(function(e,t){return e?e.scrubberDisplay.height:0}),(function(e){return e?e.scrubberDisplay.margin[2]:0}),(function(e,t,r){return e-t-r-50})),de=(0,O.P1)(fe,pe,z,(function(e,t,r){var n=V.Z.parse(r.startTime),o=V.Z.parse(r.endTime);return X(e,r.duration,n,o)})),me=(0,O.P1)(de,(function(e,t){return t.markers}),(function(e,t){return t.timespans}),(function(e,t,r){var n=[],o=[],i=e.startTime,a=e.endTime;if(i&&a){var c,u,l=I()([i,a],[0,1]);k()(T()(t),(function(e){c=V.Z.parse(e.date),u=l(c.getTime()),n.push({id:e.id,scalePosition:u})}));var s=function(e){return e.getTime()};k()(T()(r),(function(e){var t=ie(P()([V.Z.parse(e.start_date),V.Z.parse(e.end_date)],[s]),2),r=t[0],n=t[1];u=l(r.getTime()),o.push({id:e.id,scalePosition:u,scaleWidth:l(n.getTime())-u})}))}return{markers:n,timespans:o}})),ye=(0,O.P1)(fe,pe,me,se,(function(e,t,r,n){for(var o=!1,i=null,a=0,c=null,u=null,l=n,s=0;s<100&&!o;){if(l=Math.round(l),ce({x:0,y:0,width:l,height:t},r))u=i=l,!0,l===(c=Math.round(i-(i-a)/2))?o=!0:l=c;else{if(l===n)return n;a=l,l===(c=Math.round(a+(i-a)/2))?o=!0:l=c}s++}return u<e?e:u})),he=(0,O.P1)(fe,ye,(function(e,t){return e/t})),ve=(0,O.P1)(fe,se,(function(e,t){return e/t})),be=(0,O.P1)(ue,le,fe,pe,ye,se,he,ve,(function(e,t,r,n,o,i,a,c){var u=ge(r/((t-e)/1),r,a,c),l=n,s=I()([0,1],[0,u]);return{x:Ee(0-s(e),u,r),y:0,width:u,height:l}})),ge=function(e,t,r,n){var o=t*(1/n),i=t*(1/r);return(0,$.clamp)(e,i,o)},Ee=function(e,t,r){var n=0-(t-r);return(0,$.clamp)(e,n,0)},we=((0,O.P1)([pe],(function(e){return e})),(0,O.P1)(ue,le,fe,pe,be,he,ve,(function(e,t,r,n,o,i,a){return{left:e,right:t,minWidthRatio:i,maxWidthRatio:a,surface:o,viewport:{x:0,y:0,width:r,height:n}}}))),Oe=(0,O.P1)(te,oe,we,(function(e,t,r){var n=t.margin,o=t.height;return{x:n[3],y:e.height-n[2]-o,width:e.width-n[1]-n[3],height:o}})),_e=(0,O.P1)(we,Oe,(function(e,t){var r,n=e.left,o=e.right,i=e.minWidthRatio,a=e.maxWidthRatio,c=o-n;r=o<1;var u=n>0||r?"move":"auto";r=c>a;var l=n>0&&c<i||r?"col-resize":"auto";return r=o<1&&c<i,{leftHandle:l,rightHandle:c>a||r?"col-resize":"auto",viewport:u,surface:"auto"}})),Pe=r(50308),Se=r.n(Pe),je=r(80782),Ce=r(35388);function Te(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function Re(e,t){return Re=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Re(e,t)}function ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ne(e);if(t){var o=Ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Ne(e){return Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ne(e)}var Ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Re(e,t)}(a,e);var t,r,o,i=ke(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,i=e.height,a=e.cursor,c=this.context,u={x:t,y:r,width:o,height:i,cursor:a,backgroundColor:(0,je.wz)(c.primary,c)};return n.createElement("div",{className:"surface",style:u})}}])&&Te(t.prototype,r),o&&Te(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);Ie.contextType=Ce.N,Ie.defaultProps={cursor:"auto"};var xe=r(73935),De=r(50840),Ae=r.n(De);function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ve(n.key),n)}}function Le(e,t){return Le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Le(e,t)}function Ze(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ue(e);if(t){var o=Ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return He(e)}(this,r)}}function He(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ue(e){return Ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ue(e)}function Be(e,t,r){return(t=Ve(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ve(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Fe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Le(e,t)}(a,e);var t,r,o,i=Ze(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Be(He(t=i.call(this,e)),"handlePanStart",(function(e){t.props.onPanStart(e)})),Be(He(t),"handlePanMove",(function(e){t.props.onPanMove(e)})),Be(He(t),"handlePanEnd",(function(e){t.props.onPanEnd(e)})),t._hammerManager=null,t}return t=a,(r=[{key:"componentDidMount",value:function(){this._hammertime()}},{key:"componentWillUnmount",value:function(){this._stopHammertime()}},{key:"_hammertime",value:function(){this._hammerManager||(this._hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Pan,{threshold:0,direction:Ae().DIRECTION_HORIZONTAL}]]})),this._hammerManager.on("panstart",this.handlePanStart),this._hammerManager.on("panmove",this.handlePanMove),this._hammerManager.on("panend",this.handlePanEnd)}},{key:"_stopHammertime",value:function(){this._hammerManager.off("panstart"),this._hammerManager.off("panmove"),this._hammerManager.off("panend"),this._hammerManager&&(this._hammerManager.destroy(),this._hammerManager=null)}},{key:"render",value:function(){var e=this.props,t={left:e.x,top:e.y,width:e.width,height:e.height,cursor:e.cursor,backgroundColor:this.context.highlight};return n.createElement("div",{className:"viewport",style:t},n.createElement("div",{className:"gripper"},n.createElement("div",{className:"grip"}),n.createElement("div",{className:"grip"}),n.createElement("div",{className:"grip"})))}}])&&Me(t.prototype,r),o&&Me(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);Fe.contextType=Ce.N,Fe.defaultProps={onPanStart:Se(),onPanMove:Se(),onPanEnd:Se(),cursor:"auto"};var ze=r(94184),We=r.n(ze),Ge=r(97234);function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xe(n.key),n)}}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function qe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qe(e);if(t){var o=Qe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $e(e)}(this,r)}}function $e(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qe(e){return Qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qe(e)}function Je(e,t,r){return(t=Xe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var et=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(a,e);var t,r,o,i=qe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Je($e(t=i.call(this,e)),"handlePanStart",(function(e){t.props.onPanStart(e,t.props.handle)})),Je($e(t),"handlePanMove",(function(e){t.props.onPanMove(e,t.props.handle)})),Je($e(t),"handlePanEnd",(function(e){t.props.onPanEnd(e,t.props.handle)})),t._hammerManager=null,t}return t=a,(r=[{key:"componentDidMount",value:function(){this._hammertime()}},{key:"componentWillUnmount",value:function(){this._stopHammertime()}},{key:"_hammertime",value:function(){this._hammerManager||(this._hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Pan,{threshold:0,direction:Ae().DIRECTION_HORIZONTAL}]]})),this._hammerManager.on("panstart",this.handlePanStart),this._hammerManager.on("panmove",this.handlePanMove),this._hammerManager.on("panend",this.handlePanEnd)}},{key:"_stopHammertime",value:function(){this._hammerManager&&(this._hammerManager.off("panstart"),this._hammerManager.off("panmove"),this._hammerManager.off("panend"),this._hammerManager.destroy(),this._hammerManager=null)}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,o=e.width,i=e.height,a=e.handle,c=e.cursor,u=this.context,l=(0,Ge.Z)(u.primary),s=l.isLight()?l.darken(7).toHexString():l.lighten(7).toHexString();l=(0,Ge.Z)(u.highlight);var f=u.highlight,p={top:r,left:t,width:o,height:i,marginTop:i/2*-1,marginLeft:o/2*-1,backgroundColor:s,borderColor:f,cursor:c},d={height:Math.round(.4*i),backgroundColor:f},m=We()("handle","handle--".concat(a));return n.createElement("div",{className:m,"data-handle":a,style:p},n.createElement("div",{className:"gripper"},n.createElement("div",{className:"grip",style:d}),n.createElement("div",{className:"grip",style:d}),n.createElement("div",{className:"grip",style:d})))}}])&&Ke(t.prototype,r),o&&Ke(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);et.contextType=Ce.N,et.defaultProps={cursor:"auto"};var tt=function(e){var t=(0,n.useContext)(Ce.N),r=(0,n.useRef)(null),o=function(t,r){var n=e.surfaceWidth,o=e.viewportWidth,i=e.viewportX,a=n-o,c=(0,$.clamp)(i+t,0,a),u=Math.abs(c),l=u+o,s=I()([0,n],[0,1]),f=s(u),p=s(l);e.onViewportPanMove(f,p)},i=function(t,n){var o=t.center;t.timeStamp;r.current=o,e.onViewportPanStart()},a=function(e,t){e.preventDefault();var n=e.center,o=(e.timeStamp,r.current);if(r.current=n,o){var i=o.x,a=n.x;u(-1*(i-a),0,t)}},c=function(t,n){r.current=null,e.onViewportPanEnd()},u=function(t,r,n){var o,i,a,c,u,l,s=e.maxWidthRatio,f=e.minWidthRatio,p=e.viewportX,d=e.surfaceWidth,m=e.viewportWidth,y=d*s,h=d*f,v=I()([0,d],[0,1]);switch(n){case"left":var b=p+m;o=(0,$.clamp)(b-h,0,d),i=(0,$.clamp)(b-y,0,d),a=(0,$.clamp)(p+t,o,i),c=p+m,u=v(Math.abs(a)),l=v(c);break;case"right":var g=p;o=(0,$.clamp)(g+y,0,d),i=(0,$.clamp)(g+h,0,d),a=(0,$.clamp)(p+m+t,o,i),c=Math.abs(a),u=v(p),l=v(c)}e.onViewportPanMove(u,l)},l=e.x,s=e.y,f=e.width,p=e.height,d=e.cursors,m=e.surfaceWidth,y=e.surfaceHeight,h=e.viewportX,v=e.viewportY,b=e.viewportWidth,g=e.viewportHeight,E=e.handleWidth,w=e.handleHeight,O={left:l,top:s,width:f,height:p,zIndex:1},_=g/2,P=h,S=h+b;return n.createElement("div",{className:"scrubber",style:O},n.createElement(Ie,{x:0,y:0,width:m,height:y,colorScheme:t,cursor:d.surface}),n.createElement(Fe,{x:h,y:v,width:b,height:g,colorScheme:t,cursor:d.viewport,onPanStart:function(t){t.preventDefault();t.timeStamp;var n=t.center;r.current=n,e.onViewportPanStart()},onPanMove:function(e){e.preventDefault();var t=e.center,n=(e.timeStamp,r.current);if(r.current=t,n){var i=n.x,a=t.x;o(-1*(i-a),0)}},onPanEnd:function(t){t.preventDefault(),r.current=null,e.onViewportPanEnd()}}),n.createElement(et,{x:P,y:_,width:E,height:w,handle:"left",colorScheme:t,cursor:d.leftHandle,onPanStart:i,onPanMove:a,onPanEnd:c}),n.createElement(et,{x:S,y:_,width:E,height:w,handle:"right",colorScheme:t,cursor:d.rightHandle,onPanStart:i,onPanMove:a,onPanEnd:c}))};tt.defaultProps={onViewportPanStart:Se(),onViewportPanMove:Se(),onViewportPanEnd:Se()};var rt=tt;function nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ot(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(r),!0).forEach((function(t){it(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function it(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var at=function(e){var t=(0,n.useContext)(h),r=t.state,o=t.dispatch,i=we(r,e),a=Oe(r,e),c=a.x,u=a.y,l=a.width,s=a.height,f=oe(r),p=i.maxWidthRatio,d=i.minWidthRatio,m=f.gripperWidth,y=f.gripperHeight,v=f.handleWidth,b=f.handleHeight,g=l,O=s,_=I()([0,i.surface.width],[0,l]),P=_(Math.abs(i.surface.x)),S=_(i.viewport.width),j=s,C=_e(r,e),T=ot(ot({},e),{},{x:c,y:u,width:l,height:s,cursors:C,surfaceWidth:g,surfaceHeight:O,viewportX:P,viewportY:0,viewportWidth:S,viewportHeight:j,maxWidthRatio:p,minWidthRatio:d,gripperWidth:m,gripperHeight:y,handleWidth:v,handleHeight:b,onViewportPanStart:function(){o(E())},onViewportPanMove:function(e,t){o(w((0,$.clamp)(e,0,1),(0,$.clamp)(t,0,1)))},onViewportPanEnd:function(){}});return n.createElement(rt,T)},ct=(0,O.P1)(re,ne,(function(e,t){var r=(0,$.clamp)(e-80,100,460),n=(0,$.clamp)(t-80,100,580);return{x:e/2-r/2,y:t/2-n/2,width:r,height:n}})),ut=(0,O.P1)(we,me,F,de,(function(e,t){return t.markers}),(function(e,t){return t.timespans}),(function(e,t,r,n,o,i){return ee({x:e.surface.x,y:e.surface.y,width:e.surface.width,height:e.surface.height},t)})),lt=(0,O.P1)(we,(function(e){return{surface:e.surface,viewport:e.viewport}})),st=(0,O.P1)(lt,(function(e){return e.surface.width-e.viewport.width>=1?"move":"auto"})),ft=r(10593),pt=r(70666),dt=r(37727);function mt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,gt(n.key),n)}}function yt(e,t){return yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},yt(e,t)}function ht(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=bt(e);if(t){var o=bt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vt(e)}(this,r)}}function vt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(e){return bt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bt(e)}function gt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Et=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&yt(e,t)}(a,e);var t,r,o,i=ht(a);function a(e){var t,r,n,o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),r=vt(t),o=function(e){t.props.onTap(e,t.props.onTapArgs)},(n=gt(n="handleTap"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,t._hammerManager=null,t}return t=a,(r=[{key:"componentDidMount",value:function(){this._hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Tap]]}),this._hammerManager.on("tap",this.handleTap)}},{key:"componentWillUnmount",value:function(){this._hammerManager.off("tap"),this._hammerManager.destroy()}},{key:"render",value:function(){var e=this.props,t={position:e.position,width:e.width,height:e.height,left:e.left,top:e.top,zIndex:e.zIndex};return n.createElement("div",{className:this.props.className,style:t})}}])&&mt(t.prototype,r),o&&mt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);Et.defaultProps={onTap:Se(),onTapArgs:null,className:"modal-background",width:"100%",height:"100%",left:0,top:0,position:"relative",zIndex:50};var wt=r(38094),Ot=r(48351),_t=r(75993),Pt=r(2932);function St(e){return e.length>4?"small":"large"}var jt=(0,O.P1)(re,(function(e){return.004*e})),Ct=(0,O.P1)(re,be,de,jt,(function(e,t,r,n){var o=t.width,i=r.duration,a=e/o*i/(n+1);return function(e,t,r,n,o){var i=[];if(!(0,Pt.exists)(e)||!(0,Pt.exists)(t)||!(0,Pt.exists)(r)||!(0,Pt.exists)(n)||!(0,Pt.exists)(o))return i;var a,c,u,l,s,f,p=Math.round(t),d=Math.round(r),m=new V.Z(p),y=new V.Z(d),h=I()([p,d],[0,o]);switch(e){case"day":for(l=(c=(0,Ot.getDaysBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.day(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"week":for(l=(c=(0,Ot.getStartsOfWeekBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.day(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"month":for(l=(c=(0,Ot.getMonthsBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,1===a.month?(f=_t.default.year(a),i.push({type:"large",label:f,xPos:h(s),key:s})):(f=_t.default.abbreviatedMonth(a),i.push({type:"small",label:f,xPos:h(s),key:s}));break;case"halfyear":for(l=(c=(0,Ot.getHalfYearsBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,1===a.month?(f=_t.default.year(a),i.push({type:"large",label:f,xPos:h(s),key:s})):(f=null,i.push({type:"small",label:f,xPos:h(a.epochMilliseconds),key:s}));break;case"year":for(l=(c=(0,Ot.getYearsBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"halfdecade":for(l=(c=(0,Ot.getHalfDecadesBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"decade":for(l=(c=(0,Ot.getDecadesBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"halfcentury":for(l=(c=(0,Ot.getHalfCenturiesBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"century":for(l=(c=(0,Ot.getCenturiesBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"halfmillenium":for(l=(c=(0,Ot.getHalfMilleniaBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"millenium":for(l=(c=(0,Ot.getMilleniaBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"halfdecamillenium":for(l=(c=(0,Ot.getHalfDecamilleniaBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s});break;case"decamillenium":for(l=(c=(0,Ot.getDecamilleniaBetween)(m,y)).length,u=0;u<l;u++)s=(a=c[u]).epochMilliseconds,f=_t.default.year(a),i.push({type:St(f),label:f,xPos:h(s),key:s})}return i}((0,Ot.findClosestMagnitude)(a),r.startTime,r.endTime,i,t.width)})),Tt=(0,O.P1)(te,(function(e){return e}));function Rt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function kt(e,t){return kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kt(e,t)}function Nt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=It(e);if(t){var o=It(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function It(e){return It=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},It(e)}var xt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(a,e);var t,r,o,i=Nt(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getLabelContent",value:function(){var e=this.props,t=e.label,r={color:e.color};return t&&t.length>0?n.createElement("div",{style:r,className:"label"},t):null}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.size,o=e.color,i=this.getLabelContent(),a="translate(".concat(t,"px, 0px)"),c={left:0,WebkitTransform:a,MozTransform:a,msTransform:a,transform:a},u={backgroundColor:o};return n.createElement("div",{className:We()("tick","tick--".concat(r)),style:c},n.createElement("div",{className:"tick__content"},i,n.createElement("div",{className:"graphic",style:u})))}}])&&Rt(t.prototype,r),o&&Rt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);function Dt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ut(n.key),n)}}function At(e,t){return At=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},At(e,t)}function Mt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Zt(e);if(t){var o=Zt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Lt(e)}(this,r)}}function Lt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zt(e){return Zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Zt(e)}function Ht(e,t,r){return(t=Ut(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ut(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Bt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&At(e,t)}(a,e);var t,r,o,i=Mt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Ht(Lt(t=i.call(this,e)),"handlePanStart",(function(e){t.props.onPanStart(e)})),Ht(Lt(t),"handlePanMove",(function(e){t.props.onPanMove(e)})),Ht(Lt(t),"handlePanEnd",(function(e){t.props.onPanEnd(e)})),t._hammerManager=null,t._addedHammerListeners=!1,t}return t=a,(r=[{key:"_hammertime",value:function(){this._hammerManager||(this._hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Pan,{threshold:0,direction:Ae().DIRECTION_HORIZONTAL}]]})),this._addHammerListeners()}},{key:"_addHammerListeners",value:function(){!this._addedHammerListeners&&this._hammerManager&&(this._hammerManager.on("panstart",this.handlePanStart),this._hammerManager.on("panmove",this.handlePanMove),this._hammerManager.on("panend",this.handlePanEnd),this._addedHammerListeners=!0)}},{key:"_removeHammerListeners",value:function(){this._addedHammerListeners&&this._hammerManager&&(this._hammerManager.off("panstart"),this._hammerManager.off("panmove"),this._hammerManager.off("panend"),this._addedHammerListeners=!1)}},{key:"_removeHammerManager",value:function(){this._hammerManager.destroy(),this._hammerManager=null}},{key:"componentDidMount",value:function(){this._hammertime()}},{key:"componentDidUpdate",value:function(){this._hammertime()}},{key:"componentWillUnmount",value:function(){this._removeHammerListeners(),this._removeHammerManager()}},{key:"getTicksContent",value:function(){var e=this.props,t=e.ticks,r=e.offset,o=e.width,i=this.context;return t.map((function(e){var t=e.label,a=e.key,c=e.type,u=e.xPos,l=r+u,s=i.tertiary;return n.createElement(dt.y_,{key:"motion-tick-".concat(a),defaultStyle:{x:l},style:{x:(0,dt.ST)(l)}},(function(e){return e.x>0&&e.x<o?n.createElement(xt,{label:t,x:e.x,size:c,color:s}):null}))}))}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,o=e.cursor,i=e.axisX,a=e.axisY,c={width:t,height:r,cursor:o,backgroundColor:this.context.primary},u={left:i,top:a},l=this.getTicksContent();return n.createElement("div",{className:"background",style:c},n.createElement("div",{className:"axis",style:u},l))}}])&&Dt(t.prototype,r),o&&Dt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function Vt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ft(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vt(Object(r),!0).forEach((function(t){zt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function zt(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}Bt.contextType=Ce.N,Bt.defaultProps={width:0,height:0,axisX:0,axisY:0,cursor:"auto",onPanStart:Se(),onPanMove:Se(),onPanEnd:Se()};var Wt=function(e){var t=(0,n.useContext)(h).state,r=e.onPanStart,o=e.onPanMove,i=e.onPanEnd,a=Tt(t,e),c=st(t,e),u=lt(t,e).surface.x,l=Ct(t,e),s=Oe(t,e).y,f=Ft(Ft({},e),{},{width:a.width,height:a.height,ticks:l,axisX:0,axisY:s,offset:u,onPanStart:r,onPanMove:o,onPanEnd:i,cursor:c});return n.createElement(Bt,f)},Gt=(r(42869),r(49959));function Kt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Xt(n.key),n)}}function Yt(e,t){return Yt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Yt(e,t)}function qt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Qt(e);if(t){var o=Qt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return $t(e)}(this,r)}}function $t(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return Qt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Qt(e)}function Jt(e,t,r){return(t=Xt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var er=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Yt(e,t)}(a,e);var t,r,o,i=qt(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Jt($t(t=i.call(this,e)),"handleTap",(function(e){(0,t.props.onTap)(e)})),Jt($t(t),"handleMouseEnter",(function(e){t.setState({mouseOver:!0})})),Jt($t(t),"handleMouseLeave",(function(e){t.setState({mouseOver:!1})})),t.hammerManager=null,t.state={mouseOver:!1},t}return t=a,(r=[{key:"componentDidMount",value:function(){this.hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Tap]]}),this.hammerManager.on("tap",this.handleTap)}},{key:"componentWillUnmount",value:function(){this.hammerManager.off("tap"),this.hammerManager.destroy()}},{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,o=(e.ref,e.opacity),i=e.rotation,a=(e.refCallback,e.zIndex),c=e.colorScheme,u=this.state.mouseOver,l={position:"absolute",top:r,left:t,zIndex:a,opacity:o,transform:"rotate(".concat(i,"deg)"),backgroundColor:c.secondary,color:u?c.highlight:c.tertiary},s=null;return o>0?s=n.createElement(Gt.Z,{xlinkHref:"#streamline-core-line-delete-1",alt:"Close",pointerEvents:"none"}):l.width=l.height=0,n.createElement("div",{className:"close-button",onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,style:l,title:"Close"},s)}}])&&Kt(t.prototype,r),o&&Kt(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function tr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,cr(n.key),n)}}function rr(e,t){return rr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},rr(e,t)}function nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ir(e);if(t){var o=ir(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return or(e)}(this,r)}}function or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ir(e){return ir=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ir(e)}function ar(e,t,r){return(t=cr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}er.defaultProps={x:0,y:0,rotation:0,opacity:1,zIndex:1,onTap:Se(),colorScheme:(0,je.yi)()};var ur=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rr(e,t)}(a,e);var t,r,o,i=nr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ar(or(t=i.call(this,e)),"closeButtonRefCallback",(function(e){t.closeButtonRef=e})),ar(or(t),"handleTapClose",(function(e){t.props.onTapClose(e,t.props.onTapCloseArgs)})),t.closeButtonRef=null,t}return t=a,(r=[{key:"getCloseButtonContent",value:function(e,t,r,o){var i=this.context;return n.createElement(er,{x:e,y:t,onTap:this.handleTapClose,opacity:o,zIndex:r,colorScheme:i})}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,o=e.cardX,i=e.cardY,a=e.cardWidth,c=e.cardHeight,u=e.zIndex,l="translate(".concat(o,"px, ").concat(i,"px)"),s={left:0,top:0,WebkitTransform:l,MozTransform:l,msTransform:l,transform:l,width:a,height:c,zIndex:u},f=this.context,p=f.secondary,d={height:c,backgroundColor:p,color:(0,je.Od)(p,f)},m={width:a,height:c},y=this.getCloseButtonContent(o+a,i,u+1,1);return n.createElement("div",null,n.createElement(Et,{width:t,height:r,onTap:this.handleTapClose,zIndex:u}),n.createElement("div",{className:"timeline-modal-card z-depth-2",style:s},n.createElement("div",{className:"card-content-holder",style:m},n.createElement("div",{className:"card-content",style:d},this.props.children))),y)}}])&&tr(t.prototype,r),o&&tr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function sr(e,t){return sr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},sr(e,t)}function fr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pr(e);if(t){var o=pr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function pr(e){return pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pr(e)}ur.contextType=Ce.N,ur.defaultProps={width:"100%",height:"100%",cardX:20,cardY:20,cardWidth:100,cardHeight:100,cardBackgroundColor:"#FFFFFF",zIndex:51,onTapClose:Se(),onTapCloseArgs:null};var dr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sr(e,t)}(a,e);var t,r,o,i=fr(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"render",value:function(){var e=this.props,t=e.x,r=e.y,o=e.height,i=this.context.highlight,a="translate(".concat(Math.round(t),"px, ").concat(Math.round(r),"px)"),c={left:0,top:0,WebkitTransform:a,MozTransform:a,msTransform:a,transform:a,zIndex:15},u={height:o,borderLeftColor:i},l={width:8,height:8,borderRadius:4,marginLeft:-4,marginTop:-4,backgroundColor:i};return n.createElement("span",{className:"marker-position-indicator",style:c},n.createElement("div",{className:"marker-position-indicator__line",style:u}),n.createElement("div",{className:"marker-position-indicator__dot",style:l}))}}])&&lr(t.prototype,r),o&&lr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent),mr=r(54087),yr=r.n(mr),hr=r(87185),vr=r.n(hr),br=r(18446),gr=r.n(br);function Er(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Sr(n.key),n)}}function wr(e,t){return wr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},wr(e,t)}function Or(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Pr(e);if(t){var o=Pr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _r(e)}(this,r)}}function _r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pr(e){return Pr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pr(e)}function Sr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var jr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wr(e,t)}(a,e);var t,r,o,i=Or(a);function a(e){var t,r,n,o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),r=_r(t),o=function(e){t.props.onClick},(n=Sr(n="handleClick"))in r?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o;var c={src:e.imgSrc,width:e.imgWidth,height:e.imgHeight};return t.state={images:[c],prevImageSrc:e.imgSrc},t}return t=a,o=[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.imgSrc,n=e.imgWidth,o=e.imgHeight;if(t.images,t.prevImageSrc!==r){var i={src:r,width:n,height:o};return{images:vr()(t.images.concat([i]),gr()),prevImageSrc:r}}return null}}],(r=[{key:"getImagesContent",value:function(){var e=this.state.images,t=this.props,r=t.containerWidth,o=t.containerHeight;return A()(e,(function(e){var t=e.src,i={width:r,height:o,backgroundImage:"url('".concat(t,"')"),backgroundSize:"cover",backgroundPosition:"center center",position:"absolute",top:0,left:0};return n.createElement("div",{key:"image-".concat(t),style:i})}))}},{key:"render",value:function(){var e=this.props,t=e.containerWidth,r=e.containerHeight,o=e.className,i=this.getImagesContent(),a={width:t,height:r};return n.createElement("div",{onClick:this.handleClick,className:o,style:a},i)}}])&&Er(t.prototype,r),o&&Er(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);jr.defaultProps={imgSrc:"",imgWidth:null,imgHeight:null,imgAlt:"",containerWidth:0,containerHeight:0,onClick:Se(),className:""};var Cr=r(60133),Tr=r(8776);function Rr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Ar(n.key),n)}}function kr(e,t){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},kr(e,t)}function Nr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=xr(e);if(t){var o=xr(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ir(e)}(this,r)}}function Ir(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xr(e){return xr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xr(e)}function Dr(e,t,r){return(t=Ar(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ar(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Mr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kr(e,t)}(a,e);var t,r,o,i=Nr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Dr(Ir(t=i.call(this,e)),"handleClick",(function(e){t.toggleModalVisibility()})),Dr(Ir(t),"handleCloseModal",(function(e){t.toggleModalVisibility()})),t.$portalTarget=null,t.state={modalOpen:!1},t}return t=a,r=[{key:"setupPortalTarget",value:function(){this.$portalTarget||(this.$portalTarget=document.querySelector("#js-timeline-item-modal-target"),this.$portalTarget||(this.$portalTarget=document.createElement("div"),document.body.appendChild(this.$portalTarget)))}},{key:"toggleModalVisibility",value:function(){this.setState({modalOpen:!this.state.modalOpen})}},{key:"getModalContent",value:function(){var e=this.props,t=e.modalImageData,r=e.enableModalViewing,o=this.state.modalOpen;if(r&&o){var i=null;i=void 0!==t?n.createElement(Cr.Z,{src:t.src,width:t.width,height:t.height,style:{width:"100%",height:"auto",display:"block"}}):n.createElement("p",null,"Sorry, this image is unavailable.");var a=n.createElement(Tr.Z,{onClose:this.handleCloseModal},i);return this.setupPortalTarget(),(0,xe.createPortal)(a,this.$portalTarget)}return null}},{key:"render",value:function(){var e=this.props,t=e.imageData,r=e.containerWidth,o=e.containerHeight,i=e.zIndex,a=e.enableModalViewing,c={zIndex:i,cursor:a?"pointer":"inherit"},u=a?this.handleClick:null,l=this.getModalContent();return n.createElement("div",{className:"tooltip-main-image-container",style:c,onClick:u},n.createElement(jr,{imgSrc:t.src,imgWidth:t.width,imgHeight:t.height,containerWidth:r,containerHeight:o}),l)}}],r&&Rr(t.prototype,r),o&&Rr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);function Lr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fr(n.key),n)}}function Zr(e,t){return Zr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Zr(e,t)}function Hr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Br(e);if(t){var o=Br(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ur(e)}(this,r)}}function Ur(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Br(e){return Br=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Br(e)}function Vr(e,t,r){return(t=Fr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var zr=r(99363),Wr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Zr(e,t)}(a,e);var t,r,o,i=Hr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Vr(Ur(t=i.call(this,e)),"handleTap",(function(e){var r=t.props,n=r.onTap;switch(r.targetState){case"contracted":case"contracting":n(e,t.tapData())}})),Vr(Ur(t),"handleTapButton",(function(e){var r=t.props,n=r.targetState,o=r.onTapClose,i=r.onTap;switch(n){case"expanded":case"expanding":o(e,t.tapData());break;case"contracted":case"contracting":i(e,t.tapData())}})),Vr(Ur(t),"handlePanStart",(function(e){t.props.onPanStart(e)})),Vr(Ur(t),"handlePanMove",(function(e){t.props.onPanMove(e)})),Vr(Ur(t),"handlePanEnd",(function(e){t.props.onPanEnd(e)})),t.hammerManager=null,t.buttonHammerManager=null,t.addedHammerListeners=!1,t.addedButtonHammerListeners=!1,t.animationId=null,t._fsm=null,t.createStateMachine(),t.state={animationState:t._fsm.current},t._fsm.onenterstate=function(e,t,r,n){n.enterStateHandler(n,this)},t}return t=a,(r=[{key:"createStateMachine",value:function(){var e=this.props.targetState;this._fsm=zr.create({initial:e,error:function(e,t,r,n,o,i){},events:[{name:"expand",from:["contracted","contracting"],to:"expanding"},{name:"expanded",from:"expanding",to:"expanded"},{name:"contract",from:["expanded","expanding"],to:"contracting"},{name:"contracted",from:"contracting",to:"contracted"}]})}},{key:"enterStateHandler",value:function(e,t){e.setState({animationState:t.current}),this.lineUpRaf()}},{key:"expand",value:function(){this._fsm.expand(this)}},{key:"expanded",value:function(){this._fsm.expanded(this)}},{key:"contract",value:function(){this._fsm.contract(this)}},{key:"contracted",value:function(){this._fsm.contracted(this)}},{key:"inTransitionState",value:function(){switch(this._fsm.current){case"expanding":case"contracting":return!0;default:return!1}}},{key:"componentDidMount",value:function(){this.hammertime()}},{key:"componentDidUpdate",value:function(e,t,r){this.hammertime();var n=this.props.targetState;n!==e.targetState&&(yr().cancel(this.animationId),"expanded"===n?this.expand():"contracted"===n&&this.contract())}},{key:"checkForAnimationStateChange",value:function(){if(this.state.animationState,this.inTransitionState()){var e=this.props,t=e.x,r=e.y,n=e.width,o=e.height,i=e.targetX,a=e.targetY,c=e.targetWidth,u=e.targetHeight;if(e.targetState,i===t&&a===r&&c===n&&u===o)switch(yr().cancel(this.animationId),this._fsm.current){case"expanding":this.expanded();break;case"contracting":this.contracted()}else this.lineUpRaf()}else yr().cancel(this.animationId)}},{key:"lineUpRaf",value:function(){var e=this;this.animationId=yr()((function(){e.checkForAnimationStateChange()}))}},{key:"hammertime",value:function(){var e=this.props.targetState;if("expanded"===e)this.hammerManager&&(this.removeHammerListeners(),this.removeHammerManager());else switch(this.hammerManager||(this.hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Pan,{threshold:0,direction:Ae().DIRECTION_HORIZONTAL}],[Ae().Tap]]})),e){case"contracted":case"contracting":this.addHammerListeners();break;case"expanding":case"expanded":this.removeHammerListeners()}}},{key:"stopHammertime",value:function(){this.removeHammerListeners(),this.removeHammerManager()}},{key:"removeHammerManager",value:function(){this.hammerManager&&(this.hammerManager.destroy(),this.hammerManager=null)}},{key:"addHammerListeners",value:function(){!this.addedHammerListeners&&this.hammerManager&&(this.hammerManager.on("tap",this.handleTap),this.hammerManager.on("panstart",this.handlePanStart),this.hammerManager.on("panmove",this.handlePanMove),this.hammerManager.on("panend",this.handlePanEnd),this.addedHammerListeners=!0)}},{key:"removeHammerListeners",value:function(){this.addedHammerListeners&&this.hammerManager&&(this.hammerManager.off("tap"),this.hammerManager.off("panstart"),this.hammerManager.off("panmove"),this.hammerManager.off("panend"),this.addedHammerListeners=!1)}},{key:"componentWillUnmount",value:function(){this.stopHammertime()}},{key:"tapData",value:function(){return{id:this.props.marker.id,timelineItemType:"marker"}}},{key:"getCloseButtonContent",value:function(e,t,r,o){var i=this.context,a=90-Math.round(90*(0,$.clamp)(o,0,1));return n.createElement(er,{x:e,y:t,zIndex:r,rotation:a,opacity:o,onTap:this.handleTapButton,colorScheme:i})}},{key:"showImage",value:function(){var e=this.props.photoData;return e&&!0===e.image_processing_complete}},{key:"getContractedContent",value:function(e,t){var r=this.props,o=r.marker,i=r.targetWidth,a=r.targetHeight,c=this.context;if(e>0){var u=c.secondary,l=(0,je.Od)(u,c),s=c.highlight,f={opacity:e,width:i-t-16,height:a-16,position:"absolute",left:t+8,top:8,overflow:"hidden",zIndex:1},p={color:l};return n.createElement("div",{className:"contracted-content",style:f},n.createElement("div",{className:"tooltip-title"},n.createElement("h1",{style:p},n.createElement(wt.Z,{dateTime:o.date,color:s}),", ",n.createElement("span",{dangerouslySetInnerHTML:{__html:o.title}}))))}return null}},{key:"getExpandedContent",value:function(e){var t=this.props,r=t.marker,o=t.expandedWidth,i=this.context;if(e>0){var a=i.highlight,c=(0,je.Od)(a,i),u={backgroundColor:a},l={color:c},s=(0,Ge.Z)(c),f=s.setAlpha(.75).toRgbString(),p=s.setAlpha(.5).toRgbString(),d={backgroundImage:"linear-gradient(to right, ".concat(p,", ").concat(f,", ").concat(p,")")},m=i.secondary,y={opacity:e,width:o,clear:"both",zIndex:1,backgroundColor:m,color:(0,je.Od)(m,i)},h=r.description||"No description.";return n.createElement("div",{className:"expanded-content",style:y},n.createElement("div",{className:"tooltip-title",style:u},n.createElement("h1",{style:l},n.createElement(wt.Z,{dateTime:r.date}),n.createElement("hr",{style:d}),n.createElement("span",{dangerouslySetInnerHTML:{__html:r.title}}))),n.createElement("p",{className:"tooltip-description",dangerouslySetInnerHTML:{__html:h}}))}return null}},{key:"render",value:function(){var e,t,r,o,i,a=this,c=this.state.animationState,u=this.props,l=u.marker,s=u.x,f=u.y,p=u.width,d=u.height,m=u.targetWidth,y=u.targetHeight,h=(u.expandedWidth,u.expandedHeight,u.photoData),v=(u.photos,u.targetState,u.colorScheme),b="translate(".concat(s,"px, ").concat(f,"px)"),g={width:p,height:d,left:0,top:0,WebkitTransform:b,MozTransform:b,msTransform:b,transform:b,display:"block",backgroundColor:v.secondary,zIndex:29},E=this.showImage(),w=0,O=0,_=null,P=E?h.image_urls.medium:null,S=null,j={},C={width:m,height:y};switch(c){case"contracted":t="z-depth-1",e="tooltip-contracted",j.padding=2,E?(_=h.image_urls.small_square,w=45,O=45):j={width:m},g.zIndex=29,i={stiffness:200,damping:23},r=1,o=0;break;case"contracting":t="z-depth-1",e="tooltip-contracted",j.padding=2,g.zIndex=31,E?(_=h.image_urls.small_square,w=45,O=45):j={width:m},i={stiffness:200,damping:23},r=1,o=0;break;case"expanding":case"expanded":t="z-depth-2",e="tooltip-expanded",g.zIndex=32,E&&(_=h.image_urls.medium_landscape,w=g.width,O=g.width/16*9,this.handleImageClick),i={stiffness:180,damping:23},r=0,o=1}var T={width:p,height:d};return n.createElement(dt.y_,{key:"motion-marker-content-".concat(l.id),style:{imageContainerWidth:(0,dt.ST)(w,i),imageContainerHeight:(0,dt.ST)(O,i),contractedContentAlpha:(0,dt.ST)(r,i),expandedContentAlpha:(0,dt.ST)(o,i)}},(function(r){E&&(S=n.createElement(Mr,{imageData:_,modalImageData:P,containerWidth:w,containerHeight:O,zIndex:2,enableModalViewing:"expanded"===c}));var o=a.getContractedContent(r.contractedContentAlpha,w),i=a.getExpandedContent(r.expandedContentAlpha),u=a.getCloseButtonContent(s+p,f,32,r.expandedContentAlpha);return n.createElement("div",null,n.createElement("div",{className:We()("timeline-item","timeline-marker",t),style:g,key:"marker-".concat(l.id)},n.createElement("div",{className:We()("content-holder",e),style:T},n.createElement("div",{className:"content-body",style:C},S,o,i))),u)}))}}])&&Lr(t.prototype,r),o&&Lr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);function Gr(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Jr(n.key),n)}}function Kr(e,t){return Kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Kr(e,t)}function Yr(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$r(e);if(t){var o=$r(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return qr(e)}(this,r)}}function qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function Qr(e,t,r){return(t=Jr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Jr(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}Wr.contextType=Ce.N,Wr.defaultProps={onTap:Se(),onTapClose:Se(),onPanStart:Se(),onPanMove:Se(),onPanEnd:Se(),targetState:"contracted"};var Xr=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kr(e,t)}(a,e);var t,r,o,i=Yr(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Qr(qr(t=i.call(this,e)),"handleTap",(function(e){t.props.onTap(e,t.tapData())})),Qr(qr(t),"handlePanStart",(function(e){t.props.onPanStart(e)})),Qr(qr(t),"handlePanMove",(function(e){t.props.onPanMove(e)})),Qr(qr(t),"handlePanEnd",(function(e){t.props.onPanEnd(e)})),t.hammerManager=null,t.addedHammerListeners=!1,t}return t=a,(r=[{key:"componentDidMount",value:function(){this.hammertime()}},{key:"componentDidUpdate",value:function(){this.hammertime()}},{key:"componentWillUnmount",value:function(){this.stopHammertime()}},{key:"hammertime",value:function(){this.hammerManager||(this.hammerManager=new(Ae().Manager)(xe.findDOMNode(this),{recognizers:[[Ae().Pan,{threshold:0,direction:Ae().DIRECTION_HORIZONTAL}],[Ae().Tap]]})),this.addHammerListeners()}},{key:"stopHammertime",value:function(){this.removeHammerListeners(),this.removeHammerManagers()}},{key:"addHammerListeners",value:function(){!this.addedHammerListeners&&this.hammerManager&&(this.hammerManager.on("tap",this.handleTap),this.hammerManager.on("panstart",this.handlePanStart),this.hammerManager.on("panmove",this.handlePanMove),this.hammerManager.on("panend",this.handlePanEnd),this.addedHammerListeners=!0)}},{key:"removeHammerListeners",value:function(){this.addedHammerListeners&&this.hammerManager&&(this.hammerManager.off("tap"),this.hammerManager.off("panstart"),this.hammerManager.off("panmove"),this.hammerManager.off("panend"),this.addedHammerListeners=!1)}},{key:"removeHammerManagers",value:function(){this.hammerManager&&(this.hammerManager.destroy(),this.hammerManager=null)}},{key:"tapData",value:function(){return{id:this.props.timespan.id,timelineItemType:"timespan"}}},{key:"render",value:function(){var e=this.props,t=e.timespan,r=e.x,o=e.y,i=e.width,a=e.height,c=e.zIndex,u=this.context,l=u.highlight,s=(0,je.Od)(l,u),f="translate(".concat(r,"px, ").concat(o,"px)"),p={width:i,height:a,left:0,top:0,WebkitTransform:f,MozTransform:f,msTransform:f,transform:f,display:"block",zIndex:c,backgroundColor:l,color:s},d={width:i,height:a},m=t.title;return n.createElement("div",{className:"timeline-item timeline-timespan z-depth-1",style:p,key:"timespan-".concat(t.id)},n.createElement("div",{className:"content-holder",style:d},n.createElement("span",{className:"title",dangerouslySetInnerHTML:{__html:m}})))}}])&&Gr(t.prototype,r),o&&Gr(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);Xr.contextType=Ce.N,Xr.defaultProps={x:0,y:0,width:0,height:0,onTap:Se(),onPanStart:Se(),onPanMove:Se(),onPanEnd:Se()};function en(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return tn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tn(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var rn=function(e){var t=e.scrollerData,r=(0,n.useContext)(Ce.N),o=(0,n.useContext)(h),i=o.state,a=o.dispatch,c=i.freeScrolling,u=(0,n.useRef)(null),s=(0,n.useRef)(0),f=(0,n.useRef)(null),p=(0,n.useRef)([]),d=en((0,n.useState)(!1),2),m=(d[0],d[1]);(0,n.useEffect)((function(){m(c)}),[c]);var y=(0,n.useRef)(t);(0,n.useEffect)((function(){y.current=t}),[t]);!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=(0,n.useRef)(0),o=function t(){e(),r.current=requestAnimationFrame(t)};(0,n.useEffect)((function(){return t?r.current=requestAnimationFrame(o):cancelAnimationFrame(r.current),function(){return cancelAnimationFrame(r.current)}}),[t])}((function(){var t=f.current,r=Date.now();if(t){var n=(0,$.clamp)(r-t,0,1e3);if(s.current*=.95,Math.abs(s.current)<.01)f.current=null,T();else{var o=s.current*n,i=y.current,a=i.surface.x,c=Math.round(a+o)-a,u=0+i.viewport.width-i.surface.width,l=(0,$.clamp)(i.surface.x+c,u,0),p=Math.abs(l),d=p+i.viewport.width,m=I()([0,i.surface.width],[0,1]),h=m(p),v=m(d);e.onPanMove(h,v),f.current=r}}else f.current=r}),c);var v,b,g=function(){u.current=null,p.current=[],f.current=null},w=function(t){T(),g();var r=t.timeStamp,n=t.center;u.current=n,P(n.x,n.y,r),e.onPanStart()},O=function(e){var t=e.center,r=e.timeStamp;P(t.x,t.y,r);var n=u.current;if(u.current=t,n){var o=n.x,i=t.x;R(-1*(o-i),0)}},_=function(t){S(),g(),e.onPanEnd(),a({type:l,payload:{}})},P=function(e,t,r){var n=p.current,o=n.length>=100?n.slice(1,100):n.slice();o.push({x:e,y:t,timeStamp:r}),p.current=o},S=function(){var e=Date.now()-200,t=p.current.filter((function(t){return t.timeStamp>e}));if(t.length<2)s.current=0;else{var r=t.slice(1).reduce((function(e,r,n){var o=t[n],i=r.timeStamp-o.timeStamp,a=(r.x-o.x)/i;return e.push(a),e}),[]);s.current=(0,$.calculateWeightedAverage)(r,4)}},j=function(t,r){var n=r.id,o=r.timelineItemType;e.onTimelineItemDrillDown(n,o)},C=function(t,r){var n=r.id,o=r.timelineItemType;e.onTimelineItemDrillUp(n,o)},T=function(){a(E())},R=function(t,r){var n=e.scrollerData,o=n.viewport.width,i=n.surface.x,a=n.surface.width,c=0+o-a,u=(0,$.clamp)(i+t,c,0),l=Math.abs(u),s=l+o,f=I()([0,a],[0,1]),p=f(l),d=f(s);e.onPanMove(p,d)},k=function(t){var r=e.timelineDisplayBounds.viewport,n={x:r.x,y:r.y,width:r.width,height:r.height};return(0,K.rectsIntersect)(n,t)},N=e.timelineDisplayBounds,x=e.displayableTimelineItems,D=N.surface.x,M=N.surface.height,L=x.topY,Z=L<0?I()([L,M],[5,M-5]):null,H=(v=e.markers,b=e.timespans,n.createElement(Wt,{markers:v,timespans:b,onPanStart:w,onPanMove:O,onPanEnd:_})),U=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.markers,a=e.displayableTimelineItems,c=e.drilledDownTimelineItem,u=e.expandedItemBounds,l=e.stageWidth,s=e.stageHeight,f=e.timelineDisplayBounds,p=e.photos;return null!=i?A()(i,(function(e){var i,d,m,y,h,v,b,g,E=e.id;if(c&&"marker"===c.timelineItemType&&c.id===E)i="expanded",m=u.x,y=u.y,h=u.width,v=u.height,d=31;else{var P=a.markers[E.toString()];i="contracted",m=P.x+t,y=null===o?P.y:o(P.y),h=P.width,v=P.height,d=20}return"expanded"===i&&(g=n.createElement(ft.Z,{classNames:"fade-in-200-out-200",timeout:200},n.createElement(Et,{key:"marker-".concat(E,"-modal-layer"),position:"absolute",width:l,height:s,zIndex:30,onTap:C,onTapArgs:{id:E,timelineItemType:"marker"}}))),n.createElement(dt.y_,{key:"motion-marker-".concat(E),defaultStyle:{x:m,y:y,width:h,height:v},style:{x:(0,dt.ST)(m),y:(0,dt.ST)(y),width:(0,dt.ST)(h),height:(0,dt.ST)(v)}},(function(t){if(k({x:t.x,y:t.y,width:t.width,height:t.height})){if(b=null,"contracted"===i){var o=y+v,a={x:t.x+1,y:o,height:f.viewport.height+50-o-8};b=n.createElement(dr,{key:"marker-".concat(E,"-positionIndicator"),x:a.x,y:a.y,height:a.height,colorScheme:r})}var c=null;return e.photo_ids.length>0&&(c=p[e.photo_ids[0].toString()]),n.createElement("div",null,n.createElement(Wr,{key:"marker-".concat(E),marker:e,photoData:c,x:t.x,y:t.y,width:t.width,height:t.height,targetX:m,targetY:y,targetWidth:h,targetHeight:v,expandedWidth:u.width,expandedHeight:u.height,zIndex:d,targetState:i,colorScheme:r,onTap:j,onTapClose:C,onPanStart:w,onPanMove:O,onPanEnd:_}),b,n.createElement(pt.Z,null,g))}return null}))})):null}(D,Z),B=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=e.timespans,a=e.displayableTimelineItems,c=e.drilledDownTimelineItem,u=e.stageWidth,l=e.stageHeight,s=(e.timelineDisplayBounds,e.expandedItemBounds),f=r.highlight,p=(0,je.Od)(f,r);r.secondary;return null!=i?A()(i,(function(e){var i=e.id,d=a.timespans[i.toString()],m=d.x+t,y=null===o?d.y:o(d.y),h=d.width,v=d.height,b=c&&"timespan"===c.timelineItemType&&c.id===i?"expanded":"contracted",g=null;if("expanded"===b){var E=s.width,P=s.height,S=s.x,T=s.y,R={width:E},N=e.description||"No description.",I={backgroundColor:f},x={color:p},D=(0,Ge.Z)(p),A=D.setAlpha(.75).toRgbString(),M=D.setAlpha(.5).toRgbString(),L={backgroundImage:"linear-gradient(to right, ".concat(M,", ").concat(A,", ").concat(M,")")};g=n.createElement(ft.Z,{classNames:"fade-in-out",timeout:600},n.createElement("div",{key:"timespan-".concat(i,"-modal-card"),className:"timeline-modal-card-holder",style:{zIndex:999}},n.createElement(ur,{width:u,height:l,cardWidth:E,cardHeight:P,cardX:S,cardY:T,colorScheme:r,onTapClose:C,onTapCloseArgs:{id:i,timelineItemType:"timespan"}},n.createElement("div",{className:"expanded-content",style:R},n.createElement("div",{className:"tooltip-title",style:I},n.createElement("h1",{style:x},n.createElement(wt.Z,{dateTime:e.start_date,color:p})," \u2013 ",n.createElement(wt.Z,{dateTime:e.end_date,color:p}),n.createElement("hr",{style:L}),n.createElement("span",{dangerouslySetInnerHTML:{__html:e.title}}))),n.createElement("p",{className:"tooltip-description",dangerouslySetInnerHTML:{__html:N}})))))}return n.createElement(dt.y_,{key:"motion-timespan-".concat(i),defaultStyle:{x:m,y:y,width:h,height:v},style:{x:(0,dt.ST)(m),y:(0,dt.ST)(y),width:(0,dt.ST)(h),height:(0,dt.ST)(v)}},(function(t){return k({x:t.x,y:t.y,width:t.width,height:t.height})?n.createElement("div",null,n.createElement(Xr,{key:"timespan-".concat(i),timespan:e,title:e.title,x:t.x,y:t.y,width:t.width,height:t.height,zIndex:20,onTap:j,onTapClose:C,onPanStart:w,onPanMove:O,onPanEnd:_,colorScheme:r}),n.createElement(pt.Z,{key:"timespan-".concat(i,"-transition-group")},g)):null}))})):null}(D,Z);return n.createElement("div",{className:"html-timeline"},H,U,B)};rn.defaultProps={onPanStart:Se(),onPanMove:Se(),onPanEnd:Se(),onTimelineItemDrillDown:Se(),onTimelineItemDrillUp:Se()};var nn=rn;function on(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function an(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?on(Object(r),!0).forEach((function(t){cn(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):on(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cn(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var un=function(e){var t=(0,n.useContext)(h),r=t.state,o=t.dispatch,i=e.timeline,a=e.markers,c=e.timespans,u=e.photos,l=ut(r,e),s=lt(r,e),f=function(e,t){return e.drilledDownItem}(r),m=ct(r,e),y=re(r,e),v=ne(r,e),b=we(r,e),g=an(an({},e),{},{timeline:i,markers:a,timespans:c,photos:u,displayableTimelineItems:l,timelineDisplayBounds:s,drilledDownTimelineItem:f,expandedItemBounds:m,stageWidth:y,stageHeight:v,scrollerData:b,onPanStart:function(){o(E())},onPanMove:function(e,t){o(w((0,$.clamp)(e,0,1),(0,$.clamp)(t,0,1)))},onPanEnd:function(){},onTimelineItemDrillDown:function(e,t){o(function(e,t){return{type:p,payload:{id:e,timelineItemType:t}}}(e,t))},onTimelineItemDrillUp:function(e,t){o(function(e,t){return{type:d,payload:{id:e,timelineItemType:t}}}(e,t))}});return n.createElement(nn,g)},ln=function(e){var t=e.timeline,r=e.markers,o=e.timespans,a=e.photos,l=(0,n.useContext)(h),s=l.state,f=l.dispatch,p=s.initialized,d=s.size.width>0&&s.size.height>0;(0,n.useEffect)((function(){if(!s.initialized&&d){var t=he(s,e);f(function(e){return{type:c,payload:{left:0,right:e}}}(t))}}),[s.initialized,s.size.width,s.size.height]);var m=null;return p&&d&&(m=n.createElement("div",{className:"interactive-timeline z-depth-animation"},n.createElement("div",{className:"timeline-holder"},n.createElement(at,{markers:r,timespans:o}),n.createElement(un,{timeline:t,markers:r,timespans:o,photos:a})))),n.createElement(i(),{id:"timeline-fullscreenable",className:"resizable-content",onlyEvent:!0,onResize:function(e){var t=e.width,r=e.height;f(function(e,t){return{type:u,payload:{size:{width:e,height:t}}}}(t,r))}},m)},sn={HorizontalTimeline:function(e){return n.createElement(g,null,n.createElement(ln,e))}}},85876:function(e,t,r){r.d(t,{Z:function(){return le}});var n=r(67294),o=r(35161),i=r.n(o),a=r(89734),c=r.n(a),u=r(45697),l=r.n(u),s=r(5464),f=r.n(s),p=r(97234),d=(r(42869),r(80782));function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,E(n.key),n)}}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=b(e);if(t){var o=b(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}(this,r)}}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}function g(e,t,r){return(t=E(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var w=function(){return n.createElement("div",{className:"ad"},n.createElement("div",{className:"placeholder-ad"}))},O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(a,e);var t,r,o,i=h(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),g(v(t=i.call(this,e)),"handleResize",(function(e){e.width;var r=e.height;t.setState({filled:r>0})})),t.$adRef=(0,n.createRef)(),t.state={filled:!1},t}return t=a,(r=[{key:"componentDidMount",value:function(){this.updateFilledState()}},{key:"updateFilledState",value:function(){this.setState({filled:this.$adRef.current&&this.$adRef.current.height>0})}},{key:"getAdContent",value:function(){return console.warn("Please override getAdContent in sub-class"),null}},{key:"showPlaceholder",value:function(){return"development"===this.props.environment}},{key:"render",value:function(){var e=this.props,t=(e.environment,e.showAds),r=e.colorScheme,o=this.state.filled;if(t){var i=this.showPlaceholder()?n.createElement(w,null):this.getAdContent(),a=null,c=null,u=null,l=null;if(o){var s=(0,p.Z)(r.primary);a={borderColor:s.isLight()?s.clone().darken(10).toHexString():s.clone().lighten(10).toHexString(),color:s.isLight()?s.darken(25).toHexString():s.lighten(25).toHexString()},c="ad-spacer",u="ad-identifier",l="Advertisements"}return n.createElement("div",{className:c,style:a},n.createElement("div",{className:u},l),n.createElement(f(),{style:{position:"relative"},onlyEvent:!0,onResize:this.handleResize},n.createElement("div",{className:"ad-wrapper",ref:this.$adRef},i)))}return null}}])&&m(t.prototype,r),o&&m(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.Component);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){k(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function S(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,N(n.key),n)}}function j(){return j="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var n=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=R(e)););return e}(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}},j.apply(this,arguments)}function C(e,t){return C=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},C(e,t)}function T(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=R(e);if(t){var o=R(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}function k(e,t,r){return(t=N(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function N(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}g(O,"defaultProps",{colorScheme:(0,d.yi)()});var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&C(e,t)}(a,e);var t,r,o,i=T(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"componentDidMount",value:function(){if(j(R(a.prototype),"componentDidMount",this).call(this),this.props.showAds&&!this.showPlaceholder())try{(window.adsbygoogle=window.adsbygoogle||[]).push({})}catch(e){console.warn(e)}}},{key:"getAdContent",value:function(){var e=this.props,t=e.client,r=e.slot,o=e.adFormat,i=e.adLayout,a=e.adLayoutKey;return n.createElement("ins",{className:"adsbygoogle ad","data-ad-client":t,"data-ad-slot":r,"data-ad-format":o,"data-ad-layout":i,"data-ad-layout-key":a})}}])&&S(t.prototype,r),o&&S(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){H(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,U(n.key),n)}}function M(e,t){return M=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},M(e,t)}function L(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Z(e);if(t){var o=Z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Z(e){return Z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Z(e)}function H(e,t,r){return(t=U(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}k(I,"propTypes",P(P({},O.propTypes),{},{client:l().string.isRequired,slot:l().string.isRequired,adFormat:l().oneOf(["auto","fluid"]),adLayout:l().string,adLayoutKey:l().string})),k(I,"defaultProps",P(P({},O.defaultProps),{},{adFormat:"auto",adLayout:null,adLayoutKey:null}));var B=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&M(e,t)}(a,e);var t,r,o,i=L(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getAdContent",value:function(){var e=this.props.src;return n.createElement("iframe",{src:e,frameBorder:"0",sandbox:"allow-forms allow-pointer-lock allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts allow-top-navigation-by-user-activation",className:"ad"})}}])&&A(t.prototype,r),o&&A(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(O);H(B,"propTypes",D(D({},O.proptypes),{},{src:l().string})),H(B,"defaultProps",D(D({},O.defaultProps),{},{src:null}));var V=r(13812),F=r(88306);var z=r.n(F)()((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFFFFF",t=document.createElement("canvas");t.width=t.height=1;var r=t.getContext("2d");return r.fillStyle=e,r.fillRect(0,0,t.width,t.height),t.toDataURL()})),W=r(35388),G=r(27361),K=r.n(G),Y=r(38094);function q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function $(e,t){return $=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$(e,t)}function Q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=J(e);if(t){var o=J(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var X=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$(e,t)}(a,e);var t,r,o,i=Q(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getImageContent",value:function(){var e=this.props,t=e.data,r=e.photoData,o=e.lazyLoadImage;if(r&&(!0===K()(r,["image_processing_complete"])||!0===K()(r,["attributes","image_processing_complete"]))){var i=K()(r,["image_urls","medium"])||K()(r,["attributes","image_urls","medium"]);if(i){var a=i.src,c=i.width,u=i.height,l=o?"lazy":null;return n.createElement("div",{className:"timeline-item__image"},n.createElement("img",{src:a,width:c,height:u,alt:t.title,style:{width:"100%",height:"auto",display:"block"},loading:l}))}}return null}},{key:"getDescriptionContent",value:function(){var e=this.props.data,t=this.context,r=e.description,o=t.secondary,i={backgroundColor:o,color:(0,d.Od)(o,t)};return""!==r?n.createElement("div",{className:"timeline-item__body",style:i,dangerouslySetInnerHTML:{__html:r}}):null}},{key:"render",value:function(){var e=this.props.data,t=this.context,r=this.getImageContent(),o=this.getDescriptionContent(),i=t.highlight,a=(0,d.Od)(i,t),c={backgroundColor:i},u={color:a},l={backgroundImage:"url(".concat(z(t.tertiary),")")},s={backgroundColor:t.tertiary},f={backgroundColor:t.highlight};return n.createElement("li",{className:"list-timeline__item timeline-item timeline-item--viewer",style:l},n.createElement("div",{className:"timeline-item__line",style:s}),n.createElement("div",{className:"timeline-item__dot"},n.createElement("div",{className:"dot__graphic",style:f})),n.createElement("div",{className:"timeline-item__content-wrapper"},n.createElement("div",{className:"timeline-item__content"},n.createElement("div",{className:"timeline-item__header",style:c},n.createElement("div",{className:"timeline-item__date"},n.createElement(Y.Z,{dateTime:e.date,color:a})),n.createElement("h1",{className:"timeline-item__title",style:u,dangerouslySetInnerHTML:{__html:e.title}})),r,o)))}}])&&q(t.prototype,r),o&&q(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);function ee(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function te(e,t){return te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},te(e,t)}function re(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ne(e);if(t){var o=ne(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}X.contextType=W.N,X.defaultProps={lazyLoadImage:!0};var oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&te(e,t)}(a,e);var t,r,o,i=re(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(r=[{key:"getHeaderContent",value:function(){var e=this.props.data,t=this.context,r=t.highlight,o=(0,d.Od)(r,t),i={backgroundColor:r,color:o},a={color:o};return n.createElement("div",{className:"timeline-item__header",style:i},n.createElement("div",{className:"timeline-item__date"},"Period: ",n.createElement(Y.Z,{dateTime:e.start_date})," to ",n.createElement(Y.Z,{dateTime:e.end_date})),n.createElement("h2",{className:"timeline-item__title",style:a,dangerouslySetInnerHTML:{__html:e.title}}))}},{key:"getDescriptionContent",value:function(){var e=this.props.data,t=this.context,r=t.secondary,o={backgroundColor:r,color:(0,d.Od)(r,t)},i=e.description;return""!==i?n.createElement("div",{className:"timeline-item__body",style:o,dangerouslySetInnerHTML:{__html:i}}):null}},{key:"render",value:function(){var e=this.context,t=this.getDescriptionContent(),r=this.getHeaderContent(),o={backgroundImage:"url(".concat(z(e.tertiary),")")},i={backgroundColor:e.tertiary},a={backgroundColor:e.highlight};return n.createElement("li",{className:"list-timeline__item timeline-item timeline-item--viewer",style:o},n.createElement("div",{className:"timeline-item__line",style:i}),n.createElement("div",{className:"timeline-item__dot"},n.createElement("div",{className:"dot__graphic",style:a})),n.createElement("div",{className:"timeline-item__content-wrapper"},n.createElement("div",{className:"timeline-item__content"},r,t)))}}])&&ee(t.prototype,r),o&&ee(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(n.PureComponent);function ie(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}function ce(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ue(e);if(t){var o=ue(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}oe.contextType=W.N,oe.defaultProps={};var le=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ae(e,t)}(u,e);var t,r,o,a=ce(u);function u(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(t=a.call(this,e)).state={adMixSeed:Math.random()},t}return t=u,(r=[{key:"getDisplayAdContent",value:function(e){var t=this.props,r=t.showAds,o=t.environment;return n.createElement("li",{key:e,className:"list-timeline__item timeline-item timeline-item--viewer reclame reclame--in-content"},n.createElement(I,{client:"ca-pub-3637961829875093",slot:"3833790973",environment:o,showAds:r,adFormat:"auto"}))}},{key:"getNativeInfeedAdContent",value:function(e){var t=this.props,r=t.showAds,o=t.environment;return n.createElement("li",{key:e,className:"list-timeline__item timeline-item timeline-item--viewer reclame reclame--in-content"},n.createElement(I,{client:"ca-pub-3637961829875093",slot:"5307148571",environment:o,showAds:r,adFormat:"fluid",adLayout:"image-top",adLayoutKey:"-8j+1w-dx+ec+gk"}))}},{key:"getTypecurveAdSrc",value:function(){return window.Timetoast.typecurveAdSrc}},{key:"getTypecurveAdContent",value:function(e){var t=this.props,r=t.showAds,o=t.environment;return n.createElement("li",{key:e,className:"list-timeline__item timeline-item timeline-item--viewer reclame reclame--in-content"},n.createElement(B,{src:this.getTypecurveAdSrc(),environment:o,showAds:r}))}},{key:"getTimelineItemsContent",value:function(){var e=this.props,t=e.markers,r=e.timespans,o=e.photos,a=this.context,u=t.concat(r),l=c()(u,[function(e){return V.Z.parse(e.date||e.start_date).getTime()}]),s=0,f=i()(l,(function(e){var t=s>=2;if(s++,e.hasOwnProperty("start_date"))return n.createElement(oe,{key:"list-timespan-item-".concat(e.id),data:e,colorScheme:a});var r=null;if(e.photo_ids.length>0){var i=e.photo_ids[0].toString();r=o[i]}return n.createElement(X,{key:"list-marker-item-".concat(e.id),data:e,photoData:r,colorScheme:a,lazyLoadImage:t})}));f=this.injectAds(f);var p={backgroundImage:"url(".concat(z(a.tertiary),")")};return n.createElement("ul",{className:"unstyled-list list-timeline__list",style:p},f)}},{key:"getAdNetwork",value:function(){return window.Timetoast.adNetwork}},{key:"getAdContent",value:function(e){return"timetoast"===this.getAdNetwork()?this.getTypecurveAdContent(e):this.state.adMixSeed<.2?this.getNativeInfeedAdContent(e):this.getDisplayAdContent(e)}},{key:"injectAds",value:function(e){var t=[2,7,10,15,18,23];if(this.props.showAds&&e.length>=t[0]){var r=e.length,n=[this.getAdContent(1)];r>=t[1]&&n.push(this.getAdContent(2)),r>=t[2]&&n.push(this.getAdContent(3)),r>=t[3]&&n.push(this.getAdContent(4)),r>=t[4]&&n.push(this.getAdContent(5)),r>=t[5]&&n.push(this.getAdContent(6)),r>=t[6]&&n.push(this.getAdContent(7)),r>=t[7]&&n.push(this.getAdContent(8));for(var o=n.length,i=0;i<o;i++)e.splice(t[i],0,n[i])}return e}},{key:"getNoItemsContent",value:function(){return n.createElement("div",{className:"list-timeline__no-items"},n.createElement("p",null,"No events or timespans yet"))}},{key:"render",value:function(){var e=this.props,t=e.markers,r=e.timespans,o=this.context.primary,i=t.length+r.length>0?this.getTimelineItemsContent():this.getNoItemsContent(),a={backgroundColor:o};return n.createElement("div",{className:"list-timeline",style:a},i)}}])&&ie(t.prototype,r),o&&ie(t,o),Object.defineProperty(t,"prototype",{writable:!1}),u}(n.PureComponent);le.contextType=W.N,le.defaultProps={markers:[],timespans:[],showAds:!1}},41062:function(e,t,r){r.d(t,{c:function(){return f}});var n=r(59416),o=r(52628),i=r.n(o),a=r(76700),c=r(20983),u=r(99946),l=r(30367);var s=r(85876),f={ListTimelineContainer:(0,n.$j)((function(e,t){var r=t.timelineId,n=t.environment,o=function(e){return e.data.ads.showAds}(e);(0,a.VS)(e,t,r);return{markers:i()((0,c.Hl)(e,t,r)),timespans:i()((0,u.y2)(e,t,r)),photos:(0,l.wP)(e,t),showAds:o,environment:n}}),(function(e,t){return{}}))(s.Z)}},39425:function(e,t,r){r.d(t,{wx:function(){return pt},ZP:function(){return dt}});var n=r(24268),o=r(82729),i=r.n(o),a=r(84486),c=r.n(a),u=r(64721),l=r.n(u),s="permission_management/CREATE_PERMISSION_REQUEST",f="permission_management/CREATE_PERMISSION_SUCCESS",p="permission_management/CREATE_PERMISSION_FAILURE",d="permission_management/REVOKE_PERMISSION_REQUEST",m="permission_management/REVOKE_PERMISSION_SUCCESS",y="permission_management/REVOKE_PERMISSION_FAILURE",h=(0,n.Lq)({awaitingPermissionCreationResponses:[],awaitingPermissionRevocationResponses:[],externalErrors:{}},(function(e){e.addCase(s,(function(e,t){return g(e,t)})).addCase(f,(function(e,t){return E(e,t)})).addCase(p,(function(e,t){return w(e,t)})).addCase(d,(function(e,t){return O(e,t,!0)})).addMatcher((function(e){var t=e.type;return l()([m,y],t)}),(function(e,t){return O(e,t,!1)}))}));function v(e,t,r){return r?e.awaitingPermissionCreationResponses.push(t):i()(e.awaitingPermissionCreationResponses,(function(e){return e!==t})),e}function b(e){return e.externalErrors={},e}var g=function(e,t){return v(e,t.payload,!0),e},E=function(e,t){return e=b(e=v(e,t.payload,!1))},w=function(e,t){var r=t.payload,n=r.requestSignature,o=r.errors;return v(e,n,!1),b(e),c()(o,(function(t){if(t.hasOwnProperty("permissableType")){var r=t.permissableType;e.externalErrors=e.externalErrors||{},e.externalErrors[r]=e.externalErrors[r]||[],e.externalErrors[r]=e.externalErrors[r].concat(t.errors)}else t.hasOwnProperty("permissionableType")&&console.log("As yet unhandled permissionable error in reducer, TBI")})),e},O=function(e,t,r){var n=t.payload;return r?e.awaitingPermissionRevocationResponses.push(n):i()(e.awaitingPermissionRevocationResponses,(function(e){return e!==n})),e},_=function(e){return e.permissionManagement},P=function(e){return _(e).awaitingPermissionCreationResponses},S=function(e){return _(e).awaitingPermissionRevocationResponses},j=h,C=r(59416),T=r(30233),R=r(5826),k=r(58872),N={},I=function(e){var t=e.permissable_id,r=e.permissable_type,n=e.permissionable_id,o=e.permissionable_type,i=e.role,a="post-permissions-".concat(r,":").concat(t,"-").concat(o,":").concat(n,"-").concat(i);if(N[a])return Promise.reject(new Error(k.Z.CALL_ALREADY_IN_PROGRESS));N[a]=!0;var c={permission:e};return R.Z.post("/api/v1/permissions",c,{transformResponse:function(e){return e}}).finally((function(){delete N[a]}))},x=function(e){var t="delete-permission-".concat(e);return N[t]?Promise.reject(new Error(k.Z.CALL_ALREADY_IN_PROGRESS)):(N[t]=!0,R.Z.delete("/api/v1/permissions/".concat(e)).finally((function(){delete N[t]})))},D=r(69111),A=r(57914),M=r(57342),L=r(63657),Z=r(20036),H=function(e,t){return function(e){e(function(e){return{type:L.Z.PERMISSION_DELETE_SUCCESS,payload:e}}(t)),e(G(t)),e((0,M.x9)("Revoked access"))}},U=function(e){return function(t){var r=function(e){var t=e.permissionable_type,r=e.permissionable_id,n=e.permissable_type,o=(e.permissable_id,e.permissable_identifier||e.permissable_id);return{permissionableType:t,permissionableId:r,permissableType:n,permissableIdentifier:o}}(e);t(V(r)),I(e).then((function(e){t(function(e,t){return function(r){var n=(0,Z.Z)(e),o=(new D.tQ).decode(n.text),i=JSON.parse(o),a=i.message,c=i.entities;r((0,A.M)(c)),r((0,M.x9)(a)),r(F(t))}}(e,r))}),(function(e){t(function(e,t){return function(r){var n=(0,Z.Z)(e.response),o=t.permissableType,i=t.permissionableType;if(404===n.status){var a=(new D.tQ).decode(n.text),c=JSON.parse(a);if(c.hasOwnProperty("errors")){var u=c.errors,l=u.hasOwnProperty("permissable"),s=u.hasOwnProperty("permissionable"),f=[];l&&f.push({permissableType:o,errors:u.permissable}),s&&f.push({permissionableType:i,errors:u.permissionable}),r(z(t,f))}else r(z(t))}else r(z(t));r((0,M._N)("A problem occured while trying to grant access"))}}(e,r))}))}},B=function(e){return function(t){t(W(e)),x(e).then((function(r){t(H(0,e))}),(function(r){t(function(e,t){return function(e){e(K(t)),e((0,M._N)("A problem occured while trying to revoke permission"))}}(0,e))}))}};var V=function(e){return{type:s,payload:e}},F=function(e){return{type:f,payload:e}},z=function(e){return{type:p,payload:{requestSignature:e,errors:arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]}}},W=function(e){return{type:d,payload:e}},G=function(e){return{type:m,payload:e}},K=function(e){return{type:y,payload:e}},Y=r(67294),q=r(50308),$=r.n(q),Q=r(35161),J=r.n(Q),X=r(52628),ee=r.n(X),te=r(56180),re=r.n(te),ne=(r(42869),r(33203)),oe=r(46295),ie=r(94308),ae=r(6031),ce=r(14002),ue=r(83038),le=r(49959);function se(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,he(n.key),n)}}function fe(e,t){return fe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},fe(e,t)}function pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=me(e);if(t){var o=me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}(this,r)}}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return me=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},me(e)}function ye(e,t,r){return(t=he(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function he(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ve=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fe(e,t)}(i,e);var t,r,n,o=pe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),ye(de(t=o.call(this,e)),"handleToggle",(function(e){e.preventDefault(),t.setState({grantingPermission:!t.state.grantingPermission})})),ye(de(t),"handleGroupSelectChange",(function(e){var r=e.value;t.setState({selectedGroupValue:r})})),ye(de(t),"handleRoleSelectChange",(function(e){var r=e.value;t.setState({selectedRoleValue:r})})),ye(de(t),"handleSubmit",(function(e){var r=t.props,n=r.onCreatePermission,o=r.shareable,i=t.state,a=i.selectedGroupValue,c=i.selectedRoleValue;e.preventDefault(),n({permissable_id:a,permissable_type:"Group",permissionable_type:o.type,permissionable_id:o.id,role:c})}));var r=e.groups,n=r.length>0?r[0].id:"";return t.state={grantingPermission:!1,selectedGroupValue:n,selectedRoleValue:"Viewer"},t}return t=i,(r=[{key:"getGroupSelectOptions",value:function(){var e=this.props.groups;return J()(ee()(e),(function(e){return{text:e.name,value:e.id}}))}},{key:"permissionCreationFormIsSubmittable",value:function(){var e=this.state,t=e.selectedGroupValue,r=e.selectedRoleValue,n=[null,void 0,""];return!(l()(n,t)||l()(n,r))}},{key:"render",value:function(){var e=this.props.groups;if(0===Object.keys(e).length)return Y.createElement("p",null,"If you are in a group, you can share this timeline with the rest of its members.");var t=this.props,r=t.isAwaitingPermissionCreationResponse,n=t.roleSelectOptions,o=this.state,i=o.grantingPermission,a=o.selectedGroupValue,c=o.selectedRoleValue,u=this.getGroupSelectOptions(),l=!this.permissionCreationFormIsSubmittable()||r,s=r&&l,f=i?this.handleSubmit:this.handleToggle,p=i?"Grant access":"Share with a group";return Y.createElement(ne.Z,{className:"form sharing__permission-granter",onSubmit:f},Y.createElement(re(),{isOpened:i},Y.createElement("div",{className:"react-collapse-jump-fixer"},Y.createElement(ce.Z,{className:"unbutton dismiss-button right",onClick:this.handleToggle},Y.createElement(le.Z,{xlinkHref:"#streamline-core-line-delete-1",title:"Dismiss",alt:"Dismiss"})),Y.createElement(oe.Z,{className:"form-group"},Y.createElement(ie.Z,{key:"group-select-label",className:"label",htmlFor:"group-select"},"Choose group"),Y.createElement(ae.Z,{id:"group-select",key:"group-select",className:"select",options:u,value:a,onChange:this.handleGroupSelectChange})),Y.createElement(oe.Z,{className:"form-group"},Y.createElement(ie.Z,{key:"role-select-label",className:"label",htmlFor:"role-select"},"Choose access level"),Y.createElement(ae.Z,{id:"role-select",key:"role-select",className:"select",options:n,value:c,onChange:this.handleRoleSelectChange})))),Y.createElement(ue.Z,{className:"btn btn--primary",type:"submit",name:"submit",disabled:l,spinWhenDisabled:s},p))}}])&&se(t.prototype,r),n&&se(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Y.Component);ye(ve,"defaultProps",{shareable:null,groups:[],onCreatePermission:$(),isAwaitingPermissionCreationResponse:!1});var be=(0,C.$j)((function(e,t){var r=t.shareable,n=r.id,o=r.type,i=P(e).some((function(e){var t=e.permissionableType==o&&e.permissionableId==n,r="Group"===e.permissableType;return t&&r}));return{groups:(0,T.XN)(e,t),isAwaitingPermissionCreationResponse:i}}),(function(e){return{onCreatePermission:function(t){e(U(t))}}}))(ve),ge=r(59704),Ee=r.n(ge),we=r(57463);function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=je(e);if(t){var o=je(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}(this,r)}}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ce(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(i,e);var t,r,n,o=Pe(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ce(Se(t=o.call(this,e)),"handleToggle",(function(e){e.preventDefault(),t.setState({grantingPermission:!t.state.grantingPermission})})),Ce(Se(t),"handleInputChange",(function(e){var r=e.value;t.setState({usernameValue:r},(function(){t.validate()}))})),Ce(Se(t),"handleRoleSelectChange",(function(e){var r=e.value;t.setState({selectedRoleValue:r})})),Ce(Se(t),"handleBlur",(function(e){var r=t.validate();t.setState({validationErrors:r})})),Ce(Se(t),"handleSubmit",(function(e){var r=t.props,n=r.onCreatePermission,o=r.shareable,i=t.state,a=i.usernameValue,c=i.selectedRoleValue;e.preventDefault();var u=t.validate();t.setState({validationErrors:u}),Object.values(u).length>0||n({permissable_identifier:a,permissable_type:"User",permissionable_type:o.type,permissionable_id:o.id,role:c})})),t.state={usernameValue:"",grantingPermission:!1,selectedRoleValue:"Viewer",validationErrors:[]},t}return t=i,(r=[{key:"validate",value:function(){var e={};return""===this.state.usernameValue&&(e.username=(e.username||[]).concat(["username is required"])),e}},{key:"render",value:function(){var e=this.props,t=e.isAwaitingPermissionCreationResponse,r=e.roleSelectOptions,n=e.externalErrors,o=this.state,i=o.grantingPermission,a=o.usernameValue,c=o.selectedRoleValue,u=o.validationErrors,l=t,s=i?this.handleSubmit:this.handleToggle,f=i?"Grant access":"Share with a user";return Y.createElement(ne.Z,{className:"form sharing__permission-granter",onSubmit:s},Y.createElement(re(),{isOpened:i},Y.createElement("div",{className:"react-collapse-jump-fixer"},Y.createElement(ce.Z,{className:"unbutton dismiss-button right",onClick:this.handleToggle,title:"Dismiss"},Y.createElement(le.Z,{xlinkHref:"#streamline-core-line-delete-1",alt:"Dismiss",pointerEvents:"none"})),Y.createElement(oe.Z,{className:"form-group",validationErrors:u.username,externalErrors:n},Y.createElement(ie.Z,{key:"group-select-label",className:"label",htmlFor:"username-input"},"Timetoast username *"),Y.createElement(we.Z,{id:"username-input",key:"username-input",value:a,onBlur:this.handleBlur,onChange:this.handleInputChange})),Y.createElement(oe.Z,{className:"form-group"},Y.createElement(ie.Z,{key:"role-select-label",className:"label",htmlFor:"role-select"},"Choose access level"),Y.createElement(ae.Z,{id:"role-select",key:"role-select",className:"select",options:r,value:c,onChange:this.handleRoleSelectChange})))),Y.createElement(ue.Z,{className:"btn btn--primary",onClick:s,disabled:l},f))}}])&&Oe(t.prototype,r),n&&Oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Y.Component);Ce(Re,"defaultProps",{shareable:null,onCreatePermission:$(),isAwaitingPermissionCreationResponse:!1,externalErrors:[]});var ke=(0,C.$j)((function(e,t){var r=t.shareable,n=r.id,o=r.type,i=P(e),a=Ee()(i,(function(e){var t=e.permissionableType==o&&e.permissionableId==n,r="User"===e.permissableType;return t&&r})),c=S(e),u=function(e){return _(e).externalErrors.User||[]}(e);return{isAwaitingPermissionCreationResponse:a,awaitingPermissionRevocationResponses:c,externalErrors:u}}),(function(e){return{onCreatePermission:function(t){e(U(t))}}}))(Re),Ne=r(63105),Ie=r.n(Ne),xe=r(41521);var De=(0,r(20573).P1)([function(e){return function(e){return e.data.permissions}(e)}],(function(e){return ee()(e)})),Ae=r(10593),Me=r(70666);function Le(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Fe(n.key),n)}}function Ze(e,t){return Ze=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ze(e,t)}function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Be(e);if(t){var o=Be(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ue(e)}(this,r)}}function Ue(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Be(e){return Be=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Be(e)}function Ve(e,t,r){return(t=Fe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ze=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ze(e,t)}(i,e);var t,r,n,o=He(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ve(Ue(e=o.call.apply(o,[this].concat(r))),"handleClickRevoke",(function(t){var r=e.props,n=r.permission;(0,r.onClickRevoke)(n.id)})),e}return t=i,(r=[{key:"getRevokeButtonContent",value:function(){var e=this.props,t=e.permission.revocable,r=e.awaitingRevocationResponse;return t?Y.createElement(ue.Z,{className:"btn btn--outline revoke",disabled:r,onClick:this.handleClickRevoke},"Revoke access"):null}},{key:"render",value:function(){var e=this.props.permission,t=this.getRevokeButtonContent();return Y.createElement("li",{className:"permission"},Y.createElement("div",{className:"description"},Y.createElement("span",{dangerouslySetInnerHTML:{__html:e.uiText}})),t)}}])&&Le(t.prototype,r),n&&Le(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Y.Component);function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qe(e);if(t){var o=qe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}(this,r)}}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function $e(e,t,r){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}Ve(ze,"defaultProps",{permission:null,awaitingRevocationResponse:!1,onClickRevoke:$()});var Je=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(i,e);var t,r,n,o=Ke(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$e(Ye(t=o.call(this,e)),"handleRevokeClick",(function(e){(0,t.props.onRevokePermission)(e)})),$e(Ye(t),"toggle",(function(e){e.preventDefault(),t.setState({expanded:!t.state.expanded})})),t.state={expanded:!1},t}return t=i,(r=[{key:"render",value:function(){var e=this,t=this.state.expanded,r=this.props,n=r.permissions,o=r.awaitingPermissionRevocationResponses,i=null;if(n.length>0){var a=J()(n,(function(t){var r=t.id,n=l()(o,r);return Y.createElement(Ae.Z,{key:r,classNames:"fade-in-out",timeout:600},Y.createElement(ze,{permission:t,onClickRevoke:e.handleRevokeClick,awaitingRevocationResponse:n}))}));i=Y.createElement("ul",{className:"unstyled-list"},Y.createElement(Me.Z,null,a))}else i=Y.createElement("p",null,"No permissions have been granted yet.");var c="".concat(t?"Hide":"See"," current permissions");return Y.createElement("div",null,Y.createElement(ce.Z,{onClick:this.toggle,className:"unbutton link"},c),Y.createElement(re(),{isOpened:t},Y.createElement("div",{className:"react-collapse-jump-fixer"},i)))}}])&&We(t.prototype,r),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Y.Component);function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){tt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function tt(e,t,r){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}$e(Je,"defaultProps",{permissions:[],onRevokePermission:$(),awaitingPermissionRevocationResponses:[]});var rt=(0,C.$j)((function(e,t){var r=t.shareable,n=r.id,o=r.type,i=De(e,t),a=Ie()(i,(function(e){return e.permissionable_type===o&&e.permissionable_id===n})),u=[];c()(a,(function(t){var r,n=t.permissable_type,o=t.permissable_id,i="";"Group"===n?(r=(0,T.ex)(e,{groupId:o}))&&(i="Group <strong>".concat(r.name,"</strong>")):"User"===n&&(r=(0,xe.PR)(e,{userId:o}))&&(i="User <strong>".concat(r.display_name,"</strong>")),r&&u.push(et(et({},t),{},{uiText:"".concat(i," has <strong>").concat(t.role,"</strong> access.")}))}));var l=S(e);return{permissions:u,awaitingPermissionRevocationResponses:l}}),(function(e){return{onRevokePermission:function(t){e(B(t))}}}))(Je);function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ct(n.key),n)}}function ot(e,t){return ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ot(e,t)}function it(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=at(e);if(t){var o=at(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function at(e){return at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},at(e)}function ct(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ut,lt,st,ft=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ot(e,t)}(i,e);var t,r,n,o=it(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getRoleSelectOptions",value:function(){return[{text:"Can view",value:"Viewer"},{text:"Can view & edit",value:"Editor"},{text:"Can view, edit, and delete",value:"Admin"}]}},{key:"getGroupPermissionCreatorContent",value:function(){var e=this.props.shareable;if(e.can_grant_group_permissions){var t=this.getRoleSelectOptions();return Y.createElement(be,{shareable:e,roleSelectOptions:t})}}},{key:"getUserPermissionCreatorContent",value:function(){var e=this.props.shareable;if(e.can_grant_user_permissions){var t=this.getRoleSelectOptions();return Y.createElement(ke,{shareable:e,roleSelectOptions:t})}return Y.createElement("p",null,"Premium account holders can share their timelines with individual users.")}},{key:"render",value:function(){var e=this.props.shareable,t=this.getGroupPermissionCreatorContent(),r=this.getUserPermissionCreatorContent();return Y.createElement("section",{className:"sharing__section"},Y.createElement("h1",{className:"heading zeta"},"Sharing permissions"),t,r,Y.createElement(rt,{shareable:e}))}}])&&nt(t.prototype,r),n&&nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(Y.Component);ut=ft,st={shareable:null},(lt=ct(lt="defaultProps"))in ut?Object.defineProperty(ut,lt,{value:st,enumerable:!0,configurable:!0,writable:!0}):ut[lt]=st;var pt={PermissionManagement:ft},dt=j},42996:function(e,t,r){r.d(t,{c:function(){return Ue},Z:function(){return Be}});var n=r(24268),o=r(97779),i=r(22205),a=r.n(i),c=r(64721),u=r.n(c),l=r(63657),s=r(38754),f={PAGINATE:"photo_library/PAGINATE",USER_PHOTOS_REQUEST:"photo_library/USER_PHOTOS_REQUEST",USER_PHOTOS_SUCCESS:"photo_library/USER_PHOTOS_SUCCESS",USER_PHOTOS_FAILURE:"photo_library/USER_PHOTOS_FAILURE",PHOTO_UPLOAD_START:"photo_library/PHOTO_UPLOAD_START",PHOTO_UPLOAD_SUCCESS:"photo_library/PHOTO_UPLOAD_SUCCESS",PHOTO_UPLOAD_FAILURE:"photo_library/PHOTO_UPLOAD_FAILURE",PHOTO_DELETE_REQUEST:"photo_library/PHOTO_DELETE_REQUEST",PHOTO_DELETE_SUCCESS:"photo_library/PHOTO_DELETE_SUCCESS",PHOTO_DELETE_FAILURE:"photo_library/PHOTO_DELETE_FAILURE"},p=(0,n.Lq)({pageNumber:1,photoDeletions:[]},(function(e){e.addCase(f.PAGINATE,(function(e,t){return function(e,t){var r=t.payload;e.pageNumber=r}(e,t)})).addCase(f.PHOTO_DELETE_REQUEST,(function(e,t){return function(e,t){var r=t.payload;return e.photoDeletions.push(r),e}(e,t)})).addCase(f.PHOTO_UPLOAD_START,(function(e,t){return function(e,t){return e.uploading=!0,e}(e)})).addMatcher((function(e){var t=e.type;return u()([f.PHOTO_UPLOAD_SUCCESS,f.PHOTO_UPLOAD_FAILURE],t)}),(function(e,t){return function(e,t){return e.uploading=!1,e}(e)})).addMatcher((function(e){var t=e.type;return u()([f.PHOTO_DELETE_SUCCESS,f.PHOTO_DELETE_FAILURE],t)}),(function(e,t){return function(e,t){var r=t.payload,n=e.photoDeletions.filter((function(e){return e!==r}));e.photoDeletions=n}(e,t)}))}));var d=(0,o.UY)({base:p,pagination:(0,s.V)({mapActionToKey:function(e){var t=e.type,r=e.payload;return t===l.Z.PHOTO_DELETE_SUCCESS?"":r.pageNumber.toString()},types:[f.USER_PHOTOS_REQUEST,f.USER_PHOTOS_SUCCESS,f.USER_PHOTOS_FAILURE,l.Z.PHOTO_DELETE_SUCCESS]})}),m=function(e){return e.photoLibrary},y=function(e){return m(e).base},h=function(e){return m(e).pagination};function v(e,t){var r=t.page,n=function(e){return h(e).lastTotals}(e),o=h(e)[r.toString()];return n&&!o?o=a()({},n,{currentPage:r}):n&&o&&!o.hasFetchedBefore&&(o=a()({},o,n,{currentPage:r})),o}var b=r(59416),g=r(30367),E=r(64975),w=r(58872),O=r(27361),_=r.n(O),P=r(54061),S=r.n(P),j=r(69111),C=r(69082),T=r(84486),R=r.n(T),k=r(80340),N=r(6617),I=r(20036),x=r(55808),D=r(57342),A="ERROR-UPL";var M=function(e,t){return{type:f.USER_PHOTOS_FAILURE,payload:{pageNumber:t}}};function L(){return{type:f.PHOTO_UPLOAD_SUCCESS}}function Z(){return{type:f.PHOTO_UPLOAD_FAILURE}}function H(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(r,n){r(F(e)),E.Z.fetchUserPhotos(e,t).then((function(t){r(function(e,t){return function(r,n){var o,i,a=(0,I.Z)(e),c=(new j.tQ).decode(a.text),u=JSON.parse(c),l=new C.V_("photos"),s=[];u.hasOwnProperty("jsonapi")?(o=(0,x.Z)(u,{camelizeKeys:!1}),s=S()(o.photos,(function(e,t){return e.push(t.id),e}),[]),i=o.photos):(s=(o=(0,C.Fv)(u,{photos:(0,C.CT)(l)})).result.photos,i=o.entities.photos),r((0,k.wD)(i));var p=_()(u,["meta","pagination"]),d=(0,N.k5)(p),m=d.currentPage,y=d.perPage,h=d.totalEntries,v={pageNumber:t,ids:s,pagination:{currentPage:m,perPage:y,totalEntries:h}};r({type:f.USER_PHOTOS_SUCCESS,payload:v})}}(t,e))}),(function(t){r(M(t,e))}))}}function U(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(r,n){r({type:f.PHOTO_UPLOAD_START}),E.Z.createPhotos(e,{apiVersion:t}).then((function(e){r(function(e){return function(t,r){var n,o=(0,I.Z)(e),i=o.body.hasOwnProperty("jsonapi")?2:1;if(2===i){var a=o.body;a.hasOwnProperty("errors")&&R()(a.errors,(function(e){var r=_()(e,"base");t(r?(0,D._N)(r):(0,D._N)("Failed to upload"))}));var c=(0,x.Z)(o.body,{camelizeKeys:!1});n=c.photos||null}else n=[],R()(o.body.data,(function(e){e.errors?t((0,D._N)("Failed to upload")):n.push(e)}));n?(t((0,k.wD)(n)),t(L()),t(H(1,i))):t(L())}}(e))}),(function(e){e.message!==w.Z.CALL_ALREADY_IN_PROGRESS&&r(function(e){return function(t,r){var n=(0,I.Z)(e.response);413===n.status?(t(Z()),t((0,D._N)("File was too big"))):(t(Z()),t((0,D._N)("Error uploading: ".concat(A,"-").concat(n.status))))}}(e))}))}}var B=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(r,n){r(V(e)),E.Z.deletePhoto(e,t).then((function(t){r(function(e,t){return function(e,r){e((0,k.zK)(t)),e({type:f.PHOTO_DELETE_SUCCESS,payload:t})}}(0,e))}),(function(t){r(function(e,t){return{type:f.PHOTO_DELETE_FAILURE,payload:t}}(0,e))}))}},V=function(e){return{type:f.PHOTO_DELETE_REQUEST,payload:e}},F=function(e){return{type:f.USER_PHOTOS_REQUEST,payload:{pageNumber:e}}},z=r(67294),W=r(50308),G=r.n(W),K=(r(42869),r(13937)),Y=r(73935),q=r(94184),$=r.n(q);function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,re(n.key),n)}}function J(e,t){return J=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},J(e,t)}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}(this,r)}}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return te=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},te(e)}function re(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ne=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&J(e,t)}(i,e);var t,r,n,o=X(i);function i(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e=o.call.apply(o,[this].concat(c)),t=ee(e),n=function(t){e.props.onChange(t)},(r=re(r="handleChange"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=i,(r=[{key:"render",value:function(){return z.createElement("div",null,z.createElement("input",{id:this.props.identifier,onChange:this.handleChange,value:this.props.value,type:"file",className:this.props.className}))}}])&&Q(t.prototype,r),n&&Q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(z.Component);ne.defaultProps={value:"",className:"",onChange:G()};var oe=r(52983),ie=r(33512);function ae(e){return function(e){if(Array.isArray(e))return ce(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return ce(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ce(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ce(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,me(n.key),n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pe(e);if(t){var o=pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}(this,r)}}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function de(e,t,r){return(t=me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ye=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(a,e);var t,r,o,i=se(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),de(fe(t=i.call(this,e)),"fileInputChangeHandler",(function(e){var r=e.target.files;r.length>0&&t.props.onChange(r)})),de(fe(t),"browseForFile",(function(){t.getInputRef().click()})),de(fe(t),"handleDrop",(function(e){var r=t.props.maxItems;e.preventDefault();var n=[];e.dataTransfer.items?ae(e.dataTransfer.items).forEach((function(e,t){if("file"===e.kind){var r=e.getAsFile();n.push(r)}})):n=e.dataTransfer.files,n.length>0&&t.props.onChange(n.slice(0,r))})),de(fe(t),"handleDragOver",(function(e){e.preventDefault(),t.setState({draggingOver:!0})})),de(fe(t),"handleDragLeave",(function(e){t.setState({draggingOver:!1})})),t.state={draggingOver:!1},t.$portalEl=null,t.uniqueDOMIdentifier=(0,n.x0)(),t}return t=a,(r=[{key:"componentWillUnmount",value:function(){this.removeFileInput()}},{key:"ensurePortalTargetExists",value:function(){this.$portalEl||(this.$portalEl=document.createElement("div"),document.body.appendChild(this.$portalEl))}},{key:"removeFileInput",value:function(){this.$portalEl&&this.$portalEl.remove()}},{key:"getInputRef",value:function(){return document.getElementById(this.uniqueDOMIdentifier)}},{key:"getLoadingContent",value:function(){return this.props.showProgress?z.createElement("div",{className:"progress-container"},z.createElement(ie.Z,null)):null}},{key:"render",value:function(){var e=this.state.draggingOver,t=$()("dropzone__content",{"dropzone__content--dragging-over":e}),r=this.getLoadingContent();this.ensurePortalTargetExists();var n=(0,Y.createPortal)(z.createElement("div",{className:"hidden"},z.createElement(ne,{identifier:this.uniqueDOMIdentifier,onChange:this.fileInputChangeHandler})),this.$portalEl);return z.createElement(z.Fragment,null,z.createElement("div",{className:"dropzone"},z.createElement("div",{onClick:this.browseForFile,onDrop:this.handleDrop,onDragOver:this.handleDragOver,onDragLeave:this.handleDragLeave,className:t},z.createElement("div",null,"Drag and Drop here"),z.createElement("div",null,"or"),z.createElement(oe.Z,{href:"#",onClick:function(e){e.preventDefault()}},"Browse files")),r),n)}}])&&ue(t.prototype,r),o&&ue(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(z.Component);ye.defaultProps={onChange:G(),showProgress:!1};var he=r(35161),ve=r.n(he),be=r(14002),ge=r(73395),Ee=r(27764),we=r(49959);function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=je(e);if(t){var o=je(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}(this,r)}}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ce(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(i,e);var t,r,n,o=Pe(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ce(Se(e=o.call.apply(o,[this].concat(r))),"didSelectItemHandler",(function(){var t=e.props,r=t.photo;(0,t.onSelect)(r.id)})),Ce(Se(e),"clickDeleteHandler",(function(){var t=e.props,r=t.photo;(0,t.onDelete)(r.id)})),e}return t=i,(r=[{key:"getImageContent",value:function(){var e=this.props.photo;return!0===_()(e,"image_processing_complete")||!0===_()(e,["attributes","image_processing_complete"])?z.createElement(ge.Z,{key:"photo_preview_".concat(e.id),photo:e,thumbnailStyle:"large_square"}):null}},{key:"getProgressIndicatorContent",value:function(){var e=this.props,t=e.photo;return e.isDeleting?z.createElement("div",{className:"progress-container"},z.createElement(ie.Z,null)):!1===_()(t,["image_processing_complete"])||!1===_()(t,["attributes","image_processing_complete"])?z.createElement(Ee.Z,{hint:"Processing",alwaysHint:!0}):null}},{key:"render",value:function(){var e=this.getImageContent(),t=this.getProgressIndicatorContent();return z.createElement("div",{className:"photo-library__photo-item photo-item"},z.createElement("div",{className:"content"},z.createElement("div",{className:"photo-item__selector",onClick:this.didSelectItemHandler,title:"Select image"},e,z.createElement("div",{className:"photo-item__overlay"})),z.createElement(be.Z,{className:"unbutton top-right-cross",onClick:this.clickDeleteHandler,title:"Delete image"},z.createElement(we.Z,{xlinkHref:"#streamline-core-line-delete-1",alt:"Delete",className:"icon-shadow",pointerEvents:"none"})),t))}}])&&Oe(t.prototype,r),n&&Oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(z.Component);function ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Me(n.key),n)}}function Ne(e,t){return Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ne(e,t)}function Ie(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=De(e);if(t){var o=De(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return xe(e)}(this,r)}}function xe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function De(e){return De=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},De(e)}function Ae(e,t,r){return(t=Me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Me(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}Ce(Re,"defaultProps",{onSelect:G(),onDelete:G(),isDeleting:!1});var Le=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ne(e,t)}(i,e);var t,r,n,o=Ie(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ae(xe(e=o.call.apply(o,[this].concat(r))),"handleSelect",(function(t){(0,e.props.onSelect)(t)})),Ae(xe(e),"handleDelete",(function(t){(0,e.props.onDelete)(t)})),e}return t=i,(r=[{key:"getContent",value:function(){var e=this,t=this.props,r=t.photos,n=t.isFetching,o=t.photoDeletions;if(n)return z.createElement("div",{className:"panel-section panel-section--padded"},z.createElement(ie.Z,{size:"large",text:"Loading photos"}));if(0===r.length)return z.createElement("p",null,"No photos.");var i=ve()(r,(function(t){var r=t.id,n=u()(o,r);return z.createElement(Re,{key:"photo_library_item_".concat(r),photo:t,onSelect:e.handleSelect,onDelete:e.handleDelete,isDeleting:n})}));return z.createElement("div",{className:"photo-library__photos"},i)}},{key:"render",value:function(){return z.createElement("div",null,this.getContent())}}])&&ke(t.prototype,r),n&&ke(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(z.Component);Ae(Le,"defaultProps",{onSelect:G(),onDelete:G(),photoDeletions:[]});var Ze=function(e){var t=e.loadUserPhotos,r=e.currentPage,n=(e.apiVersion,e.onPaginate),o=e.onSelectItem,i=e.onDeleteItem,a=e.onSelectFilesToUpload,c=e.photos,u=e.pagination,l=e.photoDeletions,s=e.uploading;(0,z.useEffect)((function(){t(r)}),[]);var f,p,d=function(e){n(e)},m=function(e){o(e)},y=function(e){i(e)},h=function(e){a(e)},v=function(){if(u){var e=u.currentPage,t=u.perPage,r=u.totalEntries;if(r>t)return z.createElement(K.Z,{currentPage:e,perPage:t,totalEntries:r,innerWindow:1,outerWindow:0,className:"pagination pagination--with-spacing right",onPaginationPageClick:d})}return null}(),b=(f=u&&!u.isFetching,z.createElement(Le,{isFetching:!f,photos:c,photoDeletions:l,onSelect:m,onDelete:y})),g=(p="undefined"===typeof Timetoast||"undefined"===typeof Timetoast.settings||"undefined"===typeof Timetoast.settings.uploadsEnabled||Timetoast.settings.uploadsEnabled?z.createElement(ye,{onChange:h,showProgress:s,maxItems:5}):z.createElement("strong",null,"Image uploads are temporarily unavailable."),z.createElement("div",{className:"photo-library__uploader"},p));return z.createElement("div",{className:"photo-library clearfix"},g,b,v)};Ze.defaultProps={currentPage:1,onSelectItem:G(),onDeleteItem:G(),loadUserPhotos:G(),photoDeletions:[],uploading:!1,onSelectFilesToUpload:G(),apiVersion:1};var He=Ze,Ue={PhotoLibraryContainer:(0,b.$j)((function(e,t){var r=t.onSelectItem,n=function(e){return y(e).pageNumber}(e),o=v(e,{page:n}),i=(o?o.ids:[]).map((function(t){return(0,g.sU)(e,{photoId:t})})),a=function(e){return y(e).uploading}(e),c=function(e){return y(e).photoDeletions}(e);return{currentPage:n,pagination:o,photos:i,onSelectItem:r,photoDeletions:c,uploading:a}}),(function(e,t){var r=t.apiVersion||1;return{loadUserPhotos:function(t){e(H(t,r))},onSelectFilesToUpload:function(t){e(U(t,r))},onDeleteItem:function(t){e(B(t,r))},onPaginate:function(t){e(H(t,r)),e(function(e){return{type:f.PAGINATE,payload:e}}(t))}}}))(He)},Be=d},14205:function(e,t,r){r.d(t,{Nw:function(){return d},ZP:function(){return m},wl:function(){return p}});var n=r(24268),o=r(31921),i=r.n(o),a=r(27361),c=r.n(a);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s=(0,n.oM)({name:"selectable",initialState:{},reducers:{initialize:function(e,t){var r=t.payload,n=r.namespace,o=r.scope,a=r.value,c={options:r.options,value:a};i()(e,[n,o],c,Object)},changeValue:function(e,t){var r=t.payload,n=r.namespace,o=r.scope,a=r.value;i()(e,[n,o,"value"],a,Object)}}});function f(e,t,r){return c()(function(e){return c()(e,["selectable"])}(e),[t,r])}var p={getOptions:function(e,t){var r=f(e,t.namespace,t.scope);return c()(r,["options"])},getValue:function(e,t){var r=f(e,t.namespace,t.scope);return c()(r,["value"])}},d=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},s.actions),m=s.reducer},65115:function(e,t,r){r.d(t,{cJ:function(){return Gt},ZP:function(){return Kt}});var n=r(24268),o=r(27361),i=r.n(o),a=r(31921),c=r.n(a),u=r(64721),l=r.n(u),s=r(49769),f=r(63657),p=r(76700),d={RECEIVE_SHAREABLE:"sharing/RECEIVE_SHAREABLE",LOAD_SHAREABLE_REQUEST:"sharing/LOAD_SHAREABLE_REQUEST",LOAD_SHAREABLE_SUCCESS:"sharing/LOAD_SHAREABLE_SUCCESS",LOAD_SHAREABLE_FAILURE:"sharing/LOAD_SHAREABLE_FAILURE"};function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(0,n.Lq)({fetchings:{}},(function(e){e.addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return b(e,t)})).addCase(d.LOAD_SHAREABLE_REQUEST,(function(e,t){return g(e,t,!0)})).addMatcher((function(e){var t=e.type;return l()([d.LOAD_SHAREABLE_FAILURE,d.LOAD_SHAREABLE_SUCCESS],t)}),(function(e,t){return g(e,t,!1)}))})),b=function(e,t){var r=t.payload;if(r.hasOwnProperty("shareable")){var n=r.shareable,o=n.type,i=n.id;c()(e,[o,i],n,Object)}return e},g=function(e,t,r){var n=t.payload,o=n.shareableType,i=n.shareableId;return c()(e.fetchings,[o,i],r,Object),e},E=v,w=function(e){return e.sharing},O=function(e,t){var r=t.shareableId,n=t.shareableType,o=function(e,t){var r=t.shareableType,n=t.shareableId;return i()(w(e),[r,n])}(e,t);if(o){var a=null;if("timeline"===n.toLowerCase())if(a=(0,p.VS)(e,{timelineId:r}))return a=y(y({},a),{},{published:a.publish_status_code===s.Z.PUBLISHED}),o=y(y({},o),{},{resource:a});return o}return null},_=r(59416),P=r(58872),S=r(5826),j={},C=function(e,t){var r="load-initial-shareable";return j[r]?Promise.reject(new Error(P.Z.CALL_ALREADY_IN_PROGRESS)):(j[r]=!0,S.Z.get("/api/v1/shareables?shareable_id=".concat(e,"&shareable_type=").concat(t),{transformResponse:function(e){return e}}).finally((function(){delete j[r]})))},T=r(69111),R=r(57914),k=r(20036),N=function(e,t){return function(r){r(I(e,t)),C(e,t).then((function(n){r(function(e,t,r){return function(n){var o=(0,k.Z)(e),i=(new T.tQ).decode(o.text),a=JSON.parse(i).entities;n((0,R.M)(a)),n(x(t,r))}}(n,e,t))}),(function(n){r(function(e,t,r){return function(e){e(D(t,r))}}(0,e,t))}))}},I=function(e,t){return{type:d.LOAD_SHAREABLE_REQUEST,payload:{shareableType:t,shareableId:e}}},x=function(e,t){return{type:d.LOAD_SHAREABLE_SUCCESS,payload:{shareableType:t,shareableId:e}}},D=function(e,t){return{type:d.LOAD_SHAREABLE_FAILURE,payload:{shareableType:t,shareableId:e}}},A=r(67294),M=(r(42869),r(33512)),L=r(56807);function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return H(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return H(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function U(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,W(n.key),n)}}function B(e,t){return B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},B(e,t)}function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=z(e);if(t){var o=z(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return F(e)}(this,r)}}function F(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function z(e){return z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},z(e)}function W(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}(i,e);var t,r,n,o=V(i);function i(e){var t,r,n,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),r=F(t),a=function(e){var r=Z(e,1)[0];t.setState({selectedTab:r})},(n=W(n="handleNavigate"))in r?Object.defineProperty(r,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[n]=a,t.state={selectedTab:0},t}return t=i,(r=[{key:"getTabsContent",value:function(){var e=this,t=this.props.children,r=this.state.selectedTab,n=A.Children.map(t,(function(t,n){return{label:t.props.label,active:n===r,onClick:e.handleNavigate,onClickArgs:[n]}}));return A.createElement(L.Z,{mainNavItems:n})}},{key:"render",value:function(){var e=this.getTabsContent(),t=this.props.children,r=this.state.selectedTab;return A.createElement("div",null,e,t[r])}}])&&U(t.prototype,r),n&&U(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component);function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$(e);if(t){var o=$(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var Q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(i,e);var t,r,n,o=q(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){return A.createElement("div",null,this.props.children)}}])&&K(t.prototype,r),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component),J=r(33203),X=r(46295),ee=r(50308),te=r.n(ee),re=r(34987),ne=r.n(re),oe=r(94184),ie=r.n(oe),ae=r(57463),ce=r(14002);function ue(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,me(n.key),n)}}function le(e,t){return le=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},le(e,t)}function se(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=pe(e);if(t){var o=pe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return fe(e)}(this,r)}}function fe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function de(e,t,r){return(t=me(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function me(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ye=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&le(e,t)}(a,e);var t,r,o,i=se(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),de(fe(t=i.call(this,e)),"handleCopyClick",(function(e){e.preventDefault()})),de(fe(t),"handleClipboardCopySuccess",(function(e){var r=e.text;t.setState({copiedToClipboard:!0,copyEror:!1,lastCopiedValue:r}),e.clearSelection()})),de(fe(t),"handleClipboardCopyError",(function(e){t.setState({copiedToClipboard:!1,copyError:!0})})),t.state={copiedToClipboard:!1,copyError:!1,lastCopiedValue:null},t.contextIdentifier=(0,n.x0)(),t.clipboard=null,t}return t=a,o=[{key:"getDerivedStateFromProps",value:function(e,t){var r=e.value;return t.lastCopiedValue!==r?{copiedToClipboard:!1,copyError:!1}:null}}],(r=[{key:"componentDidMount",value:function(){this.clipboard=new(ne())(".js-copy-button"),this.clipboard.on("success",this.handleClipboardCopySuccess),this.clipboard.on("error",this.handleClipboardCopyError)}},{key:"componentWillUnmount",value:function(){this.clipboard&&this.clipboard.destroy()}},{key:"getCopyStatusMessage",value:function(){var e=this.state,t=e.copiedToClipboard;return e.copyError?"Copy to clipboard failed, please copy manually":t?"Copied to clipboard":null}},{key:"render",value:function(){var e=this.props,t=e.className,r=(e.inputClassName,e.buttonClassName),n=this.state,o=n.copiedToClipboard,i=n.copyError,a=this.getCopyStatusMessage(),c="copyable-input-".concat(this.contextIdentifier),u=ie()(r,"js-copy-button","copyable-input__button",{"hint hint--medium  hint--timetoast hint--top-left":o||i},{"hint--timetoast-error":i},{"hint--timetoast-success":o}),l=Object.assign({},this.props,{id:c,className:ie()(this.props.inputClassName,"copyable-input__input","js-clipboard-target")});return A.createElement("div",{className:ie()(t,"copyable-input")},A.createElement(ae.Z,l),A.createElement(ce.Z,{className:u,"aria-label":a,"data-clipboard-target":".js-clipboard-target",onClick:this.handleCopyClick},"Copy"))}}])&&ue(t.prototype,r),o&&ue(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(A.PureComponent);ye.defaultProps={id:null,value:null,spellCheck:null,type:"text",step:null,className:null,inputClassName:"input",buttonClassName:null,checked:null,onChange:te(),onBlur:te(),autoFocus:!1,placeholder:null};var he=r(94308),ve=r(49959);function be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function ge(e,t){return ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ge(e,t)}function Ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=we(e);if(t){var o=we(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function we(e){return we=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},we(e)}var Oe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ge(e,t)}(i,e);var t,r,n,o=Ee(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"getResourceName",value:function(){return this.props.resourceType.toLowerCase()}},{key:"getSharingEnabledContent",value:function(){var e=this.props,t=e.shareURI,r=e.tweetText,n=(e.resourceType,encodeURI(t)),o=encodeURI(r),i="http://www.facebook.com/sharer.php?u=".concat(n),a="http://twitter.com/intent/tweet?url=".concat(n,"&text=").concat(o),c="http://pinterest.com/pin/create/button?url=".concat(n),u=this.getResourceName();return A.createElement(A.Fragment,null,A.createElement("ul",{className:"unstyled-list link-sharer__social-providers"},A.createElement("li",{className:"providers__provider"},A.createElement("a",{href:i,className:"social-link social-link--facebook hint hint--top-right hint--timetoast","data-hint":"Share to Facebook",title:"Share ".concat(u," on Facebook")},A.createElement(ve.Z,{className:"social-link__icon",alt:"Facebook logo",pointerEvents:"none",xlinkHref:"#social-icons-facebook-logo"}))),A.createElement("li",{className:"providers__provider"},A.createElement("a",{href:c,className:"social-link social-link--pinterest hint hint--top-right hint--timetoast","data-hint":"Pin to Pinterest",title:"Pin ".concat(u," on Pinterest")},A.createElement(ve.Z,{className:"social-link__icon",alt:"Pinterest logo",pointerEvents:"none",xlinkHref:"#social-icons-pinterest-logo"}))),A.createElement("li",{className:"providers__provider"},A.createElement("a",{href:a,className:"social-link social-link--twitter hint hint--top-right hint--timetoast","data-hint":"Share to Twitter",title:"Share ".concat(u," on Twitter")},A.createElement(ve.Z,{alt:"Twitter logo",title:"Twitter logo",className:"social-link__icon",xlinkHref:"#social-icons-twitter-logo"})))),A.createElement(J.Z,{className:"form",onSubmit:function(e){e.preventDefault()}},A.createElement(X.Z,null,A.createElement(he.Z,{className:"label",htmlFor:"public-link-input"},"Public link"),A.createElement(ye,{id:"public-link-input",inputClassName:"input",buttonClassName:"btn btn--primary",value:t,autoFocus:!1,readOnly:!1}))))}},{key:"getSharingDisabledContent",value:function(){return A.createElement(A.Fragment,null,A.createElement("h1",{className:"heading zeta"},"Link sharing unavailable"),A.createElement("p",null,"This ",this.getResourceName()," must be published to be shared."))}},{key:"render",value:function(){var e=this.props.isPublished?this.getSharingEnabledContent():this.getSharingDisabledContent();return A.createElement("section",{className:"sharing__section link-sharer"},e)}}])&&be(t.prototype,r),n&&be(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component),_e=r(39425),Pe=r(41521);var Se=r(30303),je=r(47171),Ce={},Te=function(e){var t="post-embed-key-".concat(e);if(Ce[t])return Promise.reject(new Error(P.Z.CALL_ALREADY_IN_PROGRESS));Ce[t]=!0;var r={timeline_id:e};return S.Z.post("/api/v1/embed_key",r,{transformResponse:function(e){return e}}).finally((function(){delete Ce[t]}))};function Re(e,t,r){return t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t),t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e){return function(t,r){var n,o=(0,k.Z)(e),i=(new T.tQ).decode(o.text),a=JSON.parse(i),c=Re({},a.timeline_id,a);t((n=c,{type:f.Z.RECEIVE_EMBED_KEYS,payload:n})),t({type:f.Z.LOAD_EMBED_KEY_SUCCESS})}}function Ne(e){return function(e,t){e({type:f.Z.LOAD_EMBED_KEY_FAIL})}}function Ie(e){return function(t,r){t({type:f.Z.LOAD_EMBED_KEY_START}),Te(e).then((function(e){t(ke(e))}),(function(e){t(Ne())}))}}var xe=r(19495),De=r(17563),Ae=r(56180),Me=r.n(Ae),Le=r(50740),Ze=r(80782),He=r(37038),Ue=r(95597),Be=r(52983),Ve=r(6031),Fe=r(58088),ze=r(8776);function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Qe(n.key),n)}}function Ge(e,t){return Ge=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ge(e,t)}function Ke(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=qe(e);if(t){var o=qe(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ye(e)}(this,r)}}function Ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},qe(e)}function $e(e,t,r){return(t=Qe(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qe(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Je=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ge(e,t)}(i,e);var t,r,n,o=Ke(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return $e(Ye(e=o.call.apply(o,[this].concat(r))),"handleChange",(function(t){var r=t.target;(0,e.props.onChange)($e({},r.name,r.value))})),e}return t=i,(r=[{key:"render",value:function(){var e=this,t=this.props,r=t.colorScheme,n=t.className;return A.createElement("div",{className:n,ref:function(t){e.paletteRef=t}},A.createElement("input",{value:r.primary,onChange:this.handleChange,className:"color-scheme-customizer__color",name:"primary","aria-label":"Primary color: ".concat(r.primary),type:"color"}),A.createElement("input",{value:r.secondary,onChange:this.handleChange,className:"color-scheme-customizer__color",name:"secondary","aria-label":"Primary color: ".concat(r.secondary),type:"color"}),A.createElement("input",{value:r.tertiary,onChange:this.handleChange,className:"color-scheme-customizer__color",name:"tertiary","aria-label":"Primary color: ".concat(r.tertiary),type:"color"}),A.createElement("input",{value:r.highlight,onChange:this.handleChange,className:"color-scheme-customizer__color",name:"highlight","aria-label":"Primary color: ".concat(r.highlight),type:"color"}))}}])&&We(t.prototype,r),n&&We(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.PureComponent);function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ot(n.key),n)}}function et(e,t){return et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nt(e);if(t){var o=nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return rt(e)}(this,r)}}function rt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}function ot(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}Je.defaultProps={colorScheme:(0,Ze.yi)(),onChange:te()};var it=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(i,e);var t,r,n,o=tt(i);function i(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e=o.call.apply(o,[this].concat(c)),t=rt(e),n=function(t){(0,e.props.onChange)(t)},(r=ot(r="handleChange"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=i,(r=[{key:"render",value:function(){var e=this.props.colorScheme;return A.createElement(Je,{colorScheme:e,onChange:this.handleChange})}}])&&Xe(t.prototype,r),n&&Xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component);function at(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function ct(e,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ct(e,t)}function ut(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=lt(e);if(t){var o=lt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function lt(e){return lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},lt(e)}it.defaultProps={colorScheme:(0,Ze.yi)(),onChange:te()};var st=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(i,e);var t,r,n,o=ut(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,r=[{key:"getMarker",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.colorScheme,r=ie()("color-scheme-preview__marker","color-scheme-preview__marker--".concat(e)),n=t.secondary,o={backgroundColor:n},i={backgroundColor:(0,Ze.Od)(n,t)};return A.createElement("div",{className:r,style:o,title:"Collapsed event"},A.createElement("div",{className:"text",style:i}),A.createElement("div",{className:"text",style:i}))}},{key:"getMarkerPositionIndicator",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.props.colorScheme,r=ie()("color-scheme-preview__marker-position-indicator","color-scheme-preview__marker-position-indicator--".concat(e)),n=t.highlight,o={borderLeftColor:n},i={backgroundColor:n};return A.createElement("div",{className:r,title:"Event position"},A.createElement("div",{className:"line",style:o}),A.createElement("div",{className:"dot",style:i}))}},{key:"getExpandedMarker",value:function(){var e=this.props.colorScheme,t={backgroundColor:e.secondary},r={backgroundColor:e.highlight},n={backgroundColor:(0,Ze.Od)(e.highlight,e)},o=(e.secondary,{backgroundColor:(0,Ze.Od)(e.secondary,e)});return A.createElement("div",{className:"color-scheme-preview__expanded-marker",style:t,title:"Expanded event/timespan"},A.createElement("div",{className:"color-scheme-preview__expanded-marker-header",style:r},A.createElement("div",{className:"text",style:n}),A.createElement("div",{className:"text",style:n})),A.createElement("div",{className:"color-scheme-preview__expanded-marker-body"},A.createElement("div",{className:"text",style:o}),A.createElement("div",{className:"text",style:o}),A.createElement("div",{className:"text",style:o}),A.createElement("div",{className:"text",style:o}),A.createElement("div",{className:"text",style:o}),A.createElement("div",{className:"text",style:o})))}},{key:"getTimespan",value:function(){var e=this.props.colorScheme,t=e.highlight,r={backgroundColor:t},n={backgroundColor:(0,Ze.Od)(t,e)};return A.createElement("div",{className:"color-scheme-preview__timespan",style:r,title:"Timespan"},A.createElement("div",{className:"text",style:n}))}},{key:"getScale",value:function(){var e={backgroundColor:this.props.colorScheme.tertiary};return A.createElement("div",{className:"color-scheme-preview__scale",title:"Time scale"},A.createElement("div",null,A.createElement("div",{className:"color-scheme-preview__tick",style:e})),A.createElement("div",null,A.createElement("div",{className:"color-scheme-preview__tick",style:e})),A.createElement("div",null,A.createElement("div",{className:"color-scheme-preview__tick",style:e})),A.createElement("div",null,A.createElement("div",{className:"color-scheme-preview__tick",style:e})),A.createElement("div",null,A.createElement("div",{className:"color-scheme-preview__tick",style:e})))}},{key:"getScrubber",value:function(){var e=this.props.colorScheme,t={backgroundColor:(0,Ze.wz)(e.primary,e)},r={backgroundColor:e.highlight};return A.createElement("div",{className:"color-scheme-preview__scrubber",title:"Scrubber"},A.createElement("div",{className:"color-scheme-preview__surface",style:t}),A.createElement("div",{className:"color-scheme-preview__viewport",style:r}))}},{key:"render",value:function(){var e={backgroundColor:this.props.colorScheme.primary};return A.createElement("div",{className:"color-scheme-preview"},A.createElement("div",{className:"content",style:e},this.getMarkerPositionIndicator("first"),this.getMarker("first"),this.getMarkerPositionIndicator("second"),this.getMarker("second"),this.getExpandedMarker(),this.getTimespan(),this.getScale(),this.getScrubber()))}}],r&&at(t.prototype,r),n&&at(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component);function ft(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ht(n.key),n)}}function pt(e,t){return pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},pt(e,t)}function dt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=yt(e);if(t){var o=yt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return mt(e)}(this,r)}}function mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}function ht(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}st.defaultProps={colorScheme:(0,Ze.yi)()};var vt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pt(e,t)}(i,e);var t,r,n,o=dt(i);function i(){var e,t,r,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var a=arguments.length,c=new Array(a),u=0;u<a;u++)c[u]=arguments[u];return e=o.call.apply(o,[this].concat(c)),t=mt(e),n=function(t){(0,e.props.onChange)(t)},(r=ht(r="handleChange"))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,e}return t=i,(r=[{key:"render",value:function(){var e=this.props.colorScheme;return A.createElement("div",{className:"color-scheme-customizer"},A.createElement("h1",{className:"heading delta"},"Customize your timeline colors"),A.createElement("div",{className:"color-scheme-customizer__color-palette"},A.createElement(it,{colorScheme:e,onChange:this.handleChange})),A.createElement("h2",{className:"heading zeta"},"Mini-preview"),A.createElement("div",{className:"color-scheme-customizer__preview"},A.createElement(st,{colorScheme:e})))}}])&&ft(t.prototype,r),n&&ft(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component);function bt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function Et(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=wt(e);if(t){var o=wt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function wt(e){return wt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},wt(e)}vt.defaultProps={colorScheme:(0,Ze.yi)(),onChange:te()};var Ot=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(i,e);var t,r,n,o=Et(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props,t=e.colorScheme,r=e.className,n={backgroundColor:t.primary},o={backgroundColor:t.secondary},i={backgroundColor:t.tertiary},a={backgroundColor:t.highlight};return A.createElement("div",{className:r},A.createElement("div",{className:"color-palette__color",style:n,"data-color":"primary",title:"Primary color: ".concat(t.primary)},A.createElement("div",{className:"content"})),A.createElement("div",{className:"color-palette__color",style:o,"data-color":"secondary",title:"Secondary color: ".concat(t.secondary)},A.createElement("div",{className:"content"})),A.createElement("div",{className:"color-palette__color",style:i,"data-color":"tertiary",title:"Tertiary color: ".concat(t.tertiary)},A.createElement("div",{className:"content"})),A.createElement("div",{className:"color-palette__color",style:a,"data-color":"highlight",title:"Highlight color: ".concat(t.highlight)},A.createElement("div",{className:"content"})))}}])&&bt(t.prototype,r),n&&bt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.PureComponent);function _t(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Rt(n.key),n)}}function Pt(e,t){return Pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Pt(e,t)}function St(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ct(e);if(t){var o=Ct(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return jt(e)}(this,r)}}function jt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ct(e){return Ct=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ct(e)}function Tt(e,t,r){return(t=Rt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Rt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}Ot.defaultProps={className:"color-palette",colorScheme:(0,Ze.yi)()};var kt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pt(e,t)}(a,e);var t,r,o,i=St(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Tt(jt(t=i.call(this,e)),"handleFieldChange",(function(e){var r=e.name,n=e.value;t.props.onFieldChange(r,n)})),Tt(jt(t),"handleColorSchemeChange",(function(e){(0,t.props.onColorSchemeChange)(e)})),Tt(jt(t),"handleColorPaletteClick",(function(e){e.preventDefault(),t.showColorCustomizer()})),Tt(jt(t),"showColorCustomizer",(function(){t.setState({showColorCustomizer:!0})})),Tt(jt(t),"hideColorCustomizer",(function(){t.setState({showColorCustomizer:!1})})),t.contextIdentifier=(0,n.x0)(),t.state={showColorCustomizer:!1},t}return t=a,(r=[{key:"getSelectOptions",value:function(){return[{text:"Default",value:Ue.TP},{text:"List",value:Ue.IY}]}},{key:"contextualize",value:function(e){return"".concat(e,"-").concat(this.contextIdentifier)}},{key:"getColorCustomizerContent",value:function(){var e=this.props,t=e.colorScheme,r=e.embedColorCustomization;return this.state.showColorCustomizer?A.createElement(ze.Z,{onClose:this.hideColorCustomizer,className:"modal modal--whiteout qa-color-scheme-customizer-modal"},A.createElement(vt,{colorScheme:t,onChange:this.handleColorSchemeChange,embedColorCustomization:r})):null}},{key:"getColorPaletteContent",value:function(){var e=this.props,t=e.colorScheme,r=null;if(e.embedColorCustomization){var n=this.getColorCustomizerContent();r=A.createElement(A.Fragment,null,A.createElement(Be.Z,{onClick:this.handleColorPaletteClick,className:"embed-customizer__color-palette embed-customizer__color-palette--editable cursor--pointer"},A.createElement(Ot,{colorScheme:t})),n)}else r=A.createElement(A.Fragment,null,A.createElement("p",{className:"tip"},"Upgrade plan to change color scheme."),A.createElement("div",{className:"embed-customizer__color-palette"},A.createElement(Ot,{colorScheme:t})));return A.createElement(X.Z,{className:"form-group"},A.createElement(he.Z,{className:"label"},"Color scheme"),r)}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height,n=e.mode,o=(e.colorScheme,this.getSelectOptions()),i=this.getColorPaletteContent();return A.createElement(J.Z,{className:"form",onSubmit:function(e){e.preventDefault()}},A.createElement(X.Z,{className:"form-group"},A.createElement(he.Z,{className:"label",htmlFor:this.contextualize("mode")},"Timeline mode ",A.createElement(Fe.Z,{hint:"List mode overrides the default horizontal timeline."})),A.createElement(Ve.Z,{id:this.contextualize("mode"),name:"mode",options:o,value:n,onChange:this.handleFieldChange,className:"select select--medium"})),A.createElement(X.Z,{className:"form-group"},A.createElement(he.Z,{className:"label"},"Size"),A.createElement("div",{className:"embed-customizer-size-items"},A.createElement(ae.Z,{id:this.contextualize("width"),name:"width",value:t.toString(),onChange:this.handleFieldChange,className:"input embed-customizer-size-items__item"}),A.createElement("span",{className:"times embed-customizer-size-items__item"},"\xd7"),A.createElement(ae.Z,{id:this.contextualize("height"),name:"height",value:r.toString(),onChange:this.handleFieldChange,className:"input embed-customizer-size-items__item"}))),i)}}])&&_t(t.prototype,r),o&&_t(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(A.Component);function Nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Lt(n.key),n)}}function It(e,t){return It=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},It(e,t)}function xt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=At(e);if(t){var o=At(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dt(e)}(this,r)}}function Dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function At(e){return At=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},At(e)}function Mt(e,t,r){return(t=Lt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Lt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}kt.defaultProps={width:"500",height:"440",mode:Ue.TP,colorScheme:(0,Ze.yi)(),embedColorCustomization:!1,onFieldChange:te(),onColorSchemeChange:te()};var Zt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&It(e,t)}(i,e);var t,r,n,o=xt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Mt(Dt(t=o.call(this,e)),"handleFieldChange",(function(e,r){t.setState(Mt({},e,r))})),Mt(Dt(t),"handleColorSchemeChange",(function(e){(0,t.props.changeEditableColorScheme)(e)})),Mt(Dt(t),"handleExpanderClick",(function(e){t.setState({expanded:!t.state.expanded})})),t.state={width:"500",height:"400",mode:Ue.TP,expanded:!1},t}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.timelineId,r=e.allowEmbedding,n=e.embedKey,o=e.embedKeyLoadStatus,i=e.loadEmbedKey;r&&!n&&o===He.dQ&&i(t)}},{key:"getLegacyEmbedCode",value:function(){var e=this.props,t=e.timelineId,r=e.host,n=this.getEmbedSize(),o=n.width,i=n.height;return'<object width="'.concat(o,'" height="').concat(i,'"><param name="movie" value="https://').concat(r,"/flash/TimelineViewer.swf?passedTimelines=").concat(t,'" /><param name="passedTimelines" value="').concat(t,'" /><param name="allowScriptAccess" value="always"><embed src="http://').concat(r,"/flash/TimelineViewer.swf?passedTimelines=").concat(t,'" type="application/x-shockwave-flash" passedTimelines="').concat(t,'" width="').concat(o,'" height="').concat(i,'" allowScriptAccess="always" /></object>')}},{key:"getEmbedSize",value:function(){var e=this.state,t=e.width,r=e.height;return{width:(0,Le.rL)(t),height:(0,Le.rL)(r)}}},{key:"getPreviewLinkContent",value:function(){var e=this.getEmbedURL();return e&&e.length>0?A.createElement(Be.Z,{href:e,target:"_blank"},"Preview"):null}},{key:"getEmbedCustomizerContent",value:function(){var e=this.props,t=e.embedKey,r=e.colorScheme,n=this.state,o=n.width,i=n.height,a=n.mode,c=!!t&&t.embed_color_customization,u=this.getPreviewLinkContent();return A.createElement("div",{className:"embed-pane__extra"},A.createElement("h1",{className:"heading zeta"},"Customize your code"),A.createElement(kt,{onFieldChange:this.handleFieldChange,onColorSchemeChange:this.handleColorSchemeChange,colorScheme:r,width:o,height:i,mode:a,embedColorCustomization:c}),u)}},{key:"getExpanderContent",value:function(){var e=this.state.expanded,t=e?"Close":"Customize your code",r=ie()("embed-pane__expander",{expanded:e},{collapsed:!e});return A.createElement("a",{className:r,onClick:this.handleExpanderClick},A.createElement("div",{className:"expander__content"},A.createElement("div",{className:"expander__text"},t),A.createElement("div",{className:"expander__arrow arrow"})))}},{key:"getExpandedContent",value:function(){var e=this.state.expanded;return A.createElement(Me(),{isOpened:e},A.createElement("div",{className:"react-collapse-jump-fixer"},this.getEmbedCustomizerContent()))}},{key:"getEmbedKey",value:function(){return this.props.embedKey?apiKeys[0]:null}},{key:"getEmbedCode",value:function(){if(this.props.embedKey){var e=this.getEmbedSize(),t=e.width,r=e.height,n=this.getEmbedURL();if(n){var o='<iframe src="'.concat(n,'" width="').concat(t,'" height="').concat(r,'" frameborder="0" allowfullscreen></iframe>');if(!(0,Le.vN)(o))return o}}return""}},{key:"getEmbedURL",value:function(){var e=this.props,t=e.host,r=e.timelineId,n=e.embedKey,o=e.colorScheme,i=this.state.mode;if(n){var a=n.key,c=(n.active,!!n&&n.embed_color_customization),u={token:a};i&&i!==Ue.TP&&(u.mode=i),c&&(u.colors=(0,Ze.QF)(o));var l="?".concat((0,De.Pz)(u)),s="https://".concat(t,"/embed/").concat(r).concat(l);if(!(0,Le.vN)(s))return s}return null}},{key:"getInactiveKeyMessageContent",value:function(){var e=this.props.embedKey;return e&&e.active?null:A.createElement("p",{className:"tip"},"Note: This embed code is not currently active.")}},{key:"getEmbedCodeContent",value:function(){var e=this.props,t=e.embedKey,r=e.embedKeyLoadStatus;if(t){var n=this.getEmbedCode(),o=this.getInactiveKeyMessageContent();return A.createElement(J.Z,{className:"form",onSubmit:function(e){e.preventDefault()}},A.createElement(ye,{inputClassName:"input qa-embed-code-input",buttonClassName:"btn btn--primary",value:n,autoFocus:!1,readOnly:!0}),o)}switch(r){case He.dQ:case He.Hw:return A.createElement("div",{className:"panel-section panel-section--padded"},A.createElement(M.Z,{size:"large"}));case He.MR:return A.createElement("p",null,"Error: No token");case He.an:return A.createElement("p",null,"Error");default:return null}}},{key:"getEmbeddingEnabledContent",value:function(){if(this.isEmbeddable()){var e=this.getExpandedContent(),t=this.getExpanderContent(),r=this.getEmbedCodeContent();return A.createElement("div",null,A.createElement("div",{className:"embed-pane__embed-code"},r),t,e)}return null}},{key:"getEmbeddingDisabledContent",value:function(){var e,t=this.props,r=t.currentUser,n=t.allowEmbedding,o=t.isPublished;return e=r?n&&!o?A.createElement("p",null,"This timeline must be published to be embeddable."):A.createElement("p",null,"Free account holders can't embed timelines. Please upgrade to a premium account first."):A.createElement("p",null,"Only signed in users with a premium account can embed timelines."),A.createElement("div",{className:"panel-section panel-section--padded"},A.createElement("h1",{className:"heading zeta"},"Embedding unavailable"),e)}},{key:"isEmbeddable",value:function(){var e=this.props,t=e.allowEmbedding,r=e.isPublished;return e.currentUser&&r&&t}},{key:"getContent",value:function(){return this.isEmbeddable()?this.getEmbeddingEnabledContent():this.getEmbeddingDisabledContent()}},{key:"render",value:function(){return A.createElement("div",{className:"embed-pane"},this.getContent())}}])&&Nt(t.prototype,r),n&&Nt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component);Mt(Zt,"defaultProps",{currentUser:null,embedKey:null,loadEmbedKey:te(),colorScheme:(0,Ze.yi)(),changeEditableColorScheme:te()});var Ht={EmbedCodeContainer:(0,_.$j)((function(e,t){t.signedIn;var r=t.host,n=t.timelineId,o=t.isPublished,i=t.allowEmbedding,a=function(e,t){var r=t.timelineId.toString();return function(e,t){return e.data.embedKeys}(e)[r]||null}(e,{timelineId:n}),c=(0,Se.e)(e,t),u=(0,je.xg)(e,t);return{currentUser:(0,Pe.ts)(e),host:r,timelineId:n,isPublished:o,allowEmbedding:i,embedKey:a,embedKeyLoadStatus:c,colorScheme:u}}),(function(e){return{loadEmbedKey:function(t){e(Ie(t))},changeEditableColorScheme:function(t){e((0,xe.x)(t))}}}))(Zt)};function Ut(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===typeof i?i:String(i)),n)}var o,i}function Bt(e,t){return Bt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Bt(e,t)}function Vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Ft(e);if(t){var o=Ft(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function Ft(e){return Ft=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ft(e)}var zt=_e.wx.PermissionManagement,Wt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Bt(e,t)}(i,e);var t,r,n,o=Vt(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"componentDidMount",value:function(){var e=this.props;(0,e.loadShareable)(e.shareableId,e.shareableType)}},{key:"getLoadingPaneContent",value:function(){return A.createElement("div",{className:"panel-section panel-section--padded"},A.createElement(M.Z,{size:"large"}))}},{key:"getLinkSharingContent",value:function(){var e=this.props.shareable;return e&&!e.isFetching?A.createElement(Oe,{key:"link-sharer",shareURI:e.share_uri,tweetText:e.tweet_text,resourceType:e.type,isPublished:e.resource.published}):null}},{key:"getPermissionManagementContent",value:function(){var e=this.props.shareable;if(e&&!e.isFetching&&(e.can_grant_group_permissions||e.can_grant_user_permissions))return A.createElement(zt,{key:"permission-management",shareable:e})}},{key:"getSharePaneContent",value:function(){var e=this.props.shareable,t=null;return t=e&&!e.isFetching?[this.getLinkSharingContent(),this.getPermissionManagementContent()]:this.getLoadingPaneContent(),A.createElement("div",{className:"sharing"},t)}},{key:"getEmbedPaneContent",value:function(){var e=this.props.shareable;if(e&&!e.isFetching){var t=Ht.EmbedCodeContainer;return A.createElement(t,{host:e.host,timelineId:e.id,isPublished:e.resource.published,allowEmbedding:e.allow_embedding})}return this.getLoadingPaneContent()}},{key:"render",value:function(){return A.createElement("div",{className:"sharer"},A.createElement(G,null,A.createElement(Q,{label:"Share"},this.getSharePaneContent()),A.createElement(Q,{label:"Embed"},this.getEmbedPaneContent())))}}])&&Ut(t.prototype,r),n&&Ut(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(A.Component),Gt={SharerContainer:(0,_.$j)((function(e,t){var r=t.shareableType,n=t.shareableId,o=O(e,t),a=function(e,t){var r=t.shareableType,n=t.shareableId;return i()(w(e).fetchings,[r,n])}(e,t);return{shareableType:r,shareableId:n,isFetching:a,shareable:o}}),(function(e){return{loadShareable:function(t,r){e(N(t,r))}}}))(Wt)},Kt=E},71658:function(e,t,r){function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,{Nw:function(){return a},cJ:function(){return _},ZP:function(){return P}});var i=(0,r(24268).oM)({name:"search",initialState:{visible:!1},reducers:{toggleVisibility:function(e,t){e.visible=!e.visible}}}),a=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},i.actions),c=i.reducer,u=r(59416),l=r(67294),s=r(50308),f=r.n(s),p=r(56180),d=r.n(p),m=r(14002);function y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,w(n.key),n)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=g(e);if(t){var o=g(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return b(e)}(this,r)}}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function E(e,t,r){return(t=w(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(i,e);var t,r,n,o=v(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),E(b(t=o.call(this,e)),"onFinishedAnimating",(function(){t.props.isExpanded&&t.$inputRef.current&&t.$inputRef.current.focus()})),E(b(t),"handleCloseBtnClick",(function(e){var r=t.props.onClose;e.preventDefault(),r()})),t.$inputRef=(0,l.createRef)(),t}return t=i,(r=[{key:"render",value:function(){var e=this.props.isExpanded;return l.createElement(d(),{isOpened:e,onRest:this.onFinishedAnimating},l.createElement("div",{className:"container has-bg"},l.createElement("div",{className:"search-dropdown",style:{display:"block"}},l.createElement(m.Z,{className:"unbutton search-dropdown__dismiss",onClick:this.handleCloseBtnClick}),l.createElement("form",{action:"/search/timelines",id:"cse-search-box"},l.createElement("input",{type:"hidden",name:"cx",value:"partner-pub-3637961829875093:ehixnl-dg1y"}),l.createElement("input",{type:"hidden",name:"cof",value:"FORID:9"}),l.createElement("input",{type:"hidden",name:"ie",value:"UTF-8"}),l.createElement("input",{type:"text",name:"q",size:"20",placeholder:"Search published timelines",ref:this.$inputRef,style:{background:"url('https://www.google.com/cse/static/en/google_custom_search_watermark.gif') left center no-repeat rgb(255, 255, 255)"}}),l.createElement("input",{type:"submit",name:"sa",value:"Search",className:"btn btn--primary"}),l.createElement("input",{name:"siteurl",type:"hidden",value:"localhost/"}),l.createElement("input",{name:"ref",type:"hidden",value:"localhost/categories"}),l.createElement("input",{name:"ss",type:"hidden",value:""})),l.createElement("script",{async:!0,src:"//www.google.com/coop/cse/brand?form=cse-search-box&lang=en"}))))}}])&&y(t.prototype,r),n&&y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(l.Component);O.defaultProps={onClose:f()};var _={SearchContainer:(0,u.$j)((function(e,t){return{isExpanded:e.siteSearch.visible}}),(function(e){return{onClose:function(){e(a.toggleVisibility())}}}))(O)},P=c},3859:function(e,t,r){r.d(t,{Z:function(){return fe}});var n=r(59416),o=r(76700),i=r(30367),a=r(20573),c=r(35937),u=r.n(c),l=r(64721),s=r.n(l),f=r(52628),p=r.n(f);function d(e,t){return function(e,t){return e.data.timelineGridItems}(e)}(0,a.P1)([d],(function(e){return p()(e)}));var m=(0,a.P1)([function(e,t){var r=t.gridItemIds,n=d(e);return u()(n,(function(e){return s()(r,e.id)}))}],(function(e){return p()(e)})),y=r(41521),h=r(67294),v=r(35161),b=r.n(v),g=r(89734),E=r.n(g),w=r(81683),O=r(74803),_=(r(42869),r(10593)),P=r(70666),S=r(13311),j=r.n(S),C=r(27955),T=r.n(C),R=r(94993),k=r(88301),N=r(55863),I=r(94184),x=r.n(I),D=r(50740),A=r(20036),M=r(31287),L=r(49769),Z=r(12450),H=r(49959),U=r(52983),B=r(14002),V=r(8776),F=r(33512),z=r(33274),W=r(59074),G=r(65115);function K(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}function Y(e,t){return Y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Y(e,t)}function q(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$(e);if(t){var o=$(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function $(e){return $=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},$(e)}var Q=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Y(e,t)}(i,e);var t,r,n,o=q(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e,t=this.props.item,r=null;return"delete"===t.method&&(e="delete",r="Are you sure? This can't be undone."),h.createElement("a",{href:t.url,"data-method":e,title:t.title,"data-confirm":r},t.text)}}])&&K(t.prototype,r),n&&K(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(h.Component);function J(){return J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},J.apply(this,arguments)}function X(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return ee(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ee(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var te=function(e){var t=(0,h.useContext)(w.v),r=X((0,h.useState)(!1),2),n=r[0],o=r[1],i=X((0,h.useState)(!1),2),a=i[0],c=i[1],u=X((0,h.useState)([]),2),l=u[0],s=u[1],f=X((0,h.useState)(!1),2),p=f[0],d=f[1],m=X((0,h.useState)(!1),2),y=m[0],v=m[1];(0,h.useEffect)((function(){n&&K()}),[n]);var b,g=function(e){e.preventDefault(),S()},E=function(){o(!1)},O=function(e){n?E():o(!0)},S=function(){a?I():C()},C=function(e){E(),c(!0)},I=function(e){c(!1)},K=function(){var t=e.timeline;setTimeout((function(){v(!0)}),250),M.Z.checkAbilities(["read","edit","destroy","moderate"],"Timeline",t.id).then((function(e){var t=(0,A.Z)(e);if(200===t.status){var r=t.body;s(r.data),d(!0)}}),(function(e){}))},Y=e.item,q=e.timeline,$=e.photo,ee=T()(q.title);q.publish_status_code===L.Z.PUBLISHED?b=h.createElement("span",{className:"tag tag--small tag--is-green"},"Published"):q.publish_status_code===L.Z.DRAFT&&(b=h.createElement("span",{className:"tag tag--small tag--is-grey"},"Draft"));var te,re=q.access_level===Z.Z.PRIVATE,ne=null,oe=(0,R.YF)({open:n,onOpenChange:o,placement:"bottom-end",middleware:[(0,k.RR)(),(0,k.uY)()],whileElementsMounted:N.Me}),ie=oe.refs,ae=oe.floatingStyles,ce=oe.context,ue=(0,R.bQ)(ce),le=(0,R.NI)([ue]),se=le.getReferenceProps,fe=le.getFloatingProps;if(n){var pe=null;pe=p&&y?h.createElement("ul",{key:"actions-list",className:"unstyled-list"},function(){var r=e.timeline,n={permissionable_type:"Timeline",permissionable_id:r.id,result:!0},o=[];return j()(l,Object.assign(n,{action:"read"}))&&o.push(h.createElement("li",{className:"nav-item",key:"view"},h.createElement(Q,{item:{url:"/timelines/".concat(r.id),text:"View",method:"get"}}))),j()(l,Object.assign(n,{action:"edit"}))&&o.push(h.createElement("li",{className:"nav-item",key:"edit"},h.createElement(Q,{item:{url:"/timelines/".concat(r.id,"/edit"),text:"Edit",method:"get"}}))),j()(l,Object.assign(n,{action:"destroy"}))&&o.push(h.createElement("li",{className:"nav-item",key:"delete"},h.createElement(Q,{item:{url:"/timelines/".concat(r.id),text:"Delete",method:"delete"}}))),j()(l,Object.assign(n,{action:"moderate"}))&&o.push(h.createElement("li",{className:"nav-item",key:"moderate"},h.createElement(Q,{item:{url:"/timelines/".concat(r.id,"/moderate"),text:"Moderate",method:"get"}}))),o.push(h.createElement("li",{className:"nav-item",key:"share-trigger"},h.createElement(B.Z,{onClick:g,className:"unbutton popover-menu-button"},"Share"))),t.can("publishTimelines")&&o.push(function(){var t=e.timeline;return h.createElement("li",{className:"nav-item",key:"publish-switch"},h.createElement(z.Z,{timeline:t}))}()),o}()):h.createElement("div",{className:"progress-container"},h.createElement(F.Z,{speed:"fast"}));var de=t.can("publishTimelines")?"150px":"64px";ne=h.createElement("div",J({ref:ie.setFloating,style:ae},fe(),{className:"popover popover--menu actions-menu"}),h.createElement("div",{style:{width:de}},pe))}var me=x()("actions-button","unbutton","dot-menu-icon","min-mobile-hit-area","qa-menu-trigger");te=h.createElement("div",null,h.createElement("div",J({ref:ie.setReference},se()),h.createElement(W.Z,{className:me,onClick:function(e){e.preventDefault(),O()}})),ne);var ye=null;if($&&!0===$.image_processing_complete){var he=$.image_urls.large_square.src;he&&(ye={backgroundImage:"url(".concat(he,")")})}var ve=function(){if(a){var t=e.timeline,r=G.cJ.SharerContainer,n=t.id;return h.createElement(_.Z,{classNames:"modal-in-out",timeout:200},h.createElement(V.Z,{key:"sharing-modal",onClose:S,className:"modal modal--full-bleed"},h.createElement(r,{shareableId:n,shareableType:"Timeline"})))}return null}(),be=null;return re&&(be=h.createElement(H.Z,{xlinkHref:"#streamline-core-line-padlock-square-1",className:"no-fill",alt:"Private",pointerEvents:"none"})),h.createElement("div",{className:"responsive-listing-item project-listing-item qa-responsive-listing-item-".concat(Y.id)},h.createElement("div",{className:"project-listing-item__content-container"},h.createElement("div",{className:"responsive-listing-item__content project-listing-item__content"},h.createElement(U.Z,{className:"project-listing-item__hit-area",title:ee,href:Y.url}),h.createElement("div",{className:"responsive-listing-item__image project-listing-item__image",style:ye}),h.createElement("div",{className:"responsive-listing-item__body project-listing-item__body"},h.createElement("h1",{className:"heading"},be,h.createElement("span",{dangerouslySetInnerHTML:{__html:(0,D.$G)(q.title,85)}})),h.createElement("div",{className:"tags"},b)),h.createElement("div",{className:"responsive-listing-item__actions project-listing-item__actions"},te))),h.createElement(P.Z,null,ve))};function re(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,ae(n.key),n)}}function ne(e,t){return ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ne(e,t)}function oe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ie(e);if(t){var o=ie(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ie(e){return ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ie(e)}function ae(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ce,ue,le,se=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ne(e,t)}(i,e);var t,r,n,o=oe(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e,t=this.props,r=t.currentUser,n=t.gridItems,o=t.timelines,i=t.photos,a=(0,O.Z)(r);if(n.length>0){var c=E()(n,(function(e){return new Date(e.updated_at)})).reverse();c=b()(c,(function(e){var t=e.timeline.toString(),r=o[t],n=null;if(r.photo_ids.length>0){var a=r.photo_ids[0].toString();n=i[a]}return h.createElement(te,{key:"grid-item-".concat(e.id),item:e,timeline:r,photo:n})})),e=h.createElement(w.v.Provider,{value:a},h.createElement("div",{className:"responsive-listing"},c))}else e=h.createElement("div",{className:"no-items"},h.createElement("p",null,"No timelines."));return h.createElement("section",{className:"my-timelines"},e)}}])&&re(t.prototype,r),n&&re(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(h.Component);ce=se,le={timelines:{},gridItems:[],photos:{}},(ue=ae(ue="defaultProps"))in ce?Object.defineProperty(ce,ue,{value:le,enumerable:!0,configurable:!0,writable:!0}):ce[ue]=le;var fe=(0,n.$j)((function(e,t){var r=(0,y.ts)(e),n=(0,o.ks)(e,t);return{currentUser:r,gridItems:m(e,t),timelines:n,photos:(0,i.wP)(e,t)}}),(function(e){return{}}))(se)},42513:function(e,t,r){r.d(t,{cJ:function(){return Ke},ZP:function(){return Ye}});var n=r(97779),o=r(22205),i=r.n(o),a=r(38754),c=r(97147),u="account",l="owned",s="other",f="timeline_listings/MODE_CHANGE",p="timeline_listings/TIMELINES_PAGINATE",d="timeline_listings/TIMELINES_REQUEST",m="timeline_listings/TIMELINES_SUCCESS",y="timeline_listings/TIMELINES_FAILURE";function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=c.Nw.saveEntity,E={mode:u,redirectTo:null},w=function(e,t){var r=t.payload;return v(v({},e),{},{mode:r})},O=function(e,t){var r=t.payload,n=r.mode,o=r.pageNumber;return v(v({},e),{},b({},n,{currentPage:o}))},_=function(e){return e.timelineListings.base},P=function(e){return e.timelineListings.pagination};var S=function(e,t){var r=t.mode,n=C(r);return P(e)[n]},j=function(e,t){return"".concat(e.toString(),"-").concat(t.toString())},C=function(e){return"".concat(e,"-last-totals")},T=(0,n.UY)({base:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.fulfilled.type:var r=t.meta.arg,n=r.type,o=r.id;if("timeline"===n&&-1===o){var i=t.payload;if(i){var a=i;return v(v({},e),{},{redirectTo:"/timelines/".concat(a,"/edit")})}}return e;case f:return w(e,t);case p:return O(e,t);default:return e}},pagination:(0,a.V)({mapActionToKey:function(e){var t=e.payload,r=t.mode,n=t.pageNumber;return j(r,n)},mapActionToTotalsKey:function(e){var t=e.payload.mode;return C(t)},types:[d,m,y]})}),R=r(59416),k=r(37563),N=r(41521),I=r(14482),x=r(69111),D=r(69082),A=r(6617),M=r(17109),L=r(56038),Z=r(80340),H=r(72992),U=r(29006),B=r(20036),V=function(e,t,r){return function(n,o){var i=(0,B.Z)(e),a=(new x.tQ).decode(i.text),c=JSON.parse(a),u=new D.V_("grid_items"),l=new D.V_("timelines"),s=new D.V_("photos"),f=new D.V_("categories");l.define({photos:(0,D.CT)(s),categories:(0,D.CT)(f)}),u.define({timeline:l});var p=(0,M.L4)((0,D.Fv)(c,{grid_items:(0,D.CT)(u)}));n((0,H.B)(p.entities.categories)),n((0,Z.wD)(p.entities.photos)),n((0,L.h)(p.entities.timelines)),n((0,U.C)(p.entities.grid_items));var d=(0,A.k5)(p.result.meta.pagination),y=d.currentPage,h=d.perPage,v=d.totalEntries;n({type:m,payload:{mode:t,pageNumber:r,ids:p.result.grid_items,pagination:{currentPage:y,perPage:h,totalEntries:v}}})}},F=function(e,t,r){return{type:y,payload:{mode:t,pageNumber:r}}},z=function(e,t){return{type:p,payload:{mode:e,pageNumber:t}}},W=function(e,t){return function(r,n){r(function(e,t){return{type:d,payload:{mode:e,pageNumber:t}}}(e,t)),I.Z.fetchTimelines(e,t,"grid").then((function(n){r(V(n,e,t))}),(function(n){r(F(0,e,t))}))}},G=function(e){return{type:f,payload:e}},K=r(67294),Y=r(10593),q=r(70666),$=r(50308),Q=r.n($),J=r(24975),X=r(81683),ee=(r(42869),r(13937)),te=r(33512),re=r(2932),ne=r(14002),oe=r(8776),ie=r(3859),ae=r(35161),ce=r.n(ae),ue=r(13311),le=r.n(ue),se=r(94184),fe=r.n(se);function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,he(n.key),n)}}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function me(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ye(e);if(t){var o=ye(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,r)}}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}function he(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var ve,be,ge,Ee=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(i,e);var t,r,n,o=me(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),o.apply(this,arguments)}return t=i,(r=[{key:"render",value:function(){var e=this.props.isOpen,t=fe()("state-indicator",{"state-indicator--is-open":e});return K.createElement("span",{className:t},"\u25be")}}])&&pe(t.prototype,r),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(K.PureComponent);ve=Ee,ge={isOpen:!1},(be=he(be="defaultProps"))in ve?Object.defineProperty(ve,be,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ve[be]=ge;var we=r(34433);function Oe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Te(n.key),n)}}function _e(e,t){return _e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},_e(e,t)}function Pe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=je(e);if(t){var o=je(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Se(e)}(this,r)}}function Se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function je(e){return je=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},je(e)}function Ce(e,t,r){return(t=Te(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Te(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Re=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_e(e,t)}(i,e);var t,r,n,o=Pe(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return Ce(Se(e=o.call.apply(o,[this].concat(r))),"handleClick",(function(t){var r=e.props,n=r.onClick,o=r.value;t.preventDefault(),n(o)})),e}return t=i,(r=[{key:"render",value:function(){var e,t=this.props,r=t.label,n=t.description,o=t.isCurrent,i=K.createElement(K.Fragment,null,K.createElement("div",{className:"switcher-option__title"},r,o&&K.createElement("span",{className:"current-indicator"},"\u2714")),K.createElement("div",{className:"switcher-option__description"},n));return e=o?K.createElement("div",null,i):K.createElement(ne.Z,{type:"button",className:"unbutton switcher-option__button",onClick:this.handleClick},i),K.createElement("li",{className:"switcher-option"},e)}}])&&Oe(t.prototype,r),n&&Oe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(K.PureComponent);function ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Ne(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Ce(Re,"defaultProps",{onClick:Q()});var Ie=function(e){var t=ke((0,K.useState)(!1),2),r=t[0],n=t[1],o=function(t){(0,e.onChange)(t)},i=function(){var t=e.options,r=e.value,n=ce()(t,(function(e){var t=e.value,n=t===r;return K.createElement(Re,{key:t,label:e.label,description:e.description,value:t,isCurrent:n,onClick:o})}));return K.createElement("ul",{className:"unstyled-list"},n)}(),a=function(){var t=e.options,r=e.value;return le()(t,(function(e){return e.value===r})).label}();return K.createElement(we.Z,{placement:"bottom-start",onOpen:function(){n(!0)},onDismiss:function(){n(!1)}},K.createElement(we.Z.Reference,null,K.createElement(ne.Z,{className:"unbutton"},K.createElement("span",null,a," ",K.createElement(Ee,{isOpen:r})))),K.createElement(we.Z.Content,{className:"popover popover--menu"},i))};Ie.defaultProps={options:[],onChange:Q()};var xe=Ie,De=r(74803);function Ae(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Be(n.key),n)}}function Me(e,t){return Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Me(e,t)}function Le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=He(e);if(t){var o=He(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ze(e)}(this,r)}}function Ze(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function He(e){return He=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},He(e)}function Ue(e,t,r){return(t=Be(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Be(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Ve=(0,K.lazy)((function(){return Promise.all([r.e(940),r.e(42),r.e(565),r.e(514)]).then(r.bind(r,40042)).then((function(e){return{default:e.TimelineFormContainer}}))})),Fe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(i,e);var t,r,n,o=Le(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Ue(Ze(t=o.call(this,e)),"handleNewTimelineClick",(function(e){e.preventDefault(),t.setState({newTimelineFormVisible:!0})})),Ue(Ze(t),"handleNewTimelineCancel",(function(){t.setState({newTimelineFormVisible:!1})})),Ue(Ze(t),"handlePaginationPageClick",(function(e){var r=t.props,n=r.mode;(0,r.onPaginate)(n,e)})),Ue(Ze(t),"handleModeSwitch",(function(e){(0,t.props.onChangeMode)(e)})),t.state={newTimelineFormVisible:!1},t}return t=i,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.mode,r=e.currentPage;(0,e.loadData)(t,r)}},{key:"componentDidUpdate",value:function(){var e=this.props.redirectTo;(0,re.exists)(e)&&(window.location.href=e)}},{key:"getSwitcherContent",value:function(){var e=this.props.mode,t=[{label:"Account timelines",description:"Public account timelines and the timelines you own.",value:u},{label:"Your timelines",description:"Just the timelines you own.",value:l},{label:"Other timelines",description:"Timelines you can access through groups or explicit permissions.",value:s}];return K.createElement(xe,{value:e,options:t,onChange:this.handleModeSwitch})}},{key:"getHeaderContent",value:function(){var e=this.state.newTimelineFormVisible?{visibility:"hidden"}:null,t=this.getSwitcherContent();return K.createElement("header",{className:"panel-section panel-section--padded"},K.createElement("div",{className:"list-controls list-controls--no-margin"},K.createElement("div",{className:"list-controls__item"},t),K.createElement("div",{className:"list-controls__item list-controls__item--push"},K.createElement(ne.Z,{onClick:this.handleNewTimelineClick,className:"btn btn--primary create-timeline-btn",style:e},"Add timeline +"))))}},{key:"getTimelineFormContent",value:function(){if(this.state.newTimelineFormVisible){var e=this.props.currentUser,t=(0,De.Z)(e),r=K.createElement(K.Suspense,{fallback:K.createElement(te.Z,{size:"large"})},K.createElement(X.v.Provider,{value:t},K.createElement(J.SV,{fallback:K.createElement("p",null,"Something went wrong.")},K.createElement(Ve,{id:-1,onCancel:this.handleNewTimelineCancel}))));return K.createElement(Y.Z,{classNames:"modal-in-out",timeout:200},K.createElement(oe.Z,{onClose:this.handleNewTimelineCancel},r))}return null}},{key:"getGridContent",value:function(){var e=this.props,t=e.pagination,r=e.isRedirecting;if(!t||t.isFetching||r){var n=r?"Hold on, redirecting...":"Loading timelines";return K.createElement("section",{className:"my-timelines"},K.createElement("div",{className:"panel-section panel-section--padded"},K.createElement(te.Z,{size:"large",text:n})))}var o=t.ids;return K.createElement(ie.Z,{gridItemIds:o})}},{key:"getFooterContent",value:function(){var e=this.props.pagination;return e&&e.totalEntries>e.perPage?K.createElement("footer",{className:"panel-section panel-section--padded"},K.createElement(ee.Z,{currentPage:e.currentPage,totalEntries:e.totalEntries,perPage:e.perPage,innerWindow:1,outerWindow:0,className:"pagination right",onPaginationPageClick:this.handlePaginationPageClick})):null}},{key:"render",value:function(){var e=this.getHeaderContent(),t=this.getTimelineFormContent(),r=this.getGridContent(),n=this.getFooterContent();return K.createElement("div",null,e,K.createElement(q.Z,null,t),r,n)}}],r&&Ae(t.prototype,r),n&&Ae(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(K.Component);Ue(Fe,"defaultProps",{onShowNewTimelineForm:Q(),onHideNewTimelineForm:Q(),onPaginate:Q(),onChangeMode:Q(),loadData:Q(),currentPage:1,isRedirecting:!1});var ze=z,We=W,Ge=G,Ke={IndexTabContentContainer:(0,R.$j)((function(e,t){var r=function(e){return _(e).mode}(e),n=function(e){return _(e).redirectTo}(e),o=function(e,t){var r=t.mode,n=_(e)[r];return n?n.currentPage:1}(e,{mode:r}),a=null!==n&&n.length>0,c=(0,N.ts)(e,t),u=(0,k.C)(e,t),l=function(e,t){var r=t.mode,n=t.page,o=S(e,t),a=P(e)[j(r,n)];return o&&!a?a=i()({},o,{currentPage:n}):o&&a&&!a.hasFetchedBefore&&(a=i()({},a,o,{currentPage:n})),a}(e,{mode:r,page:o});return{mode:r,currentPage:o,pagination:l,redirectTo:n,isRedirecting:a,categories:u,currentUser:c}}),(function(e){return{loadData:function(t,r){e(We(t,r))},onPaginate:function(t,r){e(We(t,r)),e(ze(t,r))},onChangeMode:function(t){e(Ge(t)),e(We(t,1)),e(ze(t,1))}}}))(Fe)},Ye=T},25846:function(e,t,r){r.d(t,{cJ:function(){return J},ZP:function(){return X},hp:function(){return w}});var n=r(24268),o=r(27361),i=r.n(o),a=r(5826),c=r(58872),u={},l=function(e){var t="get-table-".concat(e,"-views-index");if(u[t])return Promise.reject(new Error(c.Z.CALL_ALREADY_IN_PROGRESS));u[t]=!0;var r="/api/v2/tables/".concat(e,"/views");return a.Z.get(r,{transformResponse:function(e){return e}}).finally((function(){delete u[t]}))},s=r(69111),f=r(55808),p=r(20036),d=r(57914),m=function(e){return function(t){var r=(0,p.Z)(e),n=(new s.tQ).decode(r.text),o=JSON.parse(n),i=(0,f.Z)(o,{camelizeKeys:!1});t((0,d.M)(i))}},y="features/table_views/CURRENT_VIEW_CHANGE";function h(){h=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(err){u=function(e,t,r){return e[t]=r}}function l(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new j(o||[]);return n(a,"_invoke",{value:O(e,r,c)}),a}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(err){return{type:"throw",arg:err}}}e.wrap=l;var f={};function p(){}function d(){}function m(){}var y={};u(y,i,(function(){return this}));var v=Object.getPrototypeOf,b=v&&v(v(C([])));b&&b!==t&&r.call(b,i)&&(y=b);var g=m.prototype=p.prototype=Object.create(y);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(n,i,a,c){var u=s(e[n],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function O(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return T()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=_(a,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;var o=s(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:T}}function T(){return{value:void 0,done:!0}}return d.prototype=m,n(g,"constructor",{value:m,configurable:!0}),n(m,"constructor",{value:d,configurable:!0}),d.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new w(l(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(g),u(g,c,"Generator"),u(g,i,(function(){return this})),u(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),S(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;S(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}function v(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(l){return void r(l)}c.done?t(u):Promise.resolve(u).then(n,o)}var b=(0,n.hg)("projects/fetchTableViews",function(){var e,t=(e=h().mark((function e(t,r){var n,o;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.tableId,e.next=3,l(n);case 3:o=e.sent,(0,r.dispatch)(m(o));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){v(i,n,o,a,c,"next",e)}function c(e){v(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}());var g=(0,n.oM)({name:"tableViews",initialState:{currentViewId:"0",fetchTableViews:{}},reducers:{},extraReducers:function(e){e.addCase(b.pending,(function(e,t){var r=t.meta.arg.tableId;e.fetchTableViews[r.toString()]={status:"loading",error:null}})).addCase(b.fulfilled,(function(e,t){var r=t.meta.arg.tableId;e.fetchTableViews[r.toString()]={status:"succeeded",error:null}})).addCase(b.rejected,(function(e,t){var r=t.meta.arg.tableId;e.fetchTableViews[r.toString()]={status:"failed",error:t.payload}})).addCase(y,(function(e,t){var r=t.payload;e.currentViewId=r}))}}),E=function(e){return e.tableViews},w=function(e,t){return i()(E(e),["currentViewId"])},O=g.reducer,_=r(59416),P=r(15494),S=r(67294),j=r(35161),C=r.n(j),T=r(50308),R=r.n(T),k=r(94184),N=r.n(k),I=r(94993),x=r(88301),D=r(55863),A=r(59074);function M(){return M=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M.apply(this,arguments)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return Z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var H=function(e){var t=L((0,S.useState)(!1),2),r=t[0],n=t[1],o=function(e){n(!r)},a=(0,I.YF)({open:r,onOpenChange:n,placement:"bottom-end",middleware:[(0,x.RR)(),(0,x.uY)()],whileElementsMounted:D.Me}),c=a.refs,u=a.floatingStyles,l=a.context,s=(0,I.bQ)(l),f=(0,I.NI)([s]),p=f.getReferenceProps,d=f.getFloatingProps,m=null;r&&(m=S.createElement("div",M({ref:c.setFloating,style:u,className:"popover popover--menu"},d()),S.createElement("p",null,S.createElement("strong",null,"Coming soon:")," Customize and share this view.")));var y=e.view,h=e.active,v=i()(y,["attributes","name"]),b=N()("view-tab",{"view-tab--active":h});return S.createElement("div",{onClick:function(t){var r=e.onSelect,n=e.view;t.preventDefault(),r(n.id)},className:b},S.createElement("div",{className:"view-tab__underlay"}),S.createElement("div",{className:"view-tab__label"},v),S.createElement("div",M({ref:c.setReference},p(),{className:"view-tab__actions"}),S.createElement(A.Z,{className:"unbutton dot-menu-icon min-mobile-hit-area",onClick:function(e){e.preventDefault(),o()}})),S.createElement("div",{className:"relative"},m))};H.defaultProps={className:"view-tab"};var U=H;function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,K(n.key),n)}}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function F(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=W(e);if(t){var o=W(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return function(e,t){if(t&&("object"===typeof t||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return z(e)}(this,r)}}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function W(e){return W=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},W(e)}function G(e,t,r){return(t=K(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}var Y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(a,e);var t,r,n,o=F(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return G(z(e=o.call.apply(o,[this].concat(r))),"handleSelect",(function(t){(0,e.props.onSelectView)(t)})),e}return t=a,r=[{key:"componentDidMount",value:function(){var e=this.props,t=e.tableId;(0,e.loadData)(t)}},{key:"render",value:function(){var e=this,t=this.props,r=t.currentViewId,n=t.tableId,o=t.views,a=t.className,c=S.createElement("div",null,"Loading views...");return o&&(c=C()(o,(function(t){var o=i()(t,["id"]),a=o===r,c="table-".concat(n,"-view-").concat(o);return S.createElement(U,{key:c,view:t,onSelect:e.handleSelect,active:a})}))),S.createElement("div",{className:a},c)}}],r&&B(t.prototype,r),n&&B(t,n),Object.defineProperty(t,"prototype",{writable:!1}),a}(S.Component);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}G(Y,"defaultProps",{loadData:R()});var Q=(0,_.$j)((function(e,t){var r=t.tableId,n=w(e),o=(0,P.jA)(e,{tableId:r}),a=function(e,t){var r=t.tableId;return i()(E(e),["fetchTableViews",r.toString(),"status"])}(e,t)||"idle",c=function(e,t){var r=t.tableId;return i()(E(e),["fetchTableViews",r.toString(),"error"])}(e,t);return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){$(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({currentViewId:n,tableId:r,views:o,status:a,error:c},t)}),(function(e){return{loadData:function(t){e(b({tableId:t}))},onSelectView:function(t){e(function(e){return{type:y,payload:e}}(t))}}}))(Y),J={ViewTabsContainer:Q},X=O},98449:function(e,t,r){r.r(t);r(92087),r(84633);var n=r(66073),o=r.n(n),i=r(27923),a=r(33646),c=r(99970);"undefined"!==typeof window&&(void 0===window.console&&(window.console={}),o()(["log","warn","info","dir"],(function(e){window.console.hasOwnProperty(e)||(window.console[e]=function(e){})})),"undefined"===typeof window.Timetoast&&(window.Timetoast={}));i.S({dsn:"https://c8af6e959e754fd98ca7f66d5a56e952@o143308.ingest.sentry.io/1131496",environment:"production",allowUrls:[/https?:\/\/((cdn|www)\.)?timetoast\.com/,/localhost/],denyUrls:[/extensions\//i,/^chrome:\/\//i,/^chrome-extension:\/\//i],integrations:[new c.S,new a.jK.GlobalHandlers({onunhandledrejection:false})],ignoreErrors:["ResizeObserver loop limit exceeded"],beforeSend:function(e,t){try{if("Extension context invalidated."===e.extra.__serialized__.detail.reason.message)return null}catch(r){return e}return e}})},80782:function(e,t,r){r.d(t,{Ki:function(){return l},Od:function(){return a},QF:function(){return u},wz:function(){return c},yi:function(){return s}});var n=r(22205),o=r.n(n),i=r(97234);function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFFFFF",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{primary:"#F3F3F3",secondary:"#FFFFFF",tertiary:"#808080",highlight:"#5A00FF",darkText:"#3f3f42",lightText:"#FFFFFF"};return(0,i.Z)(e).isLight()?t.darkText:t.lightText}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"#FFFFFF",t=(0,i.Z)(e);return t.isLight()?t.darken(10).toHexString():t.lighten(10).toHexString()}function u(e){var t=e.primary,r=e.secondary,n=e.tertiary,o=e.highlight;return"".concat(t,",").concat(r,",").concat(n,",").concat(o)}function l(e){var t=e.split(",");return o()({},{primary:"#F3F3F3",secondary:"#FFFFFF",tertiary:"#808080",highlight:"#5A00FF",darkText:"#3f3f42",lightText:"#FFFFFF"},{primary:t[0],secondary:t[1],tertiary:t[2],highlight:t[3]})}function s(){return{primary:"#F3F3F3",secondary:"#FFFFFF",tertiary:"#808080",highlight:"#5A00FF",darkText:"#3f3f42",lightText:"#FFFFFF"}}},72479:function(e,t,r){r.d(t,{Om:function(){return c}});var n=r(24268),o=r(63657),i=(0,n.HF)(),a=(0,n.oM)({name:"databases",initialState:i.getInitialState(),extraReducers:function(e){e.addCase(o.Z.RECEIVE_ENTITIES,(function(e,t){var r=t.payload;r.hasOwnProperty("databases")&&i.upsertMany(e,r.databases)}))}}),c=i.getSelectors((function(e){return e.data.databases}));t.ZP=a.reducer},30648:function(e,t,r){r.d(t,{TA:function(){return d}});var n=r(24268),o=r(20573),i=r(63105),a=r.n(i),c=r(27361),u=r.n(c),l=r(63657),s=(0,n.HF)(),f=(0,n.oM)({name:"fields",initialState:s.getInitialState(),extraReducers:function(e){e.addCase(l.Z.RECEIVE_ENTITIES,(function(e,t){var r=t.payload;r.hasOwnProperty("fields")&&s.upsertMany(e,r.fields)}))}}),p=s.getSelectors((function(e){return e.data.fields})),d=(0,o.P1)((function(e,t){return t.tableId}),p.selectAll,(function(e,t){return a()(t,(function(t){return u()(t,["attributes","table_id"]).toString()===e.toString()}))}));t.ZP=f.reducer},38754:function(e,t,r){r.d(t,{V:function(){return O}});var n=r(24268),o=r(27361),i=r.n(o),a=r(36968),c=r.n(a),u=r(84486),l=r.n(u),s=r(64721),f=r.n(s),p=r(82569),d=r.n(p);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,c=[],u=!0,l=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);u=!0);}catch(err){l=!0,o=err}finally{try{if(!u&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(l)throw o}}return c}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var g={isFetching:!1,hasFetchedBefore:!1,ids:[],currentPage:1,perPage:void 0,totalEntries:void 0},E=function(e){return e.payload.pageNumber.toString()},w=function(){return"lastTotals"};function O(e){var t=e.types,r=e.mapActionToKey,o=void 0===r?E:r,a=e.mapActionToTotalsKey,u=void 0===a?w:a;if(!Array.isArray(t))throw new Error("Expected types to be an array");if(!t.every((function(e){return"string"===typeof e})))throw new Error("Expected types to be strings.");if("function"!==typeof o)throw new Error("Expected mapActionToKey to be a function.");var s=v(t,4),p=s[0],m=s[1],h=s[2],b=s[3],O=function(e,t){e||(e=y({},g));switch(t.type){case p:return function(e,t){return e.isFetching=!0,e}(e);case m:return function(e,t){var r=t.payload,n=r.pagination,o=r.ids;return Object.assign(e,y(y({isFetching:!1,hasFetchedBefore:!0},n),{},{ids:o})),e}(e,t);case h:return function(e,t){return e.isFetching=!1,e}(e);case b:return function(e,t){var r=t.payload,n=Object.keys(e);return l()(n,(function(t){var n=i()(e,[t,"ids"]);n&&f()(n,r)&&c()(e,[t,"ids"],d()(n,r))})),e}(e,t)}};return(0,n.Lq)(g,(function(e){e.addMatcher((function(e){var t=e.type;return f()([p,m,h,b],t)}),(function(e,t){return function(e,t){var r=t.payload,n=(t.type,o(t));if("string"!==typeof n)throw new Error("Expected key to be a string.");var i=u(t),a=e[i]||{};if(r.hasOwnProperty("pagination")){var c=r.pagination;a=y(y({},a),c)}e[i]=a,""===n?O(e,t):e[n]=O(e[n],t)}(e,t)}))}))}},95912:function(e,t,r){r.d(t,{e_:function(){return f},uL:function(){return p},yO:function(){return d}});var n=r(24268),o=r(20573),i=r(63105),a=r.n(i),c=r(27361),u=r.n(c),l=r(63657),s=(0,n.HF)(),f=(0,n.oM)({name:"rows",initialState:s.getInitialState(),reducers:{rowRemove:s.removeOne},extraReducers:function(e){e.addCase(l.Z.RECEIVE_ENTITIES,(function(e,t){var r=t.payload;r.hasOwnProperty("rows")&&s.upsertMany(e,r.rows)}))}}),p=s.getSelectors((function(e){return e.data.rows})),d=(0,o.P1)((function(e,t){return t.tableId}),p.selectAll,(function(e,t){return a()(t,(function(t){return u()(t,["attributes","table_id"]).toString()===e.toString()}))}));t.ZP=f.reducer},71493:function(e,t,r){r.d(t,{_f:function(){return d},vJ:function(){return p}});var n=r(24268),o=r(20573),i=r(27361),a=r.n(i),c=r(63105),u=r.n(c),l=r(63657),s=(0,n.HF)(),f=(0,n.oM)({name:"tables",initialState:s.getInitialState(),extraReducers:function(e){e.addCase(l.Z.RECEIVE_ENTITIES,(function(e,t){var r=t.payload;r.hasOwnProperty("tables")&&s.upsertMany(e,r.tables)}))}}),p=s.getSelectors((function(e){return e.data.tables})),d=(0,o.P1)((function(e,t){return t.databaseId}),p.selectAll,(function(e,t){return u()(t,(function(t){return a()(t,["attributes","database_id"]).toString()===e.toString()}))}));t.ZP=f.reducer},15494:function(e,t,r){r.d(t,{Xe:function(){return y},jA:function(){return h}});var n=r(24268),o=r(27361),i=r.n(o),a=r(63105),c=r.n(a),u=r(13311),l=r.n(u),s=r(63657),f=(0,n.HF)(),p=f.getInitialState({ids:["0"],entities:{0:{id:"0",type:"views",attributes:{name:"Default",type:"Default",table_id:0}}}}),d=(0,n.oM)({name:"views",initialState:p,extraReducers:function(e){e.addCase(s.Z.RECEIVE_ENTITIES,(function(e,t){var r=t.payload;r.hasOwnProperty("views")&&f.upsertMany(e,r.views)}))}}),m=f.getSelectors((function(e){return e.data.views})),y=function(e,t){var r=t.viewId,n=m.selectAll(e);return l()(n,(function(e){return e.id.toString()===r.toString()}))},h=function(e,t){var r=t.tableId.toString(),n=m.selectAll(e);return c()(n,(function(e){var t=i()(e,["attributes","table_id"]).toString();return"0"===t||t===r}))};t.ZP=d.reducer},37563:function(e,t,r){function n(e,t){return e.data.categories}r.d(t,{C:function(){return n}})},47171:function(e,t,r){function n(e){return e.data.colorSchemes}function o(e){var t=n(e).current;return"string"===typeof t||"number"===typeof t?function(e,t){var r=t.colorSchemeId.toString();return n(e).entities[r]}(e,{colorSchemeId:t}):t}function i(e){return n(e).editable}r.d(t,{KF:function(){return o},xg:function(){return i}})},30233:function(e,t,r){r.d(t,{XN:function(){return f},ex:function(){return l},jA:function(){return s}});var n=r(20573),o=r(89734),i=r.n(o),a=r(52628),c=r.n(a);function u(e,t){return e.data.groups}var l=function(e,t){var r=t.groupId.toString();return u(e)[r]},s=function(e,t){return u(e)},f=(0,n.P1)([s],(function(e){return i()(c()(e),(function(e){return e.name}))}))},20983:function(e,t,r){r.d(t,{Hl:function(){return s},OB:function(){return u},gl:function(){return l}});var n=r(76700),o=r(35937),i=r.n(o),a=r(64721),c=r.n(a);function u(e,t){return e.data.markers}function l(e,t,r){var n=r.toString();return u(e)[n]}function s(e,t,r){var o=(0,n.VS)(e,t,r).marker_ids,a=u(e)||{};return i()(a,(function(e){return c()(o,e.id)}))}},30367:function(e,t,r){r.d(t,{sU:function(){return a},wP:function(){return i}});var n=r(27361),o=r.n(n);function i(e,t){return e.data.photos}function a(e,t){var r=t.photoId,n=r?r.toString():null;if(!n)return null;var a=i(e);return o()(a,n)||null}},76700:function(e,t,r){r.d(t,{Mn:function(){return P},VS:function(){return g},au:function(){return w},ks:function(){return b},su:function(){return _}});var n=r(20573),o=r(64721),i=r.n(o),a=r(52628),c=r.n(a),u=r(35937),l=r.n(u),s=r(89734),f=r.n(s),p=r(63105),d=r.n(p),m=(r(34567),r(20983)),y=r(99946),h=r(13812),v=function(e){var t=e.date||e.start_date;return h.Z.parse(t).getTime()};function b(e,t){return e.data.timelines}function g(e,t){var r=t.timelineId.toString();return e.data.timelines[r]}var E=(0,n.P1)([g,m.OB],(function(e,t){return l()(t,(function(t){return i()(e.marker_ids,t.id)}))})),w=(0,n.P1)([E],(function(e){return c()(e)})),O=(0,n.P1)([g,y.oS],(function(e,t){var r=e.timespan_ids;return l()(t,(function(e){return i()(r,e.id)}))})),_=(0,n.P1)([O],(function(e){return c()(e)})),P=(0,n.P1)([g,m.OB,y.oS],(function(e,t,r){var n=e.marker_ids,o=e.timespan_ids,a=d()(c()(t),(function(e){return i()(n,e.id)})),u=d()(c()(r),(function(e){return i()(o,e.id)})),l=a.concat(u);return f()(l,[v])}))},99946:function(e,t,r){r.d(t,{oS:function(){return u},w3:function(){return l},y2:function(){return s}});var n=r(35937),o=r.n(n),i=r(64721),a=r.n(i),c=r(76700);function u(e,t){return e.data.timespans}function l(e,t,r){var n=r.toString();return u(e)[n]}function s(e,t,r){var n=(0,c.VS)(e,t,r).timespan_ids,i=u(e)||{};return o()(i,(function(e){return a()(n,e.id)}))}},41521:function(e,t,r){r.d(t,{Ad:function(){return p},PR:function(){return s},Rf:function(){return l},Rt:function(){return d},ts:function(){return f}});var n=r(20573),o=r(35937),i=r.n(o),a=r(52628),c=r.n(a);function u(e){return e.data.users}function l(e,t){return u(e).entities}function s(e,t){var r=t.userId;return l(e)[r.toString()]||null}function f(e,t){var r=u(e),n=r.currentUserId;if(n&&0!==n){var o=n.toString();return r.entities[o]||null}return null}var p=(0,n.P1)([l,f],(function(e,t){return i()(e,(function(e){return e.id!==t.id}))})),d=(0,n.P1)([p],(function(e){return c()(e)}))},30303:function(e,t,r){function n(e){return e.ui.timelineShow}function o(e,t){return n(e).timelineCommentsLoadStatus}function i(e,t){return n(e).embedKeyLoadStatus}r.d(t,{e:function(){return i},o:function(){return o}})},48863:function(e,t,r){r.d(t,{Z:function(){return Ie}});var n=r(24268),o=r(97779),i=r(82569),a=r.n(i),c=r(84486),u=r.n(c),l=r(93386),s=r.n(l),f=r(63657),p=r(6617),d=r(2932),m=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_TIMELINE,(function(e,t){return function(e,t){var r=t.payload;return(0,p.uf)(e,r,y)}(e,t)})).addCase(f.Z.RECEIVE_TIMELINES,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r,y)}(e,t)})).addCase(f.Z.RECEIVE_MARKER,(function(e,t){return function(e,t){var r=t.payload;if((0,d.exists)(r)){var n=r.timeline_id.toString();if(!(0,d.exists)(n))throw new Error("Expected marker to have timeline_id");e[n].marker_ids=s()(e[n].marker_ids,[r.id])}return e}(e,t)})).addCase(f.Z.RECEIVE_MARKERS,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&u()(r,(function(t){var r=t.timeline_id.toString();if(!(0,d.exists)(r))throw new Error("Expected marker to have timeline_id");e[r].marker_ids=s()(e[r].marker_ids,[t.id])}));return e}(e,t)})).addCase(f.Z.RECEIVE_TIMESPAN,(function(e,t){return function(e,t){var r=t.payload;if((0,d.exists)(r)){var n=r.timeline_id.toString();if(!(0,d.exists)(n))throw new Error("Expected timespan to have timeline_id");e[n].timespan_ids=s()(e[n].timespan_ids,[r.id])}return e}(e,t)})).addCase(f.Z.RECEIVE_TIMESPANS,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&u()(r,(function(t){var r=t.timeline_id.toString();if(!(0,d.exists)(r))throw new Error("Expected timespan to have timeline_id");e[r].timespan_ids=s()(e[r].timespan_ids,[t.id])}));return e}(e,t)})).addCase(f.Z.PHOTO_DELETE_SUCCESS,(function(e,t){return function(e,t){var r=t.payload;return u()(e,(function(t){t.photo_ids.includes(r),e[t.id.toString()].photo_ids=a()(t.photo_ids,r)})),e}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("timeline")){var n=r.timeline;e=(0,p.uf)(e,n,y)}if(r.hasOwnProperty("timelines")){var o=r.timelines;e=(0,p.VX)(e,o,y)}if(r.hasOwnProperty("marker")){var i=r.marker,a=i.timeline_id.toString();if(!(0,d.exists)(a))throw new Error("Expected marker to have timeline_id");e[a].marker_ids=s()(e[a].marker_ids,[i.id])}if(r.hasOwnProperty("markers")){var c=r.markers;u()(c,(function(t){var r=t.timeline_id.toString();e[r].marker_ids=s()(e[r].marker_ids,[t.id])}))}if(r.hasOwnProperty("timespan")){var l=r.timespan,f=l.timeline_id.toString();if(!(0,d.exists)(f))throw new Error("Expected timespan to have timeline_id");e[f].timespan_ids=s()(e[f].timespan_ids,[l.id])}if(r.hasOwnProperty("timespans")){var m=r.timespans;u()(m,(function(t){var r=t.timeline_id.toString();e[r].timespan_ids=s()(e[r].timespan_ids,[t.id])}))}return e}(e,t)})).addCase(f.Z.REMOVE_ENTITY,(function(e,t){return function(e,t){var r=t.payload,n=r.entityId,o=r.entityType,i=r.parentEntityType,c=r.parentEntityId;if("timeline"===i){if("marker"===o){var u=c.toString();return e[u].marker_ids=a()(e[u].marker_ids,n),e}if("timespan"===o){var l=c.toString();return e[l].timespan_ids=a()(e[l].timespan_ids,n),e}}return e}(e,t)}))}));var y={id:0,title:"",description:"",category_ids:[1],photo_ids:[],marker_ids:[],timespan_ids:[]};var h=r(35161),v=r.n(h),b=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_MARKER,(function(e,t){return function(e,t){var r=t.payload;return(0,p.uf)(e,r,{id:0,timeline_id:0,title:"",description:"",photo_ids:[],date:"1978-12-24 00:00:00"}),e}(e,t)})).addCase(f.Z.RECEIVE_MARKERS,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r,{id:0,timeline_id:0,title:"",description:"",photo_ids:[],date:"1978-12-24 00:00:00"}),e}(e,t)})).addCase(f.Z.PHOTO_DELETE_SUCCESS,(function(e,t){return function(e,t){var r=t.payload;return v()(e,(function(e){e.photo_ids.includes(r)&&(e.photo_ids=a()(e.photo_ids,r))})),e}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("marker")){var n=r.marker;e=(0,p.uf)(e,n,{id:0,timeline_id:0,title:"",description:"",photo_ids:[],date:"1978-12-24 00:00:00"})}if(r.hasOwnProperty("markers")){var o=r.markers;e=(0,p.VX)(e,o,{id:0,timeline_id:0,title:"",description:"",photo_ids:[],date:"1978-12-24 00:00:00"})}return e}(e,t)})).addCase(f.Z.REMOVE_ENTITY,(function(e,t){return function(e,t){var r=t.payload,n=r.entityId;"marker"===r.entityType&&delete e[n];return e}(e,t)}))}));var g=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_TIMESPAN,(function(e,t){return function(e,t){var r=t.payload;return(0,p.uf)(e,r,{id:0,timeline_id:0,title:"",description:"",start_date:"1978-12-24 00:00:00",end_date:"1978-12-25 00:00:00"})}(e,t)})).addCase(f.Z.RECEIVE_TIMESPANS,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r,{id:0,timeline_id:0,title:"",description:"",start_date:"1978-12-24 00:00:00",end_date:"1978-12-25 00:00:00"})}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("timespan")){var n=r.timespan;e=(0,p.uf)(e,n,{id:0,timeline_id:0,title:"",description:"",start_date:"1978-12-24 00:00:00",end_date:"1978-12-25 00:00:00"})}if(r.hasOwnProperty("timespans")){var o=r.timespans;e=(0,p.VX)(e,o,{id:0,timeline_id:0,title:"",description:"",start_date:"1978-12-24 00:00:00",end_date:"1978-12-25 00:00:00"})}return e}(e,t)})).addCase(f.Z.REMOVE_ENTITY,(function(e,t){return function(e,t){var r=t.payload,n=r.entityId;"timespan"===r.entityType&&delete e[n];return e}(e,t)}))}));function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){O(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_TIMELINE_GRID_ITEMS,(function(e,t){return function(e,t){var r=t.payload;if((0,d.exists)(r))return w(w({},e),r);return e}(e,t)}))}));function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function j(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var C=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_CATEGORIES,(function(e,t){return function(e,t){var r=t.payload;if((0,d.exists)(r))return S(S({},e),r);return e}(e,t)}))}));var T={},R=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_PHOTO,(function(e,t){return function(e,t){var r=t.payload;return(0,p.uf)(e,r,T)}(e,t)})).addCase(f.Z.RECEIVE_PHOTOS,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r,T)}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("photo")){var n=r.photo;e=(0,p.uf)(e,n,T)}if(r.hasOwnProperty("photos")){var o=r.photos;e=(0,p.VX)(e,o,T)}return e}(e,t)})).addCase(f.Z.PHOTO_DELETE_SUCCESS,(function(e,t){return function(e,t){var r=t.payload;delete e[r]}(e,t)}))}));var k=r(82492),N=r.n(k),I=(0,n.Lq)({currentUserId:null,entities:{}},(function(e){e.addCase(f.Z.RECEIVE_USERS,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&u()(r,(function(t){var r=t.id.toString(),n=e.entities[r]||{};e.entities[r]=N()(n,t)}));return e}(e,t)})).addCase(f.Z.RECEIVE_CURRENT_USER,(function(e,t){return function(e,t){var r=t.payload;if((0,d.exists)(r)){var n=r.id.toString();e.currentUserId=r.id,e.entities[n]=N()(e.entities[n]||{},r)}return e}(e,t)})).addCase(f.Z.REMOVE_USERS,(function(e,t){return function(e,t){var r=t.payload;return u()(r,(function(t){return delete e.entities[t]})),e}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r,n=t.payload;if(n.hasOwnProperty("current_user")){var o=n.current_user;o&&(r=o.id.toString(),e.currentUserId=o.id,e.entities[r]=N()(e.entities[r]||{},o))}if(n.hasOwnProperty("user")){var i=n.user;r=i.id.toString(),e.entities[r]=N()(e.entities[r]||{},i)}if(n.hasOwnProperty("users")){var a=n.users;u()(a,(function(t){r=t.id.toString(),e.entities[r]=N()(e.entities[r]||{},t)}))}return e}(e,t)}))}));var x={},D=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_GROUP,(function(e,t){return function(e,t){var r=t.payload;return(0,p.uf)(e,r,x)}(e,t)})).addCase(f.Z.RECEIVE_GROUPS,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r,x)}(e,t)})).addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("group")){var n=r.group;e=(0,p.uf)(e,n,x)}if(r.hasOwnProperty("groups")){var o=r.groups;e=(0,p.VX)(e,o,x)}return e}(e,t)}))}));var A=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_TIMELINE_COMMENTS,(function(e,t){return function(e,t){var r=t.payload;return(0,p.VX)(e,r)}(e,t)}))}));var M=(0,n.Lq)([],(function(e){e.addCase(f.Z.ADD_TOAST,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&e.push(r);return e}(e,t)})).addCase(f.Z.REMOVE_TOAST,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&e.splice(e.findIndex((function(e){return e.uid===r})),1);return e}(e,t)}))}));var L=(0,n.Lq)([],(function(e){e.addCase(f.Z.RECEIVE_TAGS,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&(e=e.concat(r));return e}(e,t)}))}));var Z=(0,n.Lq)({showAds:!1},(function(e){e.addCase(f.Z.AD_VISIBILITY_CHANGE,(function(e,t){return function(e,t){var r=t.payload;return e.showAds=r,e}(e,t)}))}));function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function U(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){B(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function B(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var V=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_EMBED_KEYS,(function(e,t){return function(e,t){var r=t.payload;(0,d.exists)(r)&&(e=U(U({},e),r));return e}(e,t)}))}));function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_ENDPOINTS,(function(e,t){return function(e,t){var r=t.payload;return e=z(z({},e),r),e}(e,t)}))}));var K=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_FLASH,(function(e,t){return function(e,t){var r=t.payload,n=r.flash,o=r.contextIdentifier.toString(),i=e[o]||[],a=i.concat(n);return e[o]=a,e}(e,t)})).addCase(f.Z.CLEAR_FLASH,(function(e,t){return function(e,t){var r=t.payload,n=r.toString();return delete e[n],e}(e,t)}))}));var Y=r(22205),q=r.n(Y),$=r(80782),Q={current:"default",editable:(0,$.yi)(),entities:{default:(0,$.yi)()}},J=(0,n.Lq)(Q,(function(e){e.addCase(f.Z.CURRENT_COLOR_SCHEME_CHANGE,(function(e,t){return function(e,t){var r=t.payload;return e.current=q()((0,$.yi)(),e.current,r),e}(e,t)})).addCase(f.Z.EDITABLE_COLOR_SCHEME_CHANGE,(function(e,t){return function(e,t){var r=t.payload;return e.editable=q()((0,$.yi)(),e.editable,r),e}(e,t)}))}));var X=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("permission")){var n=r.permission;e=(0,p.uf)(e,n,{})}if(r.hasOwnProperty("permissions")){var o=r.permissions;e=(0,p.VX)(e,o,{})}return e}(e,t)})).addCase(f.Z.PERMISSION_DELETE_SUCCESS,(function(e,t){return function(e,t){var r=t.payload,n=r.toString();delete e[n]}(e,t)}))}));function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){re(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ne=(0,n.Lq)({},(function(e){e.addCase(f.Z.RECEIVE_ENTITIES,(function(e,t){return function(e,t){var r=t.payload;if(r.hasOwnProperty("memberships")){var n=r.memberships;Array.isArray(n)&&(n=(0,p.sB)(n,"id"));var o=Object.keys(n);u()(o,(function(t){var r=n[t],o=r.id.toString(),i=e[o];e[o]=te(te(te({},{}),i),r)}))}return e}(e,t)}))}));var oe=r(72479),ie=r(71493),ae=r(30648),ce=r(95912),ue=r(15494),le=r(37038),se={timelineCommentsLoadStatus:le.dQ,embedKeyLoadStatus:le.dQ},fe=(0,n.Lq)(se,(function(e){e.addCase(f.Z.LOAD_TIMELINE_COMMENTS_START,(function(e,t){return pe(e,le.Hw)})).addCase(f.Z.LOAD_TIMELINE_COMMENTS_SUCCESS,(function(e,t){return pe(e,le.MR)})).addCase(f.Z.LOAD_TIMELINE_COMMENTS_FAIL,(function(e,t){return pe(e,le.an)})).addCase(f.Z.LOAD_EMBED_KEY_START,(function(e,t){return de(e,le.Hw)})).addCase(f.Z.LOAD_EMBED_KEY_SUCCESS,(function(e,t){return de(e,le.MR)})).addCase(f.Z.LOAD_EMBED_KEY_FAIL,(function(e,t){return de(e,le.an)}))}));function pe(e,t){return e.timelineCommentsLoadStatus=t,e}function de(e,t){return e.embedKeyLoadStatus=t,e}var me=r(84672),ye=r(97147),he=r(42513),ve=r(93684),be=r(42996),ge=r(65115),Ee=r(39425),we=r(25846),Oe=r(14205),_e=r(71658),Pe={width:0,height:0};"undefined"!==typeof window&&(Pe.width=window.innerWidth?window.innerWidth:0,Pe.height=window.innerWidth?window.innerWidth:0);var Se=(0,n.Lq)(Pe,(function(e){e.addCase(f.Z.WINDOW_RESIZE,(function(e,t){var r=t.payload,n=r.width,o=r.height;e.width=n,e.height=o}))})),je={data:(0,o.UY)({timelines:m,markers:b,timespans:g,categories:C,photos:R,comments:A,users:I,groups:D,tags:L,permissions:X,memberships:ne,timelineGridItems:_,databases:oe.ZP,tables:ie.ZP,fields:ae.ZP,rows:ce.ZP,views:ue.ZP,toasts:M,ads:Z,embedKeys:V,endpoints:G,flashMessages:K,colorSchemes:J}),ui:(0,o.UY)({timelineShow:fe}),commentModeration:me.Z,groupTimelines:ve.ZP,timelineListings:he.ZP,permissionManagement:Ee.ZP,photoLibrary:be.Z,sharing:ge.ZP,tableViews:we.ZP,selectable:Oe.ZP,entitySaver:ye.ZP,browser:(0,o.UY)({window:Se}),siteSearch:_e.ZP},Ce=function(e){return function(e){return function(t){if("object"===typeof t){var r=t.type;void 0!==r&&"undefined"!==r||(console.error("An action object with an undefined type was dispatched"),console.dir(t),console.trace())}return e(t)}}};function Te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Te(Object(r),!0).forEach((function(t){ke(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ke(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ne(e){return(0,o.UY)(Re(Re({},je),e))}var Ie=function(){var e=(0,n.xC)({reducer:Ne(),middleware:function(e){return e().prepend(Ce)}});return e.asyncReducers={},e.injectReducer=function(t,r){e.asyncReducers[t]=r,e.replaceReducer(Ne(e.asyncReducers))},e}({})},12981:function(e,t,r){r.r(t);var n=r(34567);Date.prototype.toTemporalInstant=n.OZ},41993:function(e,t,r){function n(){if("object"===typeof window){var e=document.querySelector('meta[name="csrf-token"]');return e?e.getAttribute("content"):""}return""}r.d(t,{Z:function(){return n}})},41226:function(e,t,r){r.r(t),r.d(t,{loadJSONFromDOMNode:function(){return i}});var n=r(69111),o=r(50740);function i(e){var t,r=document.getElementById(e),i=(0,o.gK)(r.textContent),a=(new n.tQ).decode(i);try{t=JSON.parse(a)}catch(err){"SyntaxError"===err.name?console.warn("Tried to parse this invalid JSON here ->",a,"<-- It may be undefined, or an empty string which would trigger a Syntax Error."):console.warn("Invalid JSON parse"),console.warn("Returning an empty json object"),t=JSON.parse("{}")}return t}},17109:function(e,t,r){r.d(t,{L4:function(){return l},iH:function(){return u},y1:function(){return c},zU:function(){return a}});var n=r(69111),o=r(6617),i=r(69082);function a(e){return l(function(e){var t=new i.V_("timelines"),r=new i.V_("markers"),o=new i.V_("timespans"),a=new i.V_("users"),c=new i.V_("photos"),u=new i.V_("categories");t.define({timeline:t,categories:(0,i.CT)(u),photos:(0,i.CT)(c),markers:(0,i.CT)(r),timespans:(0,i.CT)(o),owner:a}),r.define({photos:(0,i.CT)(c)});var l=(0,i.Fv)(e,t);if(l.entities.categories){var s=(new n.tQ).decode;Object.keys(l.entities.categories).forEach((function(e){l.entities.categories[e].name=s(l.entities.categories[e].name)}))}return l}(e))}function c(e){return l(function(e){var t=new i.V_("markers"),r=new i.V_("photos");return t.define({photos:(0,i.CT)(r)}),(0,i.Fv)(e,t)}(e))}function u(e){return l(function(e){var t=new i.V_("timespans");return(0,i.Fv)(e,t)}(e))}function l(e){var t=e.entities;return t.timelines&&function(e){Object.keys(e).forEach((function(t){e[t]=(0,o.u6)(e[t],[["categories","category_ids"],["markers","marker_ids"],["timespans","timespan_ids"],["photos","photo_ids"],["owner","owner_id"]])}))}(t.timelines),t.markers&&function(e){Object.keys(e).forEach((function(t){e[t]=(0,o.u6)(e[t],[["photos","photo_ids"]])}))}(t.markers),e}},2932:function(e,t,r){function n(e){return null!==e&&void 0!==e}r.r(t),r.d(t,{exists:function(){return n}})},45397:function(e,t,r){r.r(t),r.d(t,{hydrateCategoriesFromJSON:function(){return P},hydrateCommentsFromDOMNode:function(){return w},hydrateCompleteTimelineFromDOMNode:function(){return _},hydrateCurrentUser:function(){return h},hydrateCurrentUserFromDOMNode:function(){return v},hydrateGroupFromDOMNode:function(){return g},hydrateGroupsFromDOMNode:function(){return E},hydrateTagsFromDOMNode:function(){return S},hydrateTimelineGridItemsFromDOMNode:function(){return O},hydrateUsersFromDOMNode:function(){return b}});var n=r(69082),o=r(69111),i=r(48863),a=r(41226),c=r(56038),u=r(63657);var l=r(29006),s=r(80340),f=r(72992),p=r(57781);var d=r(46784),m=r(17109),y=r(6617);function h(){v("current-user-data")}function v(e){var t=(0,a.loadJSONFromDOMNode)(e);i.Z.dispatch((0,p.RV)(t.current_user))}function b(e){var t=(0,a.loadJSONFromDOMNode)(e),r=(0,y.sB)(t);i.Z.dispatch((0,p.QH)(r))}function g(e){var t,r=(0,a.loadJSONFromDOMNode)(e);i.Z.dispatch((t=r,{type:u.Z.RECEIVE_GROUP,payload:t}))}function E(e){var t,r=(0,a.loadJSONFromDOMNode)(e),n=(0,y.sB)(r);i.Z.dispatch((t=n,{type:u.Z.RECEIVE_GROUPS,payload:t}))}function w(e){var t={comments:(0,a.loadJSONFromDOMNode)(e)},r=new n.V_("comments"),o=new n.V_("users");r.define({user:o});var c=(0,n.Fv)(t,{comments:(0,n.CT)(r),users:(0,n.CT)(o)});i.Z.dispatch((0,p.QH)(c.entities.users)),i.Z.dispatch((0,d.wb)(c.entities.comments))}function O(e){var t=(0,a.loadJSONFromDOMNode)(e),r=new n.V_("grid_items"),o=new n.V_("timelines");r.define({timeline:o});var u=(0,m.L4)((0,n.Fv)(t.grid_items,(0,n.CT)(r)));i.Z.dispatch((0,c.h)(u.entities.timelines)),i.Z.dispatch((0,l.C)(u.entities.grid_items))}function _(e){var t=(0,a.loadJSONFromDOMNode)(e),r=(0,m.zU)(t).entities,n=r.timelines,o=r.categories,l=r.photos,d=r.markers,y=r.timespans,h=r.users;h&&i.Z.dispatch((0,p.QH)(h)),o&&i.Z.dispatch((0,f.B)(o)),l&&i.Z.dispatch((0,s.wD)(l)),n&&i.Z.dispatch((0,c.h)(n)),d&&i.Z.dispatch(function(e){return{type:u.Z.RECEIVE_MARKERS,payload:e}}(d)),y&&i.Z.dispatch(function(e){return{type:u.Z.RECEIVE_TIMESPANS,payload:e}}(y))}function P(e){var t=(new o.tQ).decode(e),r=JSON.parse(t),a=new n.V_("categories"),c=(0,n.Fv)(r,(0,n.CT)(a));i.Z.dispatch((0,f.B)(c.entities.categories))}function S(e){var t,r=(0,a.loadJSONFromDOMNode)(e);i.Z.dispatch((t=r,{type:u.Z.RECEIVE_TAGS,payload:t}))}},3877:function(e,t,r){function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.floor(e/t)*t}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Math.ceil(e/t)*t}function i(e,t,r){return Math.min(Math.max(e,t),r)}function a(e,t){for(var r,n=0,o=0,i=e.length,a=0;a<i;a++)r=Math.pow(t,i-a-1),n+=e[a]*r,o+=r;return n/o}r.r(t),r.d(t,{calculateWeightedAverage:function(){return a},clamp:function(){return i},roundDown:function(){return n},roundUp:function(){return o}})},6617:function(e,t,r){r.d(t,{VX:function(){return d},k5:function(){return s},sB:function(){return p},u6:function(){return f},uf:function(){return m}});var n=r(84486),o=r.n(n),i=r(68929),a=r.n(i),c=r(54061),u=r.n(c),l=r(2932);function s(e){var t=Object.keys(e);return o()(t,(function(t){var r=t,n=a()(t);n!==r&&(e[n]=e[r],delete e[r])})),e}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).forEach((function(t){e=function(e,t,r){e.hasOwnProperty(t)&&(e[r]=e[t],delete e[t]);return e}(e,t[0],t[1])})),e}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"id";return u()(e,(function(e,r){return r.hasOwnProperty(t)||console.warn("Expected array item to have a ".concat(t," property")),e[r[t]]=r,e}),{})}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return(0,l.exists)(t)?(Array.isArray(t)&&(t=p(t,"id")),o()(t,(function(t){m(e,t,r)})),e):e}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!(0,l.exists)(t))return e;if(t.hasOwnProperty("id")){var n=t.id.toString(),o=e[n]||{};e[n]=Object.assign({},r,o,t)}else console.warn("Skipping entity, expected it to have an id property");return e}},8846:function(e,t,r){var n=r(27361),o=r.n(n),i=r(64975),a=r(80340),c=r(55808),u=r(20036);function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}var s=1200,f=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.runningPolls={}}var t,r,n;return t=e,r=[{key:"startPollingIfNeeded",value:function(e,t){if("function"!==typeof t)throw new Error("Expected dispatch to be a function");var r=o()(e,["id"]);if(!this.runningPolls[r]&&(!1===o()(e,["image_processing_complete"])||!1===o()(e,["attributes","image_processing_complete"]))){this.runningPolls[r]={id:r,count:0,errorCount:0,dispatch:t};var n=e.hasOwnProperty("attributes")?2:1;setTimeout(this._poll.bind(this,r,n),s)}}},{key:"_poll",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;i.Z.fetchPhoto(e,r).then((function(n){var i,l=(0,u.Z)(n);t.runningPolls[e].count++,i=2===r?(0,c.Z)(l.body,{camelizeKeys:!1}).photos[e]:l.body;var f=t.runningPolls[e].count;if(!1===o()(i,["image_processing_complete"])||!1===o()(i,["attributes","image_processing_complete"])){var p=s*f;t._reachedPollCap(e)?t._removePoll(e):setTimeout(t._poll.bind(t,e,r),p)}else t.runningPolls[e].dispatch((0,a.WZ)(i)),t._removePoll(e)}),(function(n){t.runningPolls[e].errorCount++;var o=t.runningPolls[e],i=o.errorCount,a=o.count;if(!(i>=1))if(t._reachedPollCap(e))t._removePoll(e);else{var c=s*a;setTimeout(t._poll.bind(t,e,r),c)}}))}},{key:"_removePoll",value:function(e){delete this.runningPolls[e]}},{key:"_reachedPollCap",value:function(e){return this.runningPolls[e].count>=10}}],r&&l(t.prototype,r),n&&l(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.Z=new f},50740:function(e,t,r){r.d(t,{$G:function(){return a},gK:function(){return l},kC:function(){return i},rL:function(){return s},vN:function(){return f},vk:function(){return c},yo:function(){return u}});var n=r(32475),o=r.n(n);function i(e){return e.charAt(0).toUpperCase()+e.slice(1)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"...";return t<r.length?r.slice(0,t):e.length>t?"".concat(e.slice(0,t-r.length).trim()).concat(r):e}function c(e){return t=e,r=2,o()(t,r,"0");var t,r}function u(e){return"0"===e[0]?e[1]:e}function l(e){return e.replace(/^\s+|\s+$/gm,"")}function s(e){return e.replace(/\D/g,"")}function f(e){return-1!=e.search(/^(null|undefined)$/)}},48351:function(e,t,r){r.r(t),r.d(t,{elapsedDays:function(){return A},findClosestMagnitude:function(){return G},getAllYears:function(){return W},getCenturiesBetween:function(){return w},getDaysBetween:function(){return d},getDecadesBetween:function(){return g},getDecamilleniaBetween:function(){return S},getEndOfCentury:function(){return U},getEndOfDecade:function(){return Z},getEndOfDecamillenium:function(){return z},getEndOfHalfCentury:function(){return H},getEndOfHalfDecade:function(){return L},getEndOfHalfDecamillenium:function(){return F},getEndOfHalfMillenium:function(){return B},getEndOfMillenium:function(){return V},getHalfCenturiesBetween:function(){return E},getHalfDecadesBetween:function(){return b},getHalfDecamilleniaBetween:function(){return P},getHalfMilleniaBetween:function(){return O},getHalfYearsBetween:function(){return h},getMilleniaBetween:function(){return _},getMonthsBetween:function(){return y},getStartsOfWeekBetween:function(){return m},getYearsBetween:function(){return v},isCenturyYear:function(){return k},isDecadeYear:function(){return T},isDecamilleniumYear:function(){return D},isHalfCenturyYear:function(){return R},isHalfDecadeYear:function(){return C},isHalfDecamilleniumYear:function(){return x},isHalfMilleniumYear:function(){return N},isMilleniumYear:function(){return I},toUTCDateTimeString:function(){return p}});var n=r(34567),o=r(93220),i=r.n(o),a=r(50740),c=r(3877),u=r(13812),l=r(27827),s=0,f=1;function p(e){var t=[(0,a.vk)(e.year),(0,a.vk)(e.month),(0,a.vk)(e.day)],r=[(0,a.vk)(e.hours),(0,a.vk)(e.minutes),(0,a.vk)(e.seconds)];return t.join("-")+" "+r.join(":")}function d(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=A(e,t)+1,c=1;c<=a;c++)(r=n.add({days:c}).startOfDay()).epochMilliseconds>n.epochMilliseconds&&r.epochMilliseconds<o.epochMilliseconds&&i.push(r);return i}function m(e,t){for(var r=e.temporal,o=t.temporal,i=[],a=(8-r.dayOfWeek)%7,c=r.add({days:a}).startOfDay(),u=!1,l=0,s=c;!u;){if(l>0&&(s=c.add({days:7*l})),!(n.AT.ZonedDateTime.compare(s,o)<0)){u=!0;break}i.push(s),l++}return i}function y(e,t){var r,n,o,i,a,c=e.temporal,l=t.temporal,s=[],f=c.year,p=l.year;if(f!=p)for(var d=W(e,t),m=d.length,y=0;y<m;y++)if((r=d[y])===f)for(var h=n=c.month+1;h<=12;h++)a=u.Z.fromUTC(r,h,1,0,0,0,0).temporal,s.push(a);else if(r===p){o=l.month;for(var v=1;v<=o;v++)a=u.Z.fromUTC(r,v,1,0,0,0,0).temporal,s.push(a)}else for(var b=1;b<=12;b++)a=u.Z.fromUTC(r,b,1,0,0,0).temporal,s.push(a);else{r=f,n=c.month,i=(o=l.month)-n;for(var g=1;g<i;g++)a=u.Z.fromUTC(r,n+g,1,0,0,0,0).temporal,s.push(a)}return s}function h(e,t){var r=e.temporal,o=t.temporal,i=[],a=r;r.month<7?a=u.Z.fromUTC(r.year,7,1,0,0,0,0).temporal:r.month>=7&&(a=u.Z.fromUTC(r.year+1,1,1,0,0,0,0).temporal),n.AT.ZonedDateTime.compare(a,o)<0&&i.push(a);for(var c=!1;!c;)a=a.add({months:6}),n.AT.ZonedDateTime.compare(a,o)<0?i.push(a):c=!0;return i}function v(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year+1,c=o.year;a<=c;)r=u.Z.fromUTC(a,1,1,0,0,0,0).temporal,i.push(r),a++;return i}function b(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=L(a);l<=c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+5,l<s&&r>=f&&(r=s),l=r;return i}function g(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=Z(a);l<=c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+10,l<s&&r>=f&&(r=s),l=r;return i}function E(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=H(a);l<=c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+50,l<s&&r>=f&&(r=s),l=r;return i}function w(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=U(a);l<c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+100,l<s&&r>=f&&(r=s),l=r;return i}function O(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=B(a);l<=c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+500,l<s&&r>=f&&(r=s),l=r;return i}function _(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=V(a);l<c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+1e3,l<s&&r>=f&&(r=s),l=r;return i}function P(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=F(a);l<c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+5e3,l<s&&r>=f&&(r=s),l=r;return i}function S(e,t){for(var r,n=e.temporal,o=t.temporal,i=[],a=n.year,c=o.year,l=z(a);l<c;)i.push(u.Z.fromUTC(l,1,1,0,0,0,0).temporal),r=l+1e4,l<s&&r>=f&&(r=s),l=r;return i}function j(e){return e<=0?Math.abs(e)+1:e}function C(e){return 0===e||j(e)%5===0}function T(e){return 0===e||j(e)%10===0}function R(e){return 0===e||j(e)%50===0}function k(e){return 0===e||j(e)%100===0}function N(e){return 0===e||j(e)%500===0}function I(e){return 0===e||j(e)%1e3===0}function x(e){return 0===e||j(e)%5e3===0}function D(e){return 0===e||j(e)%1e4===0}function A(e,t){var r=e.temporal,n=t.temporal;return Math.floor((n.epochMilliseconds-r.epochMilliseconds)/l.IL.day)}function M(e,t,r){if(e>=0)return t(e)?e+r:(0,c.roundUp)(e,r);if(t(e))return e+r;var n=(0,c.roundUp)(e,r)+1;return n>0?0:n}function L(e){return M(e,C,5)}function Z(e){return M(e,T,10)}function H(e){return M(e,R,50)}function U(e){return M(e,k,100)}function B(e){return M(e,N,500)}function V(e){return M(e,I,1e3)}function F(e){return M(e,x,5e3)}function z(e){return M(e,D,1e4)}function W(e,t){for(var r=e.temporal,n=t.temporal,o=r.year,i=n.year-o+1,a=[],c=0;c<i;c++)a.push(o+c);return a}function G(e){for(var t,r=null,n=null,o=i()(l.IL),a=0,c=o.length;a<c;a++)t=Math.abs(o[a][1]-Math.abs(e)),(null===r||t<=r)&&(r=t,n=a);return o[n][0]}},8063:function(e,t,r){r.d(t,{i:function(){return i}});var n=r(20036),o=r(69111),i=function(e){var t;if(e.response){var r,i=(0,n.Z)(e.response),a=(new o.tQ).decode(i.text);try{r=JSON.parse(a)}catch(c){t=e.message||"Error"}switch(i.status){case 422:case 403:case 404:case 408:t=r.errors||"Error";break;default:t=e.message||"Error"}}else t=(e.request,e.message||"Error");return t}},75993:function(e,t,r){r.r(t),r.d(t,{default:function(){return c}});var n=r(34567),o=r(27827),i=r(13812);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,(o=n.key,i=void 0,"symbol"===typeof(i=function(e,t){if("object"!==typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"))?i:String(i)),n)}var o,i}var c=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,c;return t=e,c=[{key:"day",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UTC",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gregory",o="",a=e instanceof i.Z?e.temporal:e;if(a instanceof n.AT.ZonedDateTime||a instanceof n.AT.PlainDate)o=a.day;else{if(!(a instanceof n.AT.Instant))throw new Error("Unsupported temporal class : ".concat(a));o=a.toZonedDateTimeISO(t).withCalendar(r).day}return o.toString()}},{key:"year",value:function(e){var t,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UTC",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gregory",c=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],u="",l=e instanceof i.Z?e.temporal:e;if(l instanceof n.AT.ZonedDateTime||l instanceof n.AT.PlainDate)t=l.year,r=t<=0?t-1:t;else{if(!(l instanceof n.AT.Instant))throw new Error("Unsupported temporal class : ".concat(l));var s=temporal.toZonedDateTimeISO(o).withCalendar(a);t=s.year,r=s.eraYear}var f=Math.abs(r),p=f.toString().length>4;switch(Math.sign(t)){case 1:u=c&&1===t?"1 CE":p?t.toLocaleString():t.toString();break;case 0:case-1:var d=p?f.toLocaleString():f.toString();u=c?"".concat(d," BCE"):d}return u}},{key:"abbreviatedMonth",value:function(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UTC",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gregory",c=e instanceof i.Z?e.temporal:e;if(c instanceof n.AT.ZonedDateTime||c instanceof n.AT.PlainDate)t=c.month-1;else{if(!(c instanceof n.AT.Instant))throw new Error("Unsupported temporal class : ".concat(temporalClassName));t=c.toZonedDateTimeISO(r).withCalendar(a).month-1}return o.OE[t]}},{key:"humanDate",value:function(t){var r,o,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"UTC",c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"gregory",u=t;if(t instanceof i.Z){if(t.yearOnly)return e.year(t);u=t.temporal}if(u instanceof n.AT.ZonedDateTime||u instanceof n.AT.PlainDate){r=u.day;var l=u.year;o=l<=0?l-1:l}else{if(!(u instanceof n.AT.Instant))throw new Error("Unsupported temporal class : ".concat(temporalClassName));var s=u.toZonedDateTimeISO(a).withCalendar(c);r=s.day,o=s.eraYear}return"".concat(e.abbreviatedMonth(t)," ").concat(r,", ").concat(Math.abs(o))}}],(r=null)&&a(t.prototype,r),c&&a(t,c),Object.defineProperty(t,"prototype",{writable:!1}),e}()},20537:function(e,t,r){r.r(t),r.d(t,{rectContains:function(){return o},rectsIntersect:function(){return n}});var n=function(e,t){return e.x<=t.x+t.width&&e.x+e.width>=t.x&&e.y<=t.y+t.height&&e.y+e.height>=t.y},o=function(e,t){return!(t.x<e.x||t.y<e.y||t.x+t.width>e.x+e.width||t.y+t.height>e.y+e.height)}}}]);
//# sourceMappingURL=931-9d76f4dd2b593dd02a10.js.map